(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3rMe":function(l,n,u){"use strict";u.r(n);var t=u("LoAr"),e=function(){return function(){}}(),r=u("C9Ky"),i=u("HjcA"),o=u("jWju"),a=u("D57K"),s=u("cHUu"),c=function(){function l(l,n,u,t,e,r,i){this.storage=l,this.router=n,this.cinerinoService=u,this.purchase=t,this.error=e,this.awsCognito=r,this.user=i}return l.prototype.ngOnInit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n;return Object(a.__generator)(this,function(u){switch(u.label){case 0:if(u.trys.push([0,9,,10]),this.parameters=this.storage.load("parameters",s.b.Session),this.parameters.signInRedirect||(this.user.reset(),this.user.load(),this.user.save()),!this.parametersChack())throw new Error("parameters is undefined");return this.user.setNative(this.parameters.native),this.user.setClientId(this.parameters.clientId),this.user.save(),this.parameters.member!==s.a.Member||this.parameters.signInRedirect?[3,2]:[4,this.cinerinoService.signIn()];case 1:return u.sent(),[2];case 2:return void 0===this.parameters.identityId?[3,4]:[4,this.awsCognito.authenticateWithDeviceId(this.parameters.identityId)];case 3:u.sent(),u.label=4;case 4:return[4,this.cinerinoService.getServices()];case 5:return u.sent(),[4,this.cinerinoService.event.findById({id:this.parameters.performanceId})];case 6:return l=u.sent(),[4,this.purchase.isSalse(l)];case 7:if(!u.sent())throw new Error("Unable to start sales");return void 0!==this.purchase.data.transaction&&this.purchase.isExpired()&&this.purchase.reset(),void 0!==this.purchase.data.tmpSeatReservationAuthorization?(this.storage.save("screeningEvent",l,s.b.Session),this.router.navigate(["/purchase/overlap"]),[2]):[4,this.purchase.transactionStartProcess({passportToken:this.parameters.passportToken,screeningEvent:l})];case 8:return u.sent(),this.storage.remove("parameters",s.b.Session),this.router.navigate(["/purchase/seat"],{replaceUrl:!0}),[3,10];case 9:return n=u.sent(),this.error.redirect(n),[3,10];case 10:return[2]}})})},l.prototype.parametersChack=function(){var l=!0;return void 0!==this.parameters.passportToken&&void 0!==this.parameters.performanceId||(l=!1),l},l}(),b=u("K5Ob"),d=u("981U"),p=u("espW"),m=u("4V6S"),g=u("kttE"),h=u("dpdH"),f=u("a82V"),v=t.pb({encapsulation:0,styles:[[""]],data:{}});function C(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(1,114688,null,0,o.a,[],{show:[0,"show"]},null)],function(l,n){l(n,1,0,!0)},null)}function x(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-transaction",[],null,null,null,C,v)),t.qb(1,114688,null,0,c,[b.b,d.l,p.a,m.a,g.a,h.a,f.b],null,null)],function(l,n){l(n,1,0)},null)}var k=t.nb("app-purchase-transaction",c,x,{},{},[]),y=u("IHII"),D=u("IfiR"),O=u("y3c2"),J=u("icHh"),w=u("PIN6"),L=u("cF7s"),I=function(){function l(){}return l.prototype.ngOnInit=function(){this.availability=this.getAvailability(this.getVacancyRate())},l.prototype.getVacancyRate=function(){return void 0===this.data.remainingAttendeeCapacity||void 0===this.data.maximumAttendeeCapacity?void 0:this.data.remainingAttendeeCapacity/this.data.maximumAttendeeCapacity*100},l.prototype.getAvailability=function(l){var n=[{text:"満席",className:"vacancy-full"},{text:"残りわずか",className:"vacancy-little"},{text:"空席あり",className:"vacancy-large"}];return 0===l||void 0===l?n[0]:l<=10?n[1]:n[2]},l.prototype.start=function(){var l=this.getVacancyRate();if(0!==l&&void 0!==l){var n=Object(L.k)({id:this.data.identifier,member:this.member?"1":"0"});location.href=w.a.ENTRANCE_SERVER_URL+"/purchase/index.html?"+n}},l}(),P=t.pb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:25%;padding:0 0 0 10px;margin:0 0 20px}@media screen and (max-width:1024px){[_nghost-%COMP%]{width:33.3%}}li.disabled[_ngcontent-%COMP%]{opacity:.5}li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{border:2px solid #afafaf;cursor:pointer}li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{padding:10px 15px;border-bottom:1px solid #777;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;background-color:#515151}@media screen and (max-width:767px){[_nghost-%COMP%]{width:50%;margin:0 0 10px}li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{padding:10px}}li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{width:60px}li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px;margin:0 auto}li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{padding:10px 0}.vacancy-full[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{background-image:url(/assets/images/common/status_03.svg)}.vacancy-little[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{background-image:url(/assets/images/common/status_02.svg)}.vacancy-large[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{background-image:url(/assets/images/common/status_01.svg)}"]],data:{}});function q(l){return t.Lb(0,[t.Eb(0,O.a,[]),(l()(),t.rb(1,0,null,null,17,"li",[],[[8,"className",0]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.start()&&t),t},null,null)),(l()(),t.rb(2,0,null,null,16,"dl",[],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,12,"dt",[],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,7,"div",[["class","text-left"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,3,"div",[["class","text-large mb-1"]],null,null,null,null,null)),(l()(),t.rb(6,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t.Jb(7,null,["",""])),t.Gb(8,2),(l()(),t.rb(9,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Jb(10,null,["～",""])),t.Gb(11,2),(l()(),t.rb(12,0,null,null,3,"div",[["class","text-center text-small status"]],null,null,null,null,null)),(l()(),t.rb(13,0,null,null,1,"div",[["class","mb-1 text"]],null,null,null,null,null)),(l()(),t.Jb(14,null,["",""])),(l()(),t.rb(15,0,null,null,0,"div",[["class","image"]],null,null,null,null,null)),(l()(),t.rb(16,0,null,null,2,"dd",[["class","text-small text-center"]],null,null,null,null,null)),(l()(),t.rb(17,0,null,null,1,"div",[["class","screen-name"]],null,null,null,null,null)),(l()(),t.Jb(18,null,["",""]))],null,function(l,n){var u=n.component;l(n,1,0,t.vb(1,"button white-button ",u.availability.className,""));var e=t.Kb(n,7,0,l(n,8,0,t.Db(n,0),u.data.startDate,null==u.data.coaInfo?null:u.data.coaInfo.dateJouei));l(n,7,0,e);var r=t.Kb(n,10,0,l(n,11,0,t.Db(n,0),u.data.endDate,null==u.data.coaInfo?null:u.data.coaInfo.dateJouei));l(n,10,0,r),l(n,14,0,u.availability.text),l(n,18,0,null==u.data.location.name?null:u.data.location.name.ja)})}var M=u("sXjU"),_=u("WT9V"),N=function(){function l(){}return l.prototype.ngOnInit=function(){var l=this.data.films[0];this.title=void 0===l.name.ja?"":l.name.ja,this.duration=void 0===l.workPerformed||null==l.workPerformed.duration?"":l.workPerformed.duration},l}(),T=t.pb({encapsulation:0,styles:[["li[_ngcontent-%COMP%]{border-radius:5px;color:#333;overflow:hidden}li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{color:#fff;background-color:#515151;padding:20px 25px}li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{color:#fff;background-color:#2d2d2d;padding:20px 20px 0}@media screen and (max-width:767px){li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{padding:10px 10px 0}}li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 -10px}"]],data:{}});function S(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-film-order-performance",[],null,null,null,q,P)),t.qb(1,114688,null,0,I,[],{data:[0,"data"],member:[1,"member"]},null)],function(l,n){l(n,1,0,n.context.$implicit,n.component.member)},null)}function F(l){return t.Lb(0,[t.Eb(0,M.a,[]),(l()(),t.rb(1,0,null,null,12,"li",[["class","performance mb-1"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,11,"dl",[],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,6,"dt",[],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,2,"div",[["class","mb-1"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(6,null,["",""])),(l()(),t.rb(7,0,null,null,2,"div",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(8,null,["","分"])),t.Gb(9,2),(l()(),t.rb(10,0,null,null,3,"dd",[],null,null,null,null,null)),(l()(),t.rb(11,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,S)),t.qb(13,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,13,0,n.component.data.films)},function(l,n){var u=n.component;l(n,6,0,u.title);var e=t.Kb(n,8,0,l(n,9,0,t.Db(n,0),u.duration,"minutes"));l(n,8,0,e)})}var E=u("wgY5"),$=function(){function l(l,n,u){this.error=l,this.purchase=n,this.cinerinoService=u,this.environment=w.a,this.theaters=[],this.dateList=[],this.filmOrder=[],this.conditions={theater:"",date:"",member:!1}}return l.prototype.ngOnInit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n;return Object(a.__generator)(this,function(u){switch(u.label){case 0:window.scrollTo(0,0),this.isLoading=!0,u.label=1;case 1:return u.trys.push([1,5,,6]),[4,this.cinerinoService.getServices()];case 2:return u.sent(),[4,this.cinerinoService.seller.search({})];case 3:return l=u.sent(),this.theaters=l.data.filter(function(l){return null!=l.location&&void 0!==l.location.branchCode}),this.dateList=this.getDateList(),this.conditions={theater:"120",date:this.dateList[0].value,member:!1},[4,this.changeConditions()];case 4:return u.sent(),[3,6];case 5:return n=u.sent(),this.error.redirect(n),[3,6];case 6:return this.isLoading=!1,[2]}})})},l.prototype.getDateList=function(){for(var l=[],n=0;n<35;n++){var u=E().add(n,"day");l.push({value:u.format("YYYYMMDD"),label:u.format("YYYY/MM/DD(ddd)")})}return l},l.prototype.changeConditions=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n;return Object(a.__generator)(this,function(u){switch(u.label){case 0:this.isLoading=!0,this.filmOrder=[],u.label=1;case 1:return u.trys.push([1,4,,5]),[4,this.cinerinoService.getServices()];case 2:return u.sent(),[4,this.cinerinoService.event.search({typeOf:J.factory.chevre.eventType.ScreeningEvent,eventStatuses:[J.factory.chevre.eventStatusType.EventScheduled],superEvent:{locationBranchCodes:[this.conditions.theater]},startFrom:E(this.conditions.date).toDate(),startThrough:E(this.conditions.date).add(1,"day").toDate()})];case 3:return l=u.sent(),this.schedules=l.data,this.filmOrder=this.getEventFilmOrder(),[3,5];case 4:return n=u.sent(),this.error.redirect(n),[3,5];case 5:return this.isLoading=!1,[2]}})})},l.prototype.getEventFilmOrder=function(){var l=this,n=[];return this.schedules.forEach(function(u){if(l.purchase.isSalseTime(u)){var t=n.find(function(l){return l.id===u.superEvent.id});void 0===t?n.push({id:u.superEvent.id,films:[u]}):t.films.push(u)}}),n},l}(),j=t.pb({encapsulation:0,styles:[[".inquiry-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem}@media screen and (max-width:767px){.inquiry-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr}}.inquiry-buttons[_ngcontent-%COMP%]   .inquiry-button[_ngcontent-%COMP%]{height:100%;width:100%}"]],data:{}});function A(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"div",[["class","button blue-button center-button inquiry-button"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),t.Jb(2,null,["","照会"]))],null,function(l,n){l(n,1,0,t.vb(2,"",n.component.environment.FRONTEND_ENDPOINT,"/inquiry/login?theater=",n.context.$implicit.location.branchCode,"")),l(n,2,0,n.context.$implicit.name.ja)})}function R(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.qb(1,147456,null,0,D.q,[t.k,t.D,[2,D.t]],{value:[0,"value"]},null),t.qb(2,147456,null,0,D.y,[t.k,t.D,[8,null]],{value:[0,"value"]},null),(l()(),t.Jb(3,null,[" ",""]))],function(l,n){l(n,1,0,t.vb(1,"",n.context.$implicit.location.branchCode,"")),l(n,2,0,t.vb(1,"",n.context.$implicit.location.branchCode,""))},function(l,n){l(n,3,0,n.context.$implicit.name.ja)})}function V(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.qb(1,147456,null,0,D.q,[t.k,t.D,[2,D.t]],{value:[0,"value"]},null),t.qb(2,147456,null,0,D.y,[t.k,t.D,[8,null]],{value:[0,"value"]},null),(l()(),t.Jb(3,null,["",""]))],function(l,n){l(n,1,0,t.vb(1,"",n.context.$implicit.value,"")),l(n,2,0,t.vb(1,"",n.context.$implicit.value,""))},function(l,n){l(n,3,0,n.context.$implicit.label)})}function H(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-film-order",[],null,null,null,F,T)),t.qb(1,114688,null,0,N,[],{data:[0,"data"],member:[1,"member"]},null)],function(l,n){l(n,1,0,n.context.$implicit,n.component.conditions.member)},null)}function U(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,55,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["スケジュール選択"])),(l()(),t.rb(3,0,null,null,3,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["こちらからチケットの購入をする事が出来ます。 "])),(l()(),t.rb(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご希望の鑑賞作品、鑑賞日時を選択してください。"])),(l()(),t.rb(7,0,null,null,2,"div",[["class","inquiry-buttons mb-3"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,A)),t.qb(9,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(10,0,null,null,42,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t.rb(11,0,null,null,11,"dl",[],null,null,null,null,null)),(l()(),t.rb(12,0,null,null,1,"dt",[["class","mb-1"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["劇場"])),(l()(),t.rb(14,0,null,null,8,"dd",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.rb(15,0,null,null,7,"select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var e=!0,r=l.component;return"change"===n&&(e=!1!==t.Db(l,16).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,16).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(r.conditions.theater=u)&&e),"change"===n&&(e=!1!==r.changeConditions()&&e),e},null,null)),t.qb(16,16384,null,0,D.t,[t.D,t.k],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.t]),t.qb(18,671744,null,0,D.p,[[8,null],[8,null],[8,null],[6,D.k]],{model:[0,"model"]},{update:"ngModelChange"}),t.Hb(2048,null,D.l,null,[D.p]),t.qb(20,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,R)),t.qb(22,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(23,0,null,null,17,"dl",[],null,null,null,null,null)),(l()(),t.rb(24,0,null,null,1,"dt",[["class","mb-1"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["会員ステータス"])),(l()(),t.rb(26,0,null,null,14,"dd",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.rb(27,0,null,null,13,"select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var e=!0,r=l.component;return"change"===n&&(e=!1!==t.Db(l,28).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,28).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(r.conditions.member=u)&&e),"change"===n&&(e=!1!==r.changeConditions()&&e),e},null,null)),t.qb(28,16384,null,0,D.t,[t.D,t.k],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.t]),t.qb(30,671744,null,0,D.p,[[8,null],[8,null],[8,null],[6,D.k]],{model:[0,"model"]},{update:"ngModelChange"}),t.Hb(2048,null,D.l,null,[D.p]),t.qb(32,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.rb(33,0,null,null,3,"option",[],null,null,null,null,null)),t.qb(34,147456,null,0,D.q,[t.k,t.D,[2,D.t]],{value:[0,"value"]},null),t.qb(35,147456,null,0,D.y,[t.k,t.D,[8,null]],{value:[0,"value"]},null),(l()(),t.Jb(-1,null,["非会員"])),(l()(),t.rb(37,0,null,null,3,"option",[],null,null,null,null,null)),t.qb(38,147456,null,0,D.q,[t.k,t.D,[2,D.t]],{value:[0,"value"]},null),t.qb(39,147456,null,0,D.y,[t.k,t.D,[8,null]],{value:[0,"value"]},null),(l()(),t.Jb(-1,null,["会員"])),(l()(),t.rb(41,0,null,null,11,"dl",[],null,null,null,null,null)),(l()(),t.rb(42,0,null,null,1,"dt",[["class","mb-1"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["鑑賞日"])),(l()(),t.rb(44,0,null,null,8,"dd",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.rb(45,0,null,null,7,"select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var e=!0,r=l.component;return"change"===n&&(e=!1!==t.Db(l,46).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,46).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(r.conditions.date=u)&&e),"change"===n&&(e=!1!==r.changeConditions()&&e),e},null,null)),t.qb(46,16384,null,0,D.t,[t.D,t.k],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.t]),t.qb(48,671744,null,0,D.p,[[8,null],[8,null],[8,null],[6,D.k]],{model:[0,"model"]},{update:"ngModelChange"}),t.Hb(2048,null,D.l,null,[D.p]),t.qb(50,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,V)),t.qb(52,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(53,0,null,null,2,"ul",[["class","film-order"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,H)),t.qb(55,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(56,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(57,114688,null,0,o.a,[],{show:[0,"show"]},null)],function(l,n){var u=n.component;l(n,9,0,u.theaters),l(n,18,0,u.conditions.theater),l(n,22,0,u.theaters),l(n,30,0,u.conditions.member),l(n,34,0,!1),l(n,35,0,!1),l(n,38,0,!0),l(n,39,0,!0),l(n,48,0,u.conditions.date),l(n,52,0,u.dateList),l(n,55,0,u.filmOrder),l(n,57,0,u.isLoading)},function(l,n){l(n,15,0,t.Db(n,20).ngClassUntouched,t.Db(n,20).ngClassTouched,t.Db(n,20).ngClassPristine,t.Db(n,20).ngClassDirty,t.Db(n,20).ngClassValid,t.Db(n,20).ngClassInvalid,t.Db(n,20).ngClassPending),l(n,27,0,t.Db(n,32).ngClassUntouched,t.Db(n,32).ngClassTouched,t.Db(n,32).ngClassPristine,t.Db(n,32).ngClassDirty,t.Db(n,32).ngClassValid,t.Db(n,32).ngClassInvalid,t.Db(n,32).ngClassPending),l(n,45,0,t.Db(n,50).ngClassUntouched,t.Db(n,50).ngClassTouched,t.Db(n,50).ngClassPristine,t.Db(n,50).ngClassDirty,t.Db(n,50).ngClassValid,t.Db(n,50).ngClassInvalid,t.Db(n,50).ngClassPending)})}function B(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-schedule",[],null,null,null,U,j)),t.qb(1,114688,null,0,$,[g.a,m.a,p.a],null,null)],function(l,n){l(n,1,0)},null)}var Y=t.nb("app-purchase-schedule",$,B,{},{},[]),z=u("0PHj"),K=u("cRBd"),G=u("OUHI"),W=u("Sa9h"),Q=u("aORz"),X=function(){function l(l,n,u,t){this.storage=l,this.purchase=n,this.router=u,this.error=t}return l.prototype.ngOnInit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){return Object(a.__generator)(this,function(l){window.scrollTo(0,0),this.isLoading=!1;try{if(this.screeningEvent=this.storage.load("screeningEvent",s.b.Session),null===this.screeningEvent)throw new Error("screeningEvent is null")}catch(n){this.error.redirect(n)}return[2]})})},l.prototype.returnTransaction=function(){this.router.navigate(["/purchase/seat"])},l.prototype.newTransaction=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l;return Object(a.__generator)(this,function(n){switch(n.label){case 0:this.isLoading=!0,n.label=1;case 1:return n.trys.push([1,4,,5]),void 0===this.purchase.data.tmpSeatReservationAuthorization?[3,3]:[4,this.purchase.cancelSeatRegistrationProcess()];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:return l=n.sent(),console.error(l),[3,5];case 5:return this.purchase.reset(),this.storage.remove("screeningEvent",s.b.Session),this.router.navigate(["/purchase/transaction"]),[2]}})})},l.prototype.getTheaterName=function(){var l=this.screeningEvent.superEvent.location;return void 0===l.name||void 0===l.name.ja?"":l.name.ja},l.prototype.getScreenName=function(){var l=this.screeningEvent.location;return void 0===l.name||void 0===l.name.ja?"":l.name.ja},l.prototype.getTitle=function(){return this.screeningEvent.name.ja},l.prototype.getAppreciationDate=function(){return void 0===this.screeningEvent.coaInfo?"":(E.locale("ja"),E(this.screeningEvent.coaInfo.dateJouei).format("YYYY年MM月DD日(ddd)"))},l.prototype.getStartDate=function(){return void 0===this.screeningEvent.coaInfo?"":(new Q.c).transform(this.screeningEvent.startDate,this.screeningEvent.coaInfo.dateJouei)},l.prototype.getEndDate=function(){return void 0===this.screeningEvent.coaInfo?"":(new Q.c).transform(this.screeningEvent.endDate,this.screeningEvent.coaInfo.dateJouei)},l}(),Z=t.pb({encapsulation:0,styles:[[""]],data:{}});function ll(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,80,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3 text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["仮予約の座席があります"])),(l()(),t.rb(3,0,null,null,5,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["現在、仮予約の座席があります。 "])),(l()(),t.rb(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["仮予約の座席の購入を進めるか、新しく選択した内容で購入を進めるか選択してください。 "])),(l()(),t.rb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["仮予約の内容は下記になります。"])),(l()(),t.rb(9,0,null,null,34,"div",[["class","form-layout mb-4"]],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,1,"h2",[["class","mb-2 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["仮予約の上映スケジュール"])),(l()(),t.rb(12,0,null,null,18,"ul",[["class","p-3 rounded bg-light-gray mb-4"]],null,null,null,null,null)),(l()(),t.rb(13,0,null,null,5,"li",[],null,null,null,null,null)),(l()(),t.rb(14,0,null,null,4,"dl",[],null,null,null,null,null)),(l()(),t.rb(15,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["劇場 / スクリーン"])),(l()(),t.rb(17,0,null,null,1,"dd",[],null,null,null,null,null)),(l()(),t.Jb(18,null,[""," / ",""])),(l()(),t.rb(19,0,null,null,5,"li",[],null,null,null,null,null)),(l()(),t.rb(20,0,null,null,4,"dl",[],null,null,null,null,null)),(l()(),t.rb(21,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["作品名"])),(l()(),t.rb(23,0,null,null,1,"dd",[],null,null,null,null,null)),(l()(),t.Jb(24,null,["",""])),(l()(),t.rb(25,0,null,null,5,"li",[],null,null,null,null,null)),(l()(),t.rb(26,0,null,null,4,"dl",[],null,null,null,null,null)),(l()(),t.rb(27,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["鑑賞日時"])),(l()(),t.rb(29,0,null,null,1,"dd",[],null,null,null,null,null)),(l()(),t.Jb(30,null,[" "," "," - "," "])),(l()(),t.rb(31,0,null,null,1,"p",[["class","text-center mb-1"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["上記の仮予約内容で購入手続きへ戻ります。"])),(l()(),t.rb(33,0,null,null,10,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,35).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,35).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.returnTransaction()&&e),e},null,null)),t.qb(34,16384,null,0,D.z,[],null,null),t.qb(35,4210688,null,0,D.o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.o]),t.qb(37,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(38,0,null,null,5,"div",[["class","buttons mx-auto"]],null,null,null,null,null)),(l()(),t.rb(39,0,null,null,4,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t.rb(40,0,null,null,3,"button",[["class","btn btn-block btn-primary py-3 font-weight-bold"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t.rb(41,0,null,null,1,"app-icon",[["height","15"],["iconName","next-white"],["width","15"]],null,null,null,z.b,z.a)),t.qb(42,114688,null,0,K.a,[],{iconName:[0,"iconName"],width:[1,"width"],height:[2,"height"]},null),(l()(),t.Jb(-1,null,["仮予約の購入手続きへ戻る "])),(l()(),t.rb(44,0,null,null,34,"div",[["class","form-layout"]],null,null,null,null,null)),(l()(),t.rb(45,0,null,null,1,"h2",[["class","mb-2 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["新しく選択した上映スケジュール"])),(l()(),t.rb(47,0,null,null,18,"ul",[["class","p-3 rounded bg-light-gray mb-4"]],null,null,null,null,null)),(l()(),t.rb(48,0,null,null,5,"li",[],null,null,null,null,null)),(l()(),t.rb(49,0,null,null,4,"dl",[],null,null,null,null,null)),(l()(),t.rb(50,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["劇場 / スクリーン"])),(l()(),t.rb(52,0,null,null,1,"dd",[],null,null,null,null,null)),(l()(),t.Jb(53,null,[""," / ",""])),(l()(),t.rb(54,0,null,null,5,"li",[],null,null,null,null,null)),(l()(),t.rb(55,0,null,null,4,"dl",[],null,null,null,null,null)),(l()(),t.rb(56,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["作品名"])),(l()(),t.rb(58,0,null,null,1,"dd",[],null,null,null,null,null)),(l()(),t.Jb(59,null,["",""])),(l()(),t.rb(60,0,null,null,5,"li",[],null,null,null,null,null)),(l()(),t.rb(61,0,null,null,4,"dl",[],null,null,null,null,null)),(l()(),t.rb(62,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["鑑賞日時"])),(l()(),t.rb(64,0,null,null,1,"dd",[],null,null,null,null,null)),(l()(),t.Jb(65,null,[" "," "," - "," "])),(l()(),t.rb(66,0,null,null,1,"p",[["class","text-center  mb-1"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["仮予約を削除し、新しく選択した上映スケジュールの購入手続きを進めます。"])),(l()(),t.rb(68,0,null,null,10,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,70).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,70).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.newTransaction()&&e),e},null,null)),t.qb(69,16384,null,0,D.z,[],null,null),t.qb(70,4210688,null,0,D.o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.o]),t.qb(72,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(73,0,null,null,5,"div",[["class","buttons mx-auto"]],null,null,null,null,null)),(l()(),t.rb(74,0,null,null,4,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t.rb(75,0,null,null,3,"button",[["class","btn btn-block btn-primary py-3 font-weight-bold"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t.rb(76,0,null,null,1,"app-icon",[["height","15"],["iconName","next-white"],["width","15"]],null,null,null,z.b,z.a)),t.qb(77,114688,null,0,K.a,[],{iconName:[0,"iconName"],width:[1,"width"],height:[2,"height"]},null),(l()(),t.Jb(-1,null,["仮予約を削除して次へ進む "])),(l()(),t.rb(79,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(80,114688,null,0,W.a,[],null,null),(l()(),t.rb(81,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(82,114688,null,0,o.a,[],{show:[0,"show"]},null)],function(l,n){var u=n.component;l(n,42,0,"next-white","15","15"),l(n,77,0,"next-white","15","15"),l(n,80,0),l(n,82,0,u.isLoading)},function(l,n){var u=n.component;l(n,18,0,u.purchase.getTheaterName(),u.purchase.getScreenName()),l(n,24,0,u.purchase.getTitle()),l(n,30,0,u.purchase.getAppreciationDate(),u.purchase.getStartDate(),u.purchase.getEndDate()),l(n,33,0,t.Db(n,37).ngClassUntouched,t.Db(n,37).ngClassTouched,t.Db(n,37).ngClassPristine,t.Db(n,37).ngClassDirty,t.Db(n,37).ngClassValid,t.Db(n,37).ngClassInvalid,t.Db(n,37).ngClassPending),l(n,40,0,u.isLoading),l(n,53,0,u.getTheaterName(),u.getScreenName()),l(n,59,0,u.getTitle()),l(n,65,0,u.getAppreciationDate(),u.getStartDate(),u.getEndDate()),l(n,68,0,t.Db(n,72).ngClassUntouched,t.Db(n,72).ngClassTouched,t.Db(n,72).ngClassPristine,t.Db(n,72).ngClassDirty,t.Db(n,72).ngClassValid,t.Db(n,72).ngClassInvalid,t.Db(n,72).ngClassPending),l(n,75,0,u.isLoading)})}function nl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-overlap",[],null,null,null,ll,Z)),t.qb(1,114688,null,0,X,[b.b,m.a,d.l,g.a],null,null)],function(l,n){l(n,1,0)},null)}var ul=t.nb("app-purchase-overlap",X,nl,{},{},[]),tl=u("WZ1V"),el=u("cc8N"),rl=function(){function l(l){this.router=l}return l.prototype.ngOnInit=function(){var l=this;this.changePage(this.router.url),this.router.events.subscribe(function(n){n instanceof d.d&&l.changePage(n.url)})},l.prototype.changePage=function(l){this.url=l},l}(),il=t.pb({encapsulation:0,styles:[[".steps[_ngcontent-%COMP%]{position:absolute;right:30px;top:50%;width:300px;height:1px;background-color:#ccc;margin-top:10px}.steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:7px;margin-top:-7px;margin-left:-7px;background-color:#ccc;color:#ccc;position:absolute;top:50%;left:0}.steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:center;font-size:10px;width:100px;position:absolute;top:-20px;left:-43px}@media screen and (max-width:767px){.steps[_ngcontent-%COMP%]{width:150px;right:5px;margin-top:0}.steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:5px;margin-top:-5px;margin-left:-5px}.steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:none}}.steps[_ngcontent-%COMP%]   .step-01[_ngcontent-%COMP%]{left:0}.steps[_ngcontent-%COMP%]   .step-02[_ngcontent-%COMP%]{left:25%}.steps[_ngcontent-%COMP%]   .step-03[_ngcontent-%COMP%]{left:50%}.steps[_ngcontent-%COMP%]   .step-04[_ngcontent-%COMP%]{left:75%}.steps[_ngcontent-%COMP%]   .step-05[_ngcontent-%COMP%]{left:100%}.steps[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#c30d23;font-weight:700;color:#c30d23}"]],data:{}});function ol(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,16,"div",[["class","steps not-print"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,15,"ul",[],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,2,"li",[["class","step step-01"]],[[2,"active",null]],null,null,null,null)),(l()(),t.rb(3,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["座席選択"])),(l()(),t.rb(5,0,null,null,2,"li",[["class","step step-02"]],[[2,"active",null]],null,null,null,null)),(l()(),t.rb(6,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["券種選択"])),(l()(),t.rb(8,0,null,null,2,"li",[["class","step step-03"]],[[2,"active",null]],null,null,null,null)),(l()(),t.rb(9,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["情報入力"])),(l()(),t.rb(11,0,null,null,2,"li",[["class","step step-04"]],[[2,"active",null]],null,null,null,null)),(l()(),t.rb(12,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["確認"])),(l()(),t.rb(14,0,null,null,2,"li",[["class","step step-05"]],[[2,"active",null]],null,null,null,null)),(l()(),t.rb(15,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入完了"]))],null,function(l,n){var u=n.component;l(n,2,0,"/purchase/seat"===u.url),l(n,5,0,"/purchase/ticket"===u.url),l(n,8,0,"/purchase/input"===u.url),l(n,11,0,"/purchase/confirm"===u.url),l(n,14,0,"/purchase/complete"===u.url)})}var al=function(){function l(l,n){this.router=l,this.purchaseService=n,this.environment=w.a}return l.prototype.ngOnInit=function(){this.update()},l.prototype.ngOnDestroy=function(){clearTimeout(this.timer)},l.prototype.update=function(){var l=this;this.updateProcess(),this.timer=setTimeout(function(){l.update()},1e3)},l.prototype.updateProcess=function(){if(this.transaction=this.purchaseService.data.transaction,void 0!==this.transaction){var l=E(),n=E(this.transaction.expires);this.isExpired=n.diff(l)<0,this.diff={hours:("00"+n.diff(l,"hours")).slice(-2),minutes:("00"+n.diff(l,"minutes")%60).slice(-2),seconds:("00"+n.diff(l,"seconds")%60%60).slice(-2)},this.width=Math.floor(n.diff(l,"seconds")/(60*Number(this.environment.TRANSACTION_TIME))*100),this.isExpired&&this.router.navigate(["/expired"])}},l}(),sl=t.pb({encapsulation:0,styles:[[".outer[_ngcontent-%COMP%]{position:relative;padding:2px 15px}.position-relative[_ngcontent-%COMP%]{position:relative}.expired[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;max-width:100%}.cover[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;opacity:.5;width:100%;height:100%}"]],data:{}});function cl(l){return t.Lb(0,[],null,null)}var bl=u("MU05"),dl=u("us+Q"),pl=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),ml=t.pb({encapsulation:0,styles:[[""]],data:{}});function gl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,3,"app-header",[],null,null,null,tl.b,tl.a)),t.qb(1,114688,null,0,el.a,[],null,null),(l()(),t.rb(2,0,null,0,1,"app-purchase-step",[],null,null,null,ol,il)),t.qb(3,114688,null,0,rl,[d.l],null,null),(l()(),t.rb(4,0,null,null,1,"app-transaction-remaining-time",[],null,null,null,cl,sl)),t.qb(5,245760,null,0,al,[d.l,m.a],null,null),(l()(),t.rb(6,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.qb(7,212992,null,0,d.p,[d.b,t.O,t.j,[8,null],t.h],null,null),(l()(),t.rb(8,0,null,null,1,"app-footer",[],null,null,null,bl.b,bl.a)),t.qb(9,114688,null,0,dl.a,[],null,null)],function(l,n){l(n,1,0),l(n,3,0),l(n,5,0),l(n,7,0),l(n,9,0)},null)}function hl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-base",[],null,null,null,gl,ml)),t.qb(1,114688,null,0,pl,[],null,null)],function(l,n){l(n,1,0)},null)}var fl=t.nb("app-purchase-base",pl,hl,{},{},[]),vl=u("1Y2O"),Cl=u("IEwj"),xl=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),kl=t.pb({encapsulation:0,styles:[[".seat-info[_ngcontent-%COMP%]   .seat[_ngcontent-%COMP%]{margin:0 10px;position:relative;padding-left:24px}@media screen and (max-width:767px){.seat-info[_ngcontent-%COMP%]   .justify-content-center[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap}.seat-info[_ngcontent-%COMP%]   .seat[_ngcontent-%COMP%]{width:50%;font-size:12px;margin:10px 0}}.seat-info[_ngcontent-%COMP%]   .seat[_ngcontent-%COMP%]:before{width:16px;height:20px;content:'';display:block;background-image:url(/images/theater/seat/normal.svg);background-size:16px 20px;position:absolute;top:50%;left:0;margin-top:-10px}.seat-info[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:before{background-image:url(/images/theater/seat/normal_active.svg)}.seat-info[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]:before{background-image:url(/images/theater/seat/normal_space.svg)}.seat-info[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]:before{background-image:url(/images/theater/seat/normal_disabled.svg)}.screen-4dx[_ngcontent-%COMP%]   .seat[_ngcontent-%COMP%]:before{width:20px;height:20px;content:'';display:block;background-image:url(/images/theater/seat/4dx.svg);background-size:20px 20px;position:absolute;top:50%;left:0;margin-top:-10px}.screen-4dx[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:before{background-image:url(/images/theater/seat/4dx_active.svg)}.screen-4dx[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]:before{background-image:url(/images/theater/seat/4dx_disabled.svg)}.screen-4dx[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]:before{background-image:url(/images/theater/seat/4dx_space.svg)}"]],data:{}});function yl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,9,"div",[["class","seat-info px-3 pb-2 pb-md-3"]],[[2,"screen-4dx",null]],null,null,null,null)),(l()(),t.rb(1,0,null,null,8,"div",[["class","px-3 py-2 py-md-3 rounded bg-white d-flex justify-content-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"div",[["class","seat font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 空席 "])),(l()(),t.rb(4,0,null,null,1,"div",[["class","seat active font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 選択中 "])),(l()(),t.rb(6,0,null,null,1,"div",[["class","seat disabled font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 販売済み "])),(l()(),t.rb(8,0,null,null,1,"div",[["class","seat space font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 選択不可 "]))],null,function(l,n){var u=n.component;l(n,0,0,"002"===u.type||"004"===u.type)})}var Dl={"01":{ordinance:"東京都青少年健全育成条例",limit:"23:00"},"02":{ordinance:"東京都青少年健全育成条例",limit:"23:00"},"06":{ordinance:"静岡県青少年健全育成条例",limit:"23:00"},"07":{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},"08":{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},"09":{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},10:{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},12:{ordinance:"徳島県青少年健全育成条例",limit:"23:00"},13:{ordinance:"茨城県青少年健全育成条例",limit:"23:00"},14:{ordinance:"石川県青少年健全育成条例",limit:"23:00"},15:{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},16:{ordinance:"奈良県青少年健全育成条例",limit:"23:00"},17:{ordinance:"山口県青少年健全育成条例",limit:"23:00"},18:{ordinance:"鹿児島県青少年保護育成条例",limit:"23:00"},19:{ordinance:"千葉県青少年健全育成条例",limit:"23:00"},20:{ordinance:"東京都青少年健全育成条例",limit:"23:00"},21:{ordinance:"静岡県青少年健全育成条例",limit:"23:00"}},Ol=function(){function l(){}return l.prototype.ngOnInit=function(){this.ordinance="",this.limit="",void 0!==Dl[this.theaterCode]&&(this.ordinance=Dl[this.theaterCode].ordinance,this.limit=Dl[this.theaterCode].limit)},l}(),Jl=t.pb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.term[_ngcontent-%COMP%]{resize:vertical;height:150px}@media screen and (max-width:767px){.term[_ngcontent-%COMP%]{height:100px}}"]],data:{}});function wl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,192,"div",[["class","p-3 bg-light-gray term text-small scroll-vertical"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,191,"p",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 【オンライン利用規約】 "])),(l()(),t.rb(3,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["前文 "])),(l()(),t.rb(6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 佐々木興業株式会社(以下、「当社」とします)は、「オンライン先売りチケットサービス」（以下「本サービス」とします)をご利用いただく際に、次の利用規約(以下「本規約」とします)を設けております。本規約をご承諾の上、本サービスをご利用ください。 "])),(l()(),t.rb(8,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(9,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第1条　本サービスの内容と利用条件 "])),(l()(),t.rb(11,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスは、当社が運営する映画館で上映を行う映画の観賞チケットを当社が運営しているサイト(以下、「当サイト」とします)にて事前予約販売するものです。 "])),(l()(),t.rb(13,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスをご利用頂くには本規約への同意が必要となります。 "])),(l()(),t.rb(15,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ お客様が本規約のすべての条項に同意されない場合は本サービスをご利用頂けません。 "])),(l()(),t.rb(17,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" また、お客様が本規約に違反した場合にはご利用をお断りすることがあります。 "])),(l()(),t.rb(19,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ お客様自身の責任においてコンピューター・携帯電話の操作およびインターネット利用ができ、本サービスを利用するために必要なインターネット環境の適切な設定、文字(日本語表示)やメール等の諸設定がなされている方を対象にしています。また上記条件を満たしていても、誤操作やネット環境の事情によって本サービスが正常に動作しない場合、それらがもたらす諸影響について当社は一切責任を負いません。 "])),(l()(),t.rb(21,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ インターネット利用の一般的なマナー、モラルを遵守して頂きます。当社が不適切と判断する行為を行うお客様には本サービスのご利用をお断りすることがあります。 "])),(l()(),t.rb(23,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 未成年者が本サービスを利用する場合、親権者または後見人の同意の上ご利用ください。未成年者が本サービスを利用された場合は、本サービスの全ての事項について親権者または後見人の同意があったものとみなします。 "])),(l()(),t.rb(25,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(26,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第2条　本サービス・規約の変更／中断／中止について "])),(l()(),t.rb(28,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 当社は事前の通告無しに本サービス、本規約の変更をすることがあります。本サービスをご利用の際は必ずサービス内容・本規約をご確認ください。内容変更後は変更後の内容のみを有効とさせて頂きます。 "])),(l()(),t.rb(30,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 当社は以下の理由によりお客様に通告無しに本サービスの全部又は一部を中断、中止できるものとします。 "])),(l()(),t.rb(32,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 1.本サービスに係るシステムの定期的または突発的な理由による保守・点検を行う場合 "])),(l()(),t.rb(34,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 2.天災、事変、その他の非常事態の発生により本サービスの提供が困難になった場合 "])),(l()(),t.rb(36,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 3.当社以外の第三者の妨害によって本サービスの提供が困難になった場合 "])),(l()(),t.rb(38,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 4.その他、当社が本サービスの運営上必要と判断した場合 "])),(l()(),t.rb(40,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 当社は理由の如何を問わず、本サービスの提供の中断または中止によって生じたお客様の損害につき、一切責任を負わないものとします。 "])),(l()(),t.rb(42,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(43,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第3条　禁止行為 "])),(l()(),t.rb(45,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 1.他のお客様、第三者または当社に不利益もしくは損害を与える行為、および与えるおそれのある行為 "])),(l()(),t.rb(47,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 2.他のお客様、第三者または当社を誹謗中傷する行為 "])),(l()(),t.rb(49,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 3.犯罪的行為、もしくは犯罪的行為に結び付く行為、またはそのおそれのある行為 "])),(l()(),t.rb(51,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 4.法令に違反する、または違反するおそれのある行為 "])),(l()(),t.rb(53,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 5.公序良俗に反する行為、もしくはそのおそれのある行為、または公序良俗に反する情報を他のお客様または第三者に提供する行為 "])),(l()(),t.rb(55,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 6.性風俗、宗教、政治に関する行為 "])),(l()(),t.rb(57,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 7.権利者の承諾を得ないで、いかなる方法においても、本サービスを通じて提供される情報・著作物について著作権法で定める個人の私的利用の範囲を超えて使用すること "])),(l()(),t.rb(59,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 8.本サービスを通じて、もしくは本サービスに関連して、営利を目的とする行為、またはその準備を目的とした行為 "])),(l()(),t.rb(61,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 9.コンピューターウイルスなどの有害なプログラムを、本サービスを通じて、もしくは本サービスに関連して使用する、提供する行為 "])),(l()(),t.rb(63,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 10.当社から購入した電子チケットを、営利を目的として第三者に転売、または転売のために第三者に提供する行為 "])),(l()(),t.rb(65,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 11.その他、当社が不適切と判断する行為 "])),(l()(),t.rb(67,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(68,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第4条　チケット販売について "])),(l()(),t.rb(70,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスご利用にあたって「氏名」「連絡先」「メールアドレス」「クレジットカード番号」「電話番号」などの個人情報を入力していただきます。個人情報が不正確・虚偽がある場合はお申込みを無効とさせて頂きます。 "])),(l()(),t.rb(72,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスは、当サイトに掲載されている上映作品、上映時間のうち販売画面で選択可能なもののチケットのみご購入頂けます。一部上映作品、上映時間については取扱いがない場合があります。 "])),(l()(),t.rb(74,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスはシステムメンテナンスによるサービス提供の中断及び第2条で定める場合をのぞき、24時間営業を行っております。メンテナンスを行う際は事前に当サイトにて告知しますが、第2条で定める通りやむをえない場合は事前の通告無しにサービスを中断します。 "])),(l()(),t.rb(76,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスは当社規定の料金体系に基づくことを前提とします。尚、対象券種は当社が決定するものとし、お客様への事前の通告なしに変更できるものとします。 "])),(l()(),t.rb(78,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ※各種証明書のご提示が必要な券種は、ご鑑賞当日、入場口にて確認させて頂きます。詳しくは第7条でご確認ください。 "])),(l()(),t.rb(80,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ ご予約の受付はご鑑賞日2日前0：00から上映開始時間までです。1回の購入申込みで購入出来る枚数に制限が付きます。制限枚数は、その都度変更されます。制限枚数以上購入の場合は複数の購入操作が必要となります。複数の購入申込みを行った場合、座席は購入操作ごとで離れたお席になります。 "])),(l()(),t.rb(82,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ※リワード会員の受付はご鑑賞日3日前21：00から早期購入可能です。 "])),(l()(),t.rb(84,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ※販売開始日時は、一部作品・上映により異なる場合がございます。 "])),(l()(),t.rb(86,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 映画倫理規定管理委員会の定めたレイティング(鑑賞年齢制限)の定められた作品では該当のお客様のご利用をお断りすることがあります。制限年齢に達しないお客様が誤って購入したチケットの返金・交換は一切受付けておりません。 "])),(l()(),t.rb(88,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(89,null,["・ ","の定めにより、18歳未満及び高校生の方は終映が","を過ぎる上映回のチケットをご購入頂けません。また保護者同伴でもご入場頂けません。 "])),(l()(),t.rb(90,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスにおける売買契約の成立は、入力頂いた内容に基づきクレジット決済与信手続が終了した時点とします。発券の際には本サービス発行の「予約番号」、お客様入力の「電話番号」が必要となります。 "])),(l()(),t.rb(92,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 購入完了画面表示後はお客様の都合による上映作品の日時の変更、購入の取消、チケットの払い戻しはできないものとします。また、交通渋滞による遅延などその他いかなる場合でも、上映作品の日時変更、購入の取消、チケットの払い戻しは受付けません。なお、チケットはクーリングオフの対象外となっております。 "])),(l()(),t.rb(94,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 当社からご購入の予約番号の記載された確認のメールを送信します。当サイトの指定項目の記入漏れ、メールアドレスの誤入力、文字化けなどにより確認のメールが送信できない場合、確認メールの不達、遅達について当社は一切の責任を負わないものとします。 "])),(l()(),t.rb(96,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 上映劇場はやむをえず変更になる場合があります。上映劇場の変更やその他の理由により予約座席が変更となる場合があります。 "])),(l()(),t.rb(98,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 上映時間に著しく遅れられてのご入場は他のお客様のご迷惑になりますのでご入場をお断りすることがあります。 "])),(l()(),t.rb(100,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 不可抗力による上映中止の場合は、所定の期間内に限り所定の方法にて払い戻しを行います。払い戻しの対象はチケット代金のみとなります。お客様都合による払い戻しはできません。 "])),(l()(),t.rb(102,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(103,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第5条　決済方法 "])),(l()(),t.rb(105,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスの支払い方法はクレジットカード決済になります。国内発行かつ当社指定のクレジットカード(VISA,Master Card,JCB,American express,Diners Club)をお持ちのお客様のみご利用頂けます。 "])),(l()(),t.rb(107,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ チケット購入手続きの際の虚偽入力、誤入力もしくは入力漏れ、またはクレジットカード会社の規約違反等によりクレジットカード決済ができない場合は、チケットの購入は無効とさせて頂きます。クレジットカードのお取扱いができない場合には、クレジット会社に直接お問い合わせください。 "])),(l()(),t.rb(109,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ クレジットカード利用によるトラブルについて当社は一切の責任を負いません。 "])),(l()(),t.rb(111,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ その他、本サービスにおけるクレジットカード決済に関する事項は、クレジット会社における利用規約に準じます。 "])),(l()(),t.rb(113,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(114,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第6条　発券方法 "])),(l()(),t.rb(116,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ チケットの発券方法は以下2通りからお選び頂けます。 "])),(l()(),t.rb(118,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 上映当日に劇場備え付けの「自動発券機」に「予約番号」とお客様が設定された「電話番号」を入力するとチケットを発券頂けます。 "])),(l()(),t.rb(120,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" またはチケット情報確認画面へアクセス頂き、「チケットを購入した劇場」「予約番号」「電話番号」を入力してログインし、 ご鑑賞時間の24時間前から入場用QRコードチケットを取得して頂けます。 "])),(l()(),t.rb(122,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" いずれかのチケットをご持参頂きご入場ください。 "])),(l()(),t.rb(124,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 予約番号、電話番号を失念された場合は劇場スタッフにお申し付けください。入力された個人情報が確認できない場合、発券できないことがあります。 "])),(l()(),t.rb(126,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ チケットは如何なる場合(紛失・盗難・破損など)でも再発行致しません。 "])),(l()(),t.rb(128,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(129,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第7条　身分証明書の提示 "])),(l()(),t.rb(131,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスで購入された「学生」、「シニア」、「ハンディキャップ」のチケットについて当該チケットの引渡しを受けたお客様は、ご入場時、身分証明書の提示が必要です。提示がない場合は一般料金との差額を頂きます。 "])),(l()(),t.rb(133,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 各種割引チケットで必要な証明書は以下の通りです。 "])),(l()(),t.rb(135,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 「学生」：学校長発行の学生証または生徒手帳 "])),(l()(),t.rb(137,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ※「学生」・・・大学生、専門学校生、高等専門学校生、高等学校生を指します。 "])),(l()(),t.rb(139,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 「シニア」：生年月日又は年齢について記載のある公的機関発行の身分証明書(運転免許証など) "])),(l()(),t.rb(141,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 「ハンディキャップ」：障害者手帳 "])),(l()(),t.rb(143,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(144,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第8条　個人情報の取扱い "])),(l()(),t.rb(146,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 当社は、別途掲載する「プライバシーポリシー」と本条項に基づきお客様の個人情報を取扱うものとし、お客様は「プライバシーポリシー」と本条項を確認し同意の上、本サービスをご利用頂くものとします。 "])),(l()(),t.rb(148,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスにて入力頂く個人情報は、お客様に本サービスを円滑に提供するため収集するものです。 "])),(l()(),t.rb(150,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスは、個人情報の入力及びクレジット決済時にあたり、情報を第三者に傍受されないよう暗号化する方式(SSL)を採用して個人情報の保護に努めておりますが、その方式にも限界があり100％安全性を保証できるわけではありません。データへの不正アクセスほか、いかなる方法でトラブルが生じた場合でも一切責任を負わないものとします。 "])),(l()(),t.rb(152,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ※SSLとはSecure Socket Layerの略で、インターネット上でやり取りされているデータ(個人名、住所、電話番号などの個人情報や企業の機密情報など)を暗号・複合化し、第三者からデータを覗かれないようにする通信技術のことです。SSLでは、暗号化は送信側で通信データをパケットに分割する前に行われ、複合化は受信パケットを組み合わせた後に行われます。このため通信中のデータはすべて解読困難な形になっています。ただし、暗号化された情報を複合することは、例えそれが解読に膨大な時間がかかるような極めて難しい計算を要したとしても理論上は可能であり、データへの不正アクセスが100%起こらないとは言い切れません。 "])),(l()(),t.rb(154,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(155,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第9条　著作権 "])),(l()(),t.rb(157,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ お客様は権利者の同意を得ずして本サービスを通して提供される情報などについて著作権法で定める私的利用の範囲を超えて使用することは出来ません。 "])),(l()(),t.rb(159,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 前項の規定に関わらず、権利者とお客様の間で問題が生じた場合は、お客様は自己の責任と費用において問題解決に当たっていただきます。 "])),(l()(),t.rb(161,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(162,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第10条　業務の委託 "])),(l()(),t.rb(164,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 当社は本サービスの提供に必要な業務の全部又は一部を、当社が適切と判断するところに従い、第三者に委託して行わせることができるものとします。 "])),(l()(),t.rb(166,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(167,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第11条　免責 "])),(l()(),t.rb(169,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 当社は本サービス内容の正確性確保に鋭意努めますが、本サービス内容およびお客様が本サービスを通じて得る情報等の完全性、正確性、確実性、有用性等については如何なる保証も行いません。 "])),(l()(),t.rb(171,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 当サイトの利用・閲覧はお客様の責任で行うものとします。当サイトへのアクセス、画像などのデータをダウンロードすることにより、お客様のコンピューター機器等が損害を被った場合、又はウイルスに感染された場合であっても当社は一切の責任を負いません。 "])),(l()(),t.rb(173,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 上映中止によりチケット料金の払い戻しを行う場合は、原則として払い戻し金額はチケット券面額とします。券面金額以外の費用(クレジットカードの手数料、旅費交通費、通信費等)を当社は一切負担いたしません。 "])),(l()(),t.rb(175,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 当社は本サービスからリンクされている各サイトに含まれている情報、サービス等については一切関知しておらず、一切の責任を負わないものとします。 "])),(l()(),t.rb(177,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(178,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第12条　準拠法及び管轄裁判所 "])),(l()(),t.rb(180,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本規約の解釈、適用に関わる準拠法は日本法とします。 "])),(l()(),t.rb(182,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスに関連して、お客様が故意または過失に関わらず、他のお客様、当社、第三者に損害を与えた場合、お客様は自己の費用と責任で損害を賠償するものとします。 "])),(l()(),t.rb(184,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 本サービスに関連してお客様と当社との間で紛争が生じた場合には、双方誠意を持って協議するものとします。 "])),(l()(),t.rb(186,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ 前項の協議によっても紛争を解決できない場合は、東京地方裁判所または東京簡易裁判所を専属的合意管轄裁判所とします。 "])),(l()(),t.rb(188,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(189,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["第13条　その他 "])),(l()(),t.rb(191,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ お客様は、本規約に定めのない事項について、別途当社の定めるところに従うものとします。 "]))],null,function(l,n){var u=n.component;l(n,89,0,u.ordinance,u.limit)})}var Ll=u("G1N8"),Il=u("FKwU"),Pl=function(){function l(l,n,u,t,e,r,i){this.purchase=l,this.router=n,this.formBuilder=u,this.cinerinoService=t,this.error=e,this.user=r,this.http=i,this.environment=w.a}return l.prototype.ngOnInit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n;return Object(a.__generator)(this,function(u){switch(u.label){case 0:if(window.scrollTo(0,0),this.isLoading=!0,this.notSelectSeatModal=!1,this.seatRegistrationErrorModal=!1,this.seats=[],this.seatForm=this.formBuilder.group({terms:[!1,[D.u.requiredTrue]]}),void 0===this.purchase.data.screeningEvent)return this.error.redirect(new Error("screeningEvent is undefined")),[2];if(void 0===this.purchase.data.screeningEvent.coaInfo)return this.error.redirect(new Error("coaInfo is undefined")),[2];u.label=1;case 1:return u.trys.push([1,3,,4]),l=this,[4,this.getData({theaterCode:this.purchase.data.screeningEvent.coaInfo.theaterCode,dateJouei:this.purchase.data.screeningEvent.coaInfo.dateJouei,titleCode:this.purchase.data.screeningEvent.coaInfo.titleCode,titleBranchNum:this.purchase.data.screeningEvent.coaInfo.titleBranchNum,timeBegin:this.purchase.data.screeningEvent.coaInfo.timeBegin,screenCode:this.purchase.data.screeningEvent.coaInfo.screenCode})];case 2:return l.screenData=u.sent(),this.isLoading=!1,[3,4];case 3:return n=u.sent(),this.error.redirect(n),[2];case 4:return[2]}})})},l.prototype.getData=function(l){return Object(a.__awaiter)(this,void 0,void 0,function(){var n,u,t,e,r,i,o,s;return Object(a.__generator)(this,function(a){switch(a.label){case 0:return u=("00"+l.theaterCode).slice((n={"02":-2,"03":-3})["02"]),t=("000"+l.screenCode).slice(n["03"]),[4,this.http.get("/json/theater/"+u+"/"+t+".json").toPromise()];case 1:return e=a.sent(),[4,this.http.get("/json/theater/setting.json").toPromise()];case 2:return r=a.sent(),[4,this.cinerinoService.getServices()];case 3:return a.sent(),[4,this.cinerinoService.getSeatState({theaterCode:l.theaterCode,dateJouei:l.dateJouei,titleCode:l.titleCode,titleBranchNum:l.titleBranchNum,timeBegin:l.timeBegin,screenCode:l.screenCode})];case 4:return i=a.sent(),[4,this.cinerinoService.getScreens({theaterCode:l.theaterCode})];case 5:if(o=a.sent(),void 0===(s=o.find(function(n){return n.screenCode===l.screenCode})))throw new Error("screen notfound");return[2,{screenConfig:Object.assign(r,e),status:i,screen:s}]}})})},l.prototype.loadScreen=function(l){this.isLoading=!1,this.seats=l},l.prototype.fitchSalesTickets=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n;return Object(a.__generator)(this,function(u){switch(u.label){case 0:if(void 0===(l=this.purchase.data.screeningEvent))throw new Error("screeningEvent is undefined");if(void 0===l.coaInfo)throw new Error("coaInfo is undefined");return[4,this.cinerinoService.getServices()];case 1:return u.sent(),n={theaterCode:l.coaInfo.theaterCode,dateJouei:l.coaInfo.dateJouei,titleCode:l.coaInfo.titleCode,titleBranchNum:l.coaInfo.titleBranchNum,timeBegin:l.coaInfo.timeBegin,flgMember:this.user.isMember()?s.a.Member:s.a.NonMember},[4,this.cinerinoService.getSalesTickets(n)];case 2:return[2,u.sent()]}})})},l.prototype.onSubmit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n,u,t,e=this;return Object(a.__generator)(this,function(r){switch(r.label){case 0:if(0===this.seats.length)return this.notSelectSeatModal=!0,[2];if(this.seatForm.invalid)return this.seatForm.controls.terms.markAsDirty(),[2];if(this.isLoading=!0,this.purchase.isExpired())return this.router.navigate(["/expired"]),[2];r.label=1;case 1:return r.trys.push([1,4,,5]),0!==this.purchase.data.salesTickets.length?[3,3]:(l=this.purchase.data,[4,this.fitchSalesTickets()]);case 2:l.salesTickets=r.sent(),r.label=3;case 3:return[3,5];case 4:return n=r.sent(),this.error.redirect(n),[2];case 5:return r.trys.push([5,8,,9]),void 0===this.purchase.data.tmpSeatReservationAuthorization?[3,7]:[4,this.purchase.cancelSeatRegistrationProcess()];case 6:r.sent(),r.label=7;case 7:return[3,9];case 8:return u=r.sent(),this.error.redirect(u),[2];case 9:return r.trys.push([9,11,,12]),t=this.seats.map(function(l){return{seatSection:l.coaInfo.section,seatNumber:l.coaInfo.seatNum,ticketInfo:{ticketCode:e.purchase.data.salesTickets[0].ticketCode,mvtkAppPrice:0,ticketCount:1,addGlasses:0,kbnEisyahousiki:"00",mvtkNum:"",mvtkKbnDenshiken:"00",mvtkKbnMaeuriken:"00",mvtkKbnKensyu:"00",mvtkSalesPrice:0,kbnMgtk:""}}}),[4,this.purchase.seatRegistrationProcess(t)];case 10:return r.sent(),this.router.navigate(["/purchase/ticket"]),[3,12];case 11:return r.sent(),this.seatRegistrationErrorModal=!0,this.isLoading=!1,[3,12];case 12:return[2]}})})},l.prototype.seatSelect=function(l){this.seats=l},l.prototype.seatSelectionAlert=function(){this.upperLimitModal=!0},l.prototype.getSeatType=function(l){if(void 0===this.screenData)return!1;var n=this.screenData.screenConfig.specialSeats.find(function(n){return n.name===l});return void 0!==n&&n.data.length>0},l}(),ql=u("GiBk"),Ml=t.pb({encapsulation:0,styles:[[".seat-types[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .border-gray[_ngcontent-%COMP%]{border:1px solid #989898}.seat-types[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:60px}.seat-types[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .seat-grand-class[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .seat-types[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .seat-premium-class[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:31px;height:34.5px}.seat-types[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .seat-ottoman[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:36px}.seat-types[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .seat-comfort[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:31px;height:45.5px}.seat-types[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .seat-parent-and-child-pair[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56.5px;height:28px}"]],data:{}});function _l(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,3,"app-screen",[],null,[[null,"select"],[null,"alert"]],function(l,n,u){var t=!0,e=l.component;return"select"===n&&(t=!1!==e.seatSelect(u)&&t),"alert"===n&&(t=!1!==e.seatSelectionAlert()&&t),t},vl.b,vl.a)),t.qb(1,4308992,null,0,Cl.a,[t.k,m.a],{screenConfig:[0,"screenConfig"],status:[1,"status"],screen:[2,"screen"]},{select:"select",alert:"alert"}),(l()(),t.rb(2,0,null,0,1,"app-seat-info",[],null,null,null,yl,kl)),t.qb(3,114688,null,0,xl,[],{type:[0,"type"]},null)],function(l,n){var u=n.component;l(n,1,0,u.screenData.screenConfig,u.screenData.status,u.screenData.screen),l(n,3,0,t.vb(1,"",null==u.purchase.data.screeningEvent?null:null==u.purchase.data.screeningEvent.superEvent.coaInfo?null:null==u.purchase.data.screeningEvent.superEvent.coaInfo.kbnJoueihousiki?null:u.purchase.data.screeningEvent.superEvent.coaInfo.kbnJoueihousiki.kubunCode,""))},null)}function Nl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,11,"li",[["class","seat-grand-class col-12 col-md-6 mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,10,"div",[["class","d-flex align-items-center border border-gray px-3 py-2"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"div",[["class","image text-center"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,0,"img",[["src","/images/theater/seat/grand-class.svg"]],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,7,"div",[["class","px-2"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,6,"p",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" グランドクラス "])),(l()(),t.rb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["+￥3,000 "])),(l()(),t.rb(9,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,1,"span",[["class","text-small text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["（ミールクーポン1,200円分含む）"]))],null,null)}function Tl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,11,"li",[["class","seat-premium-class col-12 col-md-6 mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,10,"div",[["class","d-flex align-items-center border border-gray px-3 py-2"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"div",[["class","image text-center"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,0,"img",[["src","/images/theater/seat/premium-class.svg"]],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,7,"div",[["class","px-2"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,6,"p",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" プレミアムクラス "])),(l()(),t.rb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["+￥1,500 "])),(l()(),t.rb(9,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,1,"span",[["class","text-small text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["（ミールクーポン700円分含む）"]))],null,null)}function Sl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,6,"li",[["class","seat-comfort col-12 col-md-6 mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,5,"div",[["class","d-flex align-items-center border border-gray px-3 py-2"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"div",[["class","image text-center"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,0,"img",[["src","/images/theater/seat/comfort.svg"]],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,2,"div",[["class","px-2"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,1,"p",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["フラットシート"]))],null,null)}function Fl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"li",[["class","seat-ottoman col-12 col-md-6 mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,7,"div",[["class","d-flex align-items-center border border-gray px-3 py-2"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"div",[["class","image text-center"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,0,"img",[["src","/images/theater/seat/ottoman.svg"]],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,4,"div",[["class","px-2"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,3,"p",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["スタンダードクラス"])),(l()(),t.rb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["オットマン"]))],null,null)}function El(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"li",[["class","seat-ottoman col-12 col-md-6 mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,7,"div",[["class","d-flex align-items-center border border-gray px-3 py-2"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"div",[["class","image text-center"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,0,"img",[["src","/images/theater/seat/ottoman.svg"]],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,4,"div",[["class","px-2"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,3,"p",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["スタンダードクラス"])),(l()(),t.rb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["オットマン"]))],null,null)}function $l(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"li",[["class","seat-ottoman col-12 col-md-6 mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,7,"div",[["class","d-flex align-items-center border border-gray px-3 py-2"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"div",[["class","image text-center"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,0,"img",[["src","/images/theater/seat/ottoman.svg"]],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,4,"div",[["class","px-2"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,3,"p",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["スタンダードクラス"])),(l()(),t.rb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["オットマン"]))],null,null)}function jl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,10,"li",[["class","seat-parent-and-child-pair col-12 col-md-6 mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,9,"div",[["class","d-flex align-items-center border border-gray px-3 py-2"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"div",[["class","image text-center"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,0,"img",[["src","/images/theater/seat/parent-and-child-pair.svg"]],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,6,"div",[["class","px-2"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,1,"p",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["おやこペアシート"])),(l()(),t.rb(7,0,null,null,3,"p",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["２席単位での販売です。"])),(l()(),t.rb(9,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["大人＋小学生以下もしくは小学生以下２名のご利用をお勧めします。"]))],null,null)}function Al(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,5,"p",[["class","mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ● ミールクーポンは5Fクラッパーズダイナー、12F バール パノーラマ、劇場売店でのみご利用いただけます。"])),(l()(),t.rb(2,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ● お支払い金額がクーポンの額面に満たない場合は、おつりが出ませんのご了承ください。"])),(l()(),t.rb(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ● ミールクーポンはご鑑賞日当日のみ有効となります。 "]))],null,null)}function Rl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["利用規約に同意してください"]))],null,null)}function Vl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,92,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["座席選択"])),(l()(),t.rb(3,0,null,null,12,"p",[["class","text-left text-md-center mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご希望の座席を選択して「次へ」ボタンを押してください。 "])),(l()(),t.rb(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["選択できる座席数は最大 "])),(l()(),t.rb(7,0,null,null,1,"span",[["class","seat-limit-text"]],null,null,null,null,null)),(l()(),t.Jb(8,null,["",""])),(l()(),t.Jb(-1,null,["席までとなります。 "])),(l()(),t.rb(10,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(11,0,null,null,2,"span",[["class","d-inline d-md-none"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["画面をタッチすると画面がズームしますので座席を選択してください。 "])),(l()(),t.rb(13,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(14,0,null,null,1,"span",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※車椅子席をご希望の方は、お手数ですが通常のお席をご購入の上、対象の劇場にご連絡ください。"])),(l()(),t.rb(16,0,null,null,2,"div",[["class","mb-4"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,_l)),t.qb(18,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(19,0,null,null,15,"div",[["class","seat-types mb-3 continer px-0"]],null,null,null,null,null)),(l()(),t.rb(20,0,null,null,14,"ul",[["class","row align-items-center flex-wrap"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,Nl)),t.qb(22,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Tl)),t.qb(24,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Sl)),t.qb(26,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Fl)),t.qb(28,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,El)),t.qb(30,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,$l)),t.qb(32,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,jl)),t.qb(34,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Al)),t.qb(36,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(37,0,null,null,15,"div",[["class","bg-dark-gray p-3 rounded mb-4"]],null,null,null,null,null)),(l()(),t.rb(38,0,null,null,1,"p",[["class","mb-2 text-white"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["現在、選択されているチケットは下記のとおりです。"])),(l()(),t.rb(40,0,null,null,12,"dl",[],null,null,null,null,null)),(l()(),t.rb(41,0,null,null,1,"dt",[["class","text-warning mb-2 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["劇場 / スクリーン"])),(l()(),t.rb(43,0,null,null,1,"dd",[["class","border-bottom border-dot text-white pb-2 mb-2"]],null,null,null,null,null)),(l()(),t.Jb(44,null,[" "," / "," "])),(l()(),t.rb(45,0,null,null,1,"dt",[["class","text-warning mb-2 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["鑑賞日時"])),(l()(),t.rb(47,0,null,null,1,"dd",[["class","border-bottom border-dot text-white pb-2 mb-2"]],null,null,null,null,null)),(l()(),t.Jb(48,null,[" "," "," - "," "])),(l()(),t.rb(49,0,null,null,1,"dt",[["class","text-warning mb-2 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["作品名"])),(l()(),t.rb(51,0,null,null,1,"dd",[["class","text-white"]],null,null,null,null,null)),(l()(),t.Jb(52,null,["",""])),(l()(),t.rb(53,0,null,null,1,"h2",[["class","mb-2 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["利用規約"])),(l()(),t.rb(55,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["利用規約に同意した上で「次へ」ボタンを押してください。"])),(l()(),t.rb(57,0,null,null,1,"app-purchase-term",[["class","mb-3"]],null,null,null,wl,Jl)),t.qb(58,114688,null,0,Ol,[],{theaterCode:[0,"theaterCode"]},null),(l()(),t.rb(59,0,null,null,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,61).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,61).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.onSubmit()&&e),e},null,null)),t.qb(60,16384,null,0,D.z,[],null,null),t.qb(61,540672,null,0,D.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.g]),t.qb(63,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(64,0,null,null,10,"div",[["class","mb-4 text-center"]],null,null,null,null,null)),(l()(),t.rb(65,0,null,null,5,"input",[["formControlName","terms"],["id","terms"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,u){var e=!0;return"change"===n&&(e=!1!==t.Db(l,66).onChange(u.target.checked)&&e),"blur"===n&&(e=!1!==t.Db(l,66).onTouched()&&e),e},null,null)),t.qb(66,16384,null,0,D.b,[t.D,t.k],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.b]),t.qb(68,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(70,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.rb(71,0,null,null,1,"label",[["class","agree-label text-center font-weight-bold"],["for","terms"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 利用規約に同意する "])),(l()(),t.gb(16777216,null,null,1,null,Rl)),t.qb(74,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(75,0,null,null,15,"div",[["class","buttons mx-auto mb-5"]],null,null,null,null,null)),(l()(),t.rb(76,0,null,null,4,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t.rb(77,0,null,null,3,"button",[["class","btn btn-block btn-primary py-3 font-weight-bold"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t.rb(78,0,null,null,1,"app-icon",[["height","15"],["iconName","next-white"],["width","15"]],null,null,null,z.b,z.a)),t.qb(79,114688,null,0,K.a,[],{iconName:[0,"iconName"],width:[1,"width"],height:[2,"height"]},null),(l()(),t.Jb(-1,null,["次へ "])),(l()(),t.rb(81,0,null,null,4,"div",[["class","prev-link ticket-app-hide"]],null,null,null,null,null)),(l()(),t.rb(82,0,null,null,3,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),t.rb(83,0,null,null,1,"app-icon",[["height","15"],["iconName","prev-black"],["width","15"]],null,null,null,z.b,z.a)),t.qb(84,114688,null,0,K.a,[],{iconName:[0,"iconName"],width:[1,"width"],height:[2,"height"]},null),(l()(),t.Jb(-1,null,["戻る "])),(l()(),t.rb(86,0,null,null,4,"div",[["class","prev-link ticket-app-show"]],null,null,null,null,null)),(l()(),t.rb(87,0,null,null,3,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),t.rb(88,0,null,null,1,"app-icon",[["height","15"],["iconName","prev-black"],["width","15"]],null,null,null,z.b,z.a)),t.qb(89,114688,null,0,K.a,[],{iconName:[0,"iconName"],width:[1,"width"],height:[2,"height"]},null),(l()(),t.Jb(-1,null,["戻る "])),(l()(),t.rb(91,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(92,114688,null,0,W.a,[],null,null),(l()(),t.rb(93,0,null,null,6,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.notSelectSeatModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(94,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(95,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(96,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["座席が未選択です"])),(l()(),t.rb(98,0,null,0,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご希望の空席を選択して「次へ」ボタンを押してください。"])),(l()(),t.rb(100,0,null,null,9,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.upperLimitModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(101,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(102,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(103,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["予約座席数が上限です"])),(l()(),t.rb(105,0,null,0,4,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["予約座席数は最大 "])),(l()(),t.rb(107,0,null,null,1,"span",[["class","seat-limit-text"]],null,null,null,null,null)),(l()(),t.Jb(108,null,["",""])),(l()(),t.Jb(-1,null,["席までとなります。"])),(l()(),t.rb(110,0,null,null,10,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.seatRegistrationErrorModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(111,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(112,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(113,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["エラーが発生しました"])),(l()(),t.rb(115,0,null,0,5,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" お手続きの途中でエラーが発生しました。"])),(l()(),t.rb(117,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" お手数をおかけしますが、もう一度操作をお願いいたします。"])),(l()(),t.rb(119,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ※すでに他のお客様が同じ座席を選択した場合もこのエラーが表示されます。 "])),(l()(),t.rb(121,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(122,114688,null,0,o.a,[],{show:[0,"show"]},null)],function(l,n){var u=n.component;l(n,18,0,u.screenData),l(n,22,0,u.getSeatType("grandClass")),l(n,24,0,u.getSeatType("premiumClass")),l(n,26,0,u.getSeatType("comfort")),l(n,28,0,u.getSeatType("ottoman")),l(n,30,0,u.getSeatType("ottoman")),l(n,32,0,u.getSeatType("ottoman")),l(n,34,0,u.getSeatType("parentAndChildPairLeft")||u.getSeatType("parentAndChildPairRight")),l(n,36,0,u.getSeatType("grandClass")||u.getSeatType("premiumClass")),l(n,58,0,null==u.purchase.data.screeningEvent?null:u.purchase.data.screeningEvent.superEvent.location.branchCode.slice(-2)),l(n,61,0,u.seatForm),l(n,68,0,"terms"),l(n,74,0,u.seatForm.controls.terms.invalid&&(u.seatForm.controls.terms.dirty||u.seatForm.controls.terms.touched)),l(n,79,0,"next-white","15","15"),l(n,84,0,"prev-black","15","15"),l(n,89,0,"prev-black","15","15"),l(n,92,0),l(n,94,0,u.notSelectSeatModal,!0),l(n,101,0,u.upperLimitModal,!0),l(n,111,0,u.seatRegistrationErrorModal,!0),l(n,122,0,u.isLoading)},function(l,n){var u=n.component;l(n,8,0,null==u.purchase.data.screeningEvent?null:null==u.purchase.data.screeningEvent.coaInfo?null:u.purchase.data.screeningEvent.coaInfo.availableNum),l(n,44,0,u.purchase.getTheaterName(),u.purchase.getScreenName()),l(n,48,0,u.purchase.getAppreciationDate(),u.purchase.getStartDate(),u.purchase.getEndDate()),l(n,52,0,u.purchase.getTitle()),l(n,59,0,t.Db(n,63).ngClassUntouched,t.Db(n,63).ngClassTouched,t.Db(n,63).ngClassPristine,t.Db(n,63).ngClassDirty,t.Db(n,63).ngClassValid,t.Db(n,63).ngClassInvalid,t.Db(n,63).ngClassPending),l(n,65,0,t.Db(n,70).ngClassUntouched,t.Db(n,70).ngClassTouched,t.Db(n,70).ngClassPristine,t.Db(n,70).ngClassDirty,t.Db(n,70).ngClassValid,t.Db(n,70).ngClassInvalid,t.Db(n,70).ngClassPending),l(n,77,0,u.isLoading),l(n,82,0,t.vb(1,"",null==u.purchase.data.seller?null:u.purchase.data.seller.url,"")),l(n,87,0,t.vb(1,"",u.environment.APP_SITE_URL,"/#/purchase")),l(n,108,0,null==u.purchase.data.screeningEvent?null:null==u.purchase.data.screeningEvent.coaInfo?null:u.purchase.data.screeningEvent.coaInfo.availableNum)})}function Hl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-seat",[],null,null,null,Vl,Ml)),t.qb(1,114688,null,0,Pl,[m.a,d.l,D.e,p.a,g.a,f.b,ql.c],null,null)],function(l,n){l(n,1,0)},null)}var Ul=t.nb("app-purchase-seat",Pl,Hl,{},{},[]),Bl=u("ZGSP"),Yl=t.pb({encapsulation:0,styles:[[""]],data:{}});function zl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,11,"div",[["class","buttons mx-auto mb-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,4,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,3,"button",[["class","btn btn-block btn-primary py-3 font-weight-bold"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),t.rb(3,0,null,null,1,"app-icon",[["height","15"],["iconName","next-white"],["width","15"]],null,null,null,z.b,z.a)),t.qb(4,114688,null,0,K.a,[],{iconName:[0,"iconName"],width:[1,"width"],height:[2,"height"]},null),(l()(),t.Jb(5,null,[""," "])),(l()(),t.rb(6,0,null,null,5,"div",[["class","prev-link"]],null,null,null,null,null)),(l()(),t.rb(7,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Db(l,8).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.qb(8,671744,null,0,d.n,[d.l,d.a,_.g],{routerLink:[0,"routerLink"]},null),(l()(),t.rb(9,0,null,null,1,"app-icon",[["height","15"],["iconName","prev-black"],["width","15"]],null,null,null,z.b,z.a)),t.qb(10,114688,null,0,K.a,[],{iconName:[0,"iconName"],width:[1,"width"],height:[2,"height"]},null),(l()(),t.Jb(11,null,["",""]))],function(l,n){var u=n.component;l(n,4,0,"next-white","15","15"),l(n,8,0,t.vb(1,"",u.prevLink,"")),l(n,10,0,"prev-black","15","15")},function(l,n){var u=n.component;l(n,2,0,u.disabled),l(n,5,0,u.nextLabel),l(n,7,0,t.Db(n,8).target,t.Db(n,8).href),l(n,11,0,u.prevLabel)})}var Kl=function(){function l(l,n,u,t,e){this.purchase=l,this.user=n,this.formBuilder=u,this.router=t,this.error=e,this.getTicketPrice=L.h,this.is4DX=L.i,this.paymentMethodType=J.factory.chevre.paymentMethodType}return l.prototype.ngOnInit=function(){window.scrollTo(0,0),this.purchase.load(),this.isLoading=!1,this.ticketsModal=!1,this.discountConditionsModal=!1,this.notSelectModal=!1,this.ticketForm=this.formBuilder.group({});try{this.salesTickets=this.createSalseTickets(),this.salesMovieTickets=this.createSalseMovieTickets(),this.salesPointTickets=this.createSalsePointTickets(),this.setOffers(),this.totalPrice=this.getTotalPrice(),this.updateSalseTickets(),this.originalSaleTickets=this.salesTickets.slice()}catch(l){this.error.redirect(l)}},l.prototype.createSalseTickets=function(){var l=this.purchase.data.screeningEvent;if(void 0===l)throw new Error("screeningEvent is undefined");for(var n=w.a.POINT_TICKET.find(function(n){return void 0!==l.coaInfo&&n.THEATER===l.coaInfo.theaterCode}),u=[],t=function(l){if(void 0!==n&&void 0!==n.TICKET_CODE.find(function(n){return n===l.ticketCode}))return"continue";var t=Object.assign({},l);if(t.addGlasses=0,u.push(t),l.addGlasses>0){var e=Object.assign({},l);e.salePrice=e.salePrice+e.addGlasses,e.ticketName=e.ticketName+"メガネ込み",u.push(e)}},e=0,r=this.purchase.data.salesTickets;e<r.length;e++)t(r[e]);return u},l.prototype.createSalseMovieTickets=function(){for(var l=[],n=0,u=this.purchase.data.movieTickets;n<u.length;n++)for(var t=u[n],e=0;e<Number(t.ykknInfo.ykknKnshbtsmiNum);e++){var r=("00"+e).slice(-2),i={id:""+t.knyknrNoInfo.knyknrNo+t.ykknInfo.ykknshTyp+r,selected:!1,addGlasses:0,salePrice:Number(t.ticketcodeResult.addPrice),ticketName:t.ticketcodeResult.ticketName},o=Object.assign(i,t);if(l.push(o),t.ticketcodeResult.addPriceGlasses>0){var a={id:""+t.knyknrNoInfo.knyknrNo+t.ykknInfo.ykknshTyp+r,selected:!1,addGlasses:Number(t.ticketcodeResult.addPriceGlasses),salePrice:Number(t.ticketcodeResult.addPriceGlasses)+Number(t.ticketcodeResult.addPrice),ticketName:t.ticketcodeResult.ticketName+" メガネ込み"},s=Object.assign(a,t);l.push(s)}}return l},l.prototype.createSalsePointTickets=function(){for(var l=[],n=0,u=function(u){var e=t.purchase.data.salesTickets.find(function(l){return l.ticketCode===u.ticketCode});if(void 0===e)throw new Error("salesTicket is not found");var r={ticketCode:e.ticketCode,ticketName:e.ticketName,ticketNameKana:e.ticketNameKana,ticketNameEng:e.ticketNameEng,stdPrice:e.salePrice,addPrice:e.addPrice,salePrice:e.salePrice,limitCount:e.limitCount,limitUnit:e.limitUnit,ticketNote:e.ticketNote,addGlasses:e.addGlasses,selected:!1,id:""+e.ticketCode+n},i=Object.assign({},r);if(i.addGlasses=0,l.push(i),r.addGlasses>0){var o=Object.assign({},r);o.salePrice=o.salePrice+o.addGlasses,o.ticketName=o.ticketName+"メガネ込み",l.push(o)}n++},t=this,e=0,r=this.purchase.data.pointTickets;e<r.length;e++)u(r[e]);return l},l.prototype.updateSalseTickets=function(){this.updateSalseMovieTickets();for(var l=0,n=this.salesPointTickets;l<n.length;l++)n[l].selected=!1;for(var u=function(l){if(0===l.ticketInfo.usePoint)return"continue";var n=t.salesPointTickets.find(function(n){return l.ticketInfo.ticketCode===n.ticketCode&&!n.selected});if(void 0!==n){n.selected=!0;var u=t.salesPointTickets.find(function(l){return n.id===l.id&&!l.selected});void 0!==u&&(u.selected=!0)}},t=this,e=0,r=this.offers;e<r.length;e++)u(r[e])},l.prototype.updateSalseMovieTickets=function(){for(var l=this.salesMovieTickets,n=0,u=l;n<u.length;n++)u[n].selected=!1;for(var t=function(n){if(""===n.ticketInfo.mvtkNum)return"continue";var u=l.find(function(l){return n.ticketInfo.mvtkNum===l.knyknrNoInfo.knyknrNo&&n.ticketInfo.ticketCode===l.ticketcodeResult.ticketCode&&!l.selected});if(void 0!==u){u.selected=!0;var t=l.find(function(l){return u.id===l.id&&!l.selected});void 0!==t&&(t.selected=!0)}},e=0,r=this.offers;e<r.length;e++)t(r[e])},l.prototype.onSubmit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n;return Object(a.__generator)(this,function(u){switch(u.label){case 0:if(this.offers.filter(function(l){return!l.selected}).length>0)return this.notSelectModal=!0,[2];if(this.ticketValidation())return window.scrollTo(0,0),this.discountConditionsModal=!0,[2];if(this.isLoading=!0,this.purchase.isExpired())return this.router.navigate(["/expired"]),[2];u.label=1;case 1:return u.trys.push([1,3,,4]),l=this.offers.map(function(l){return{seatSection:l.seatSection,seatNumber:l.seatNumber,ticketInfo:l.ticketInfo}}),[4,this.purchase.ticketRegistrationProcess(l)];case 2:return u.sent(),this.router.navigate(["/purchase/input"]),[3,4];case 3:return n=u.sent(),this.error.redirect(n),[3,4];case 4:return[2]}})})},l.prototype.setOffers=function(){var l=this;void 0===this.purchase.data.seatReservationAuthorization&&void 0!==this.purchase.data.tmpSeatReservationAuthorization?this.offers=this.purchase.data.tmpSeatReservationAuthorization.object.acceptedOffer.map(function(l){return{price:l.price,priceCurrency:l.priceCurrency,seatNumber:l.seatNumber,seatSection:l.seatSection,mvtkNum:"",selected:!1,limitCount:0,limitUnit:"",validation:!1,ticketInfo:l.ticketInfo}}):void 0!==this.purchase.data.seatReservationAuthorization&&(this.offers=this.purchase.data.seatReservationAuthorization.object.acceptedOffer.map(function(n){if(""!==n.ticketInfo.mvtkNum)return{price:n.price,priceCurrency:n.priceCurrency,seatNumber:n.seatNumber,seatSection:n.seatSection,mvtkNum:n.ticketInfo.mvtkNum,selected:!0,limitCount:1,limitUnit:"001",validation:!1,ticketInfo:n.ticketInfo};if(n.ticketInfo.usePoint>0){if(void 0===(u=l.salesPointTickets.find(function(l){return n.ticketInfo.ticketCode===l.ticketCode&&n.ticketInfo.addGlasses===l.addGlasses})))throw new Error("ticket is not found");return{price:n.price,priceCurrency:n.priceCurrency,seatNumber:n.seatNumber,seatSection:n.seatSection,mvtkNum:n.ticketInfo.mvtkNum,selected:!0,limitCount:u.limitCount,limitUnit:u.limitUnit,validation:!1,ticketInfo:n.ticketInfo}}var u;if(void 0===(u=l.salesTickets.find(function(l){return n.ticketInfo.ticketCode===l.ticketCode&&n.ticketInfo.addGlasses===l.addGlasses})))throw new Error("ticket is not found");return{price:n.price,priceCurrency:n.priceCurrency,seatNumber:n.seatNumber,seatSection:n.seatSection,mvtkNum:n.ticketInfo.mvtkNum,selected:!0,limitCount:u.limitCount,limitUnit:u.limitUnit,validation:!1,ticketInfo:n.ticketInfo}}))},l.prototype.ticketValidation=function(){for(var l=!1,n=function(n){"001"===n.limitUnit&&u.offers.filter(function(l){return"001"===l.limitUnit&&l.limitCount===n.limitCount}).length%n.limitCount!=0&&(n.validation=!0,l=!0)},u=this,t=0,e=this.offers;t<e.length;t++)n(e[t]);return l},l.prototype.getTotalPrice=function(){for(var l=0,n=0,u=this.offers.filter(function(l){return l.selected});n<u.length;n++){var t=u[n];l+=Object(L.h)(t)}return l},l.prototype.ticketSelect=function(l){this.selectOffer=l,this.ticketsModal=!0},l.prototype.selectSalseTicket=function(l){var n=this,u=this.offers.find(function(l){return l.seatNumber===n.selectOffer.seatNumber});if(void 0!==u){if(void 0!==this.purchase.data.screeningEvent){var t=this.purchase.getMemberTicketCode();t.indexOf(l.ticketCode)>=0?(this.salesTickets=this.salesTickets.filter(function(l){return t.indexOf(l.ticketCode)<0}),this.ltdSelected=u):this.ltdSelected===u&&(this.ltdSelected=void 0,this.salesTickets=this.originalSaleTickets)}var e=this.purchase.data.pointTickets.find(function(n){return n.ticketCode===l.ticketCode}),r=void 0!==e?e.usePoint:0,i=void 0===u.ticketInfo.spseatAdd1?0:u.ticketInfo.spseatAdd1;u.price=l.salePrice,u.priceCurrency=this.selectOffer.priceCurrency,u.seatNumber=this.selectOffer.seatNumber,u.seatSection=this.selectOffer.seatSection,u.selected=!0,u.limitCount=l.limitCount,u.limitUnit=l.limitUnit,u.ticketInfo={mvtkNum:"",ticketCode:l.ticketCode,ticketName:l.ticketName,mvtkAppPrice:0,addGlasses:l.addGlasses,kbnEisyahousiki:"00",mvtkKbnDenshiken:"00",mvtkKbnMaeuriken:"00",mvtkKbnKensyu:"00",mvtkSalesPrice:0,addPrice:l.addPrice,disPrice:0,salePrice:l.salePrice+i,seatNum:this.selectOffer.seatNumber,stdPrice:l.stdPrice,ticketCount:1,ticketNameEng:l.ticketNameEng,ticketNameKana:l.ticketNameKana,usePoint:r,spseatAdd1:u.ticketInfo.spseatAdd1,spseatAdd2:u.ticketInfo.spseatAdd2,spseatKbn:u.ticketInfo.spseatKbn,kbnMgtk:""},this.totalPrice=this.getTotalPrice(),this.updateSalseTickets(),this.ticketsModal=!1}else this.ticketsModal=!1},l.prototype.selectMovieTicket=function(l){var n=this,u=this.offers.find(function(l){return l.seatNumber===n.selectOffer.seatNumber});if(void 0!==u){var t=void 0===u.ticketInfo.spseatAdd1?0:u.ticketInfo.spseatAdd1;u.price=l.salePrice,u.priceCurrency=this.selectOffer.priceCurrency,u.seatNumber=this.selectOffer.seatNumber,u.seatSection=this.selectOffer.seatSection,u.selected=!0,u.limitCount=1,u.limitUnit="001",u.ticketInfo={mvtkNum:l.knyknrNoInfo.knyknrNo,ticketCode:l.ticketcodeResult.ticketCode,ticketName:l.ticketName,mvtkAppPrice:Number(l.ykknInfo.kijUnip),addGlasses:l.addGlasses,kbnEisyahousiki:l.ykknInfo.eishhshkTyp,mvtkKbnDenshiken:l.knyknrNoInfo.dnshKmTyp,mvtkKbnMaeuriken:l.knyknrNoInfo.znkkkytsknGkjknTyp,mvtkKbnKensyu:l.ykknInfo.ykknshTyp,mvtkSalesPrice:Number(l.ykknInfo.knshknhmbiUnip),addPrice:l.ticketcodeResult.addPrice,disPrice:0,salePrice:l.salePrice+t,seatNum:this.selectOffer.seatNumber,stdPrice:0,ticketCount:1,ticketNameEng:l.ticketcodeResult.ticketNameEng,ticketNameKana:l.ticketcodeResult.ticketNameKana,spseatAdd1:u.ticketInfo.spseatAdd1,spseatAdd2:u.ticketInfo.spseatAdd2,spseatKbn:u.ticketInfo.spseatKbn,kbnMgtk:l.paymentMethodType===this.paymentMethodType.MGTicket?"MG":""},this.totalPrice=this.getTotalPrice(),this.updateSalseTickets(),this.ticketsModal=!1}else this.ticketsModal=!1},l.prototype.getSalseTicketPrice=function(l){if(void 0===this.selectOffer)return l.salePrice;var n=this.selectOffer.ticketInfo;return l.salePrice+(void 0===n.spseatAdd1?0:n.spseatAdd1)+(void 0===n.spseatAdd2?0:n.spseatAdd2)},l}(),Gl=t.pb({encapsulation:0,styles:[[".validation[_ngcontent-%COMP%]   .btn.text-primary[_ngcontent-%COMP%]{border-color:#c30d23!important;color:#c30d23!important;background-color:#ffe8eb!important}.btn-mvtk[_ngcontent-%COMP%]{border-color:#d82918!important}.border-bottom[_ngcontent-%COMP%]:last-child{border:none!important}.disabled[_ngcontent-%COMP%]{display:none}"]],data:{}});function Wl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"div",[["class","container p-3 rounded bg-light-gray mb-3 mvtk"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,7,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"dt",[["class","col-12 col-md-6 mb-3 mb-md-0 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ムビチケ券を利用される方"])),(l()(),t.rb(4,0,null,null,4,"dd",[["class","col-12 col-md-6"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,3,"button",[["class","btn btn-block bg-white border btn-mvtk py-3"],["routerLink","/purchase/mvtk/input"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Db(l,6).onClick()&&e),e},null,null)),t.qb(6,16384,null,0,d.m,[d.l,d.a,[8,null],t.D,t.k],{routerLink:[0,"routerLink"]},null),(l()(),t.rb(7,0,null,null,0,"img",[["alt","ムビチケ"],["src","/assets/images/common/mvtk_logo.svg"],["width","100"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["を利用する "]))],function(l,n){l(n,6,0,"/purchase/mvtk/input")},null)}function Ql(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,7,"div",[["class","container p-3 rounded bg-light-gray mb-3 mg"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,6,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"dt",[["class","col-12 col-md-6 mb-3 mb-md-0 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["CSチケットを利用される方"])),(l()(),t.rb(4,0,null,null,3,"dd",[["class","col-12 col-md-6"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,2,"button",[["class","btn btn-block border-primary bg-white btn-mg py-3"],["routerLink","/purchase/mg/input"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Db(l,6).onClick()&&e),e},null,null)),t.qb(6,16384,null,0,d.m,[d.l,d.a,[8,null],t.D,t.k],{routerLink:[0,"routerLink"]},null),(l()(),t.Jb(-1,null,[" CSチケットを利用する "]))],function(l,n){l(n,6,0,"/purchase/mg/input")},null)}function Xl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,9,"div",[["class","container p-3 rounded bg-light-gray mb-3 point"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,8,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"dt",[["class","col-12 col-md-6 mb-3 mb-md-0 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["会員ポイントを利用される方"])),(l()(),t.rb(4,0,null,null,5,"dd",[["class","col-12 col-md-6"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,4,"button",[["class","btn btn-block border-primary bg-white btn-point py-3"],["routerLink","/purchase/point"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Db(l,6).onClick()&&e),e},null,null)),t.qb(6,16384,null,0,d.m,[d.l,d.a,[8,null],t.D,t.k],{routerLink:[0,"routerLink"]},null),(l()(),t.rb(7,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["会員ポイント"])),(l()(),t.Jb(-1,null,["を利用する "]))],function(l,n){l(n,6,0,"/purchase/point")},null)}function Zl(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"button",[["class","btn btn-block btn-primary py-3"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.ticketSelect(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t.Jb(-1,null,[" 券種を選択してください "]))],null,null)}function ln(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"button",[["class","btn btn-block border-primary text-primary bg-white py-3"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.ticketSelect(l.parent.context.$implicit)&&t),t},null,null)),(l()(),t.Jb(1,null,[" "," ￥"," "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.ticketInfo.ticketName,n.component.getTicketPrice(n.parent.context.$implicit))})}function nn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"li",[["class","container px-0 py-3 border-bottom border-dot border-gray"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,7,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"dt",[["class","col-12 col-md-6 mb-3 mb-md-0 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(3,null,["",""])),(l()(),t.rb(4,0,null,null,4,"dd",[["class","col-12 col-md-6"]],[[2,"validation",null]],null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,Zl)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,ln)),t.qb(8,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,6,0,!n.context.$implicit.selected),l(n,8,0,n.context.$implicit.selected)},function(l,n){l(n,3,0,n.context.$implicit.seatNumber),l(n,4,0,n.context.$implicit.validation)})}function un(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,7,"p",[["class","text-small mb-1"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ※[４DXをご鑑賞のお客様へ] "])),(l()(),t.rb(2,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ４DX®作品は「身長100cm未満の方は入場不可」「身長120cm未満のお子様は保護者同伴」の入場制限がありますので、ご注意くださいませ。 "])),(l()(),t.rb(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" また、妊娠されている方、ご高齢の方、心臓・背中・腰・首などに障害のある方、特別な疾病のある方、乗り物酔いしやすい方、体調に不安のある方はご利用になれません。 "])),(l()(),t.rb(6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 上映中のホットドリンク・アルコールはご遠慮ください。 "]))],null,null)}function tn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-small font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" ムビチケ購入番号 "," "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.knyknrNoInfo.knyknrNo)})}function en(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-small font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" CSチケット購入番号 "," "]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.knyknrNoInfo.knyknrNo)})}function rn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,11,"li",[["class","container px-0"]],[[2,"disabled",null]],null,null,null,null)),(l()(),t.rb(1,0,null,null,10,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,6,"dt",[["class","col-7 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,1,"p",[["class","mb-1 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(4,null,[" "," ￥"," "])),(l()(),t.gb(16777216,null,null,1,null,tn)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,en)),t.qb(8,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(9,0,null,null,2,"dd",[["class","col-5 col-md-4 text-right"]],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,1,"button",[["class","btn btn-primary py-2 px-4"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectMovieTicket(l.context.$implicit)&&t),t},null,null)),(l()(),t.Jb(-1,null,["選択"]))],function(l,n){var u=n.component;l(n,6,0,n.context.$implicit.paymentMethodType===u.paymentMethodType.MovieTicket),l(n,8,0,n.context.$implicit.paymentMethodType===u.paymentMethodType.MGTicket)},function(l,n){var u=n.component;l(n,0,0,n.context.$implicit.selected),l(n,4,0,n.context.$implicit.ticketName,u.getSalseTicketPrice(n.context.$implicit))})}function on(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,9,"li",[],[[2,"disabled",null]],null,null,null,null)),(l()(),t.rb(1,0,null,null,8,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,4,"dt",[["class","col-7 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,1,"div",[["class","mb-1 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(4,null,[" "," ￥"," "])),(l()(),t.rb(5,0,null,null,1,"p",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(6,null,["",""])),(l()(),t.rb(7,0,null,null,2,"dd",[["class","col-5 col-md-4 text-right"]],null,null,null,null,null)),(l()(),t.rb(8,0,null,null,1,"button",[["class","btn btn-primary py-2 px-4"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectSalseTicket(l.context.$implicit)&&t),t},null,null)),(l()(),t.Jb(-1,null,["選択"]))],null,function(l,n){var u=n.component;l(n,0,0,n.context.$implicit.selected),l(n,4,0,n.context.$implicit.ticketName,u.getSalseTicketPrice(n.context.$implicit)),l(n,6,0,n.context.$implicit.ticketNote)})}function an(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,9,"li",[["class","border-bottom border-dot border-gray py-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,8,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,4,"dt",[["class","col-7 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,1,"p",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(4,null,[" "," ￥"," "])),(l()(),t.rb(5,0,null,null,1,"p",[["class","mt-1 text-small font-weight-normal"]],null,null,null,null,null)),(l()(),t.Jb(6,null,["",""])),(l()(),t.rb(7,0,null,null,2,"dd",[["class","col-5 col-md-4 text-right"]],null,null,null,null,null)),(l()(),t.rb(8,0,null,null,1,"button",[["class","btn btn-primary py-2 px-4"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectSalseTicket(l.context.$implicit)&&t),t},null,null)),(l()(),t.Jb(-1,null,["選択"]))],null,function(l,n){l(n,4,0,n.context.$implicit.ticketName,n.component.getSalseTicketPrice(n.context.$implicit)),l(n,6,0,n.context.$implicit.ticketNote)})}function sn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,43,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["券種選択"])),(l()(),t.rb(3,0,null,null,1,"p",[["class","text-left text-md-center mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご希望の券種を選択して「次へ」ボタンを押してください。"])),(l()(),t.gb(16777216,null,null,2,null,Wl)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),t.Fb(7,{paymentMethodType:0}),(l()(),t.gb(16777216,null,null,2,null,Ql)),t.qb(9,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),t.Fb(10,{paymentMethodType:0}),(l()(),t.gb(16777216,null,null,1,null,Xl)),t.qb(12,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(13,0,null,null,2,"ul",[["class","px-3 rounded bg-light-gray mb-3 seats"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,nn)),t.qb(15,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(16,0,null,null,18,"div",[["class","p-3 rounded bg-light-gray mb-4 total"]],null,null,null,null,null)),(l()(),t.rb(17,0,null,null,8,"div",[["class","text-right mb-2"]],null,null,null,null,null)),(l()(),t.rb(18,0,null,null,3,"div",[["class","mb-2 mb-1"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入枚数 "])),(l()(),t.rb(20,0,null,null,1,"span",[["class","text-danger text-large font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(21,null,["","枚"])),(l()(),t.rb(22,0,null,null,3,"div",[["class",""]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["合計金額 "])),(l()(),t.rb(24,0,null,null,1,"span",[["class","text-danger text-large font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(25,null,["","円"])),(l()(),t.rb(26,0,null,null,0,"div",[["class","border-bottom-dot mb-2"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,un)),t.qb(28,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(29,0,null,null,5,"p",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※メンバーズカード提示による割引やその他割引券などのご利用はできません。 "])),(l()(),t.rb(31,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※車椅子席をご希望の方は、お手数ですが通常のお席をご購入の上、対象の劇場にご連絡ください。 "])),(l()(),t.rb(33,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※ムビチケ券によっては別途追加料金が発生する場合がありますのでご了承ください。 "])),(l()(),t.rb(35,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,37).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,37).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.onSubmit()&&e),e},null,null)),t.qb(36,16384,null,0,D.z,[],null,null),t.qb(37,540672,null,0,D.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.g]),t.qb(39,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(40,0,null,null,1,"app-buttons",[["nextLabel","次へ"],["prevLabel","戻る"],["prevLink","/purchase/seat"]],null,null,null,zl,Yl)),t.qb(41,114688,null,0,Bl.a,[],{nextLabel:[0,"nextLabel"],prevLabel:[1,"prevLabel"],prevLink:[2,"prevLink"],disabled:[3,"disabled"]},null),(l()(),t.rb(42,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(43,114688,null,0,W.a,[],null,null),(l()(),t.rb(44,0,null,null,8,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.ticketsModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(45,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(46,0,null,1,6,"ul",[["class","not-layout px-3 bg-light-gray"],["inner",""]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,rn)),t.qb(48,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,null,1,null,on)),t.qb(50,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,null,1,null,an)),t.qb(52,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(53,0,null,null,6,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.notSelectModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(54,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(55,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(56,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["券種が未選択です"])),(l()(),t.rb(58,0,null,0,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご希望の券種を選択して「次へ」ボタンを押してください。"])),(l()(),t.rb(60,0,null,null,8,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.discountConditionsModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(61,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(62,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(63,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["割引条件が満たされていません"])),(l()(),t.rb(65,0,null,0,3,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["選択した券種の中に、割引券が含まれています。 "])),(l()(),t.rb(67,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 割引券の適用条件を再度ご確認ください。 "])),(l()(),t.rb(69,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(70,114688,null,0,o.a,[],{show:[0,"show"]},null)],function(l,n){var u=n.component,t=u.purchase.isUsedMovieTicket(l(n,7,0,u.paymentMethodType.MovieTicket));l(n,6,0,t);var e=u.purchase.isUsedMovieTicket(l(n,10,0,u.paymentMethodType.MGTicket));l(n,9,0,e),l(n,12,0,u.user.isMember()&&u.purchase.isUsedPoint()&&0===u.purchase.data.pointTickets.length),l(n,15,0,u.offers),l(n,28,0,u.is4DX(u.purchase.data.screeningEvent)),l(n,37,0,u.ticketForm),l(n,41,0,"次へ","戻る","/purchase/seat",u.isLoading),l(n,43,0),l(n,45,0,u.ticketsModal,!1),l(n,48,0,u.salesMovieTickets),l(n,50,0,u.salesPointTickets),l(n,52,0,u.salesTickets),l(n,54,0,u.notSelectModal,!0),l(n,61,0,u.discountConditionsModal,!0),l(n,70,0,u.isLoading)},function(l,n){var u=n.component;l(n,21,0,u.offers.length),l(n,25,0,u.totalPrice),l(n,35,0,t.Db(n,39).ngClassUntouched,t.Db(n,39).ngClassTouched,t.Db(n,39).ngClassPristine,t.Db(n,39).ngClassDirty,t.Db(n,39).ngClassValid,t.Db(n,39).ngClassInvalid,t.Db(n,39).ngClassPending)})}function cn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-ticket",[],null,null,null,sn,Gl)),t.qb(1,114688,null,0,Kl,[m.a,f.b,D.e,d.l,g.a],null,null)],function(l,n){l(n,1,0)},null)}var bn=t.nb("app-purchase-ticket",Kl,cn,{},{},[]),dn=u("WxsR"),pn=function(l){return l.Input="input",l.Registered="registered",l}({}),mn=function(){function l(l,n,u,t,e,r,i,o){this.purchase=l,this.user=n,this.elementRef=u,this.formBuilder=t,this.router=e,this.error=r,this.awsCognito=i,this.cinerinoService=o}return l.prototype.ngOnInit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n,u,t,e,r;return Object(a.__generator)(this,function(i){switch(i.label){case 0:window.scrollTo(0,0),this.isLoading=!1,this.cardExpiration={year:[],month:[]},this.inputForm=this.createForm(),this.creditCardType=pn.Input,this.creditCardAlertModal=this.purchase.data.isCreditCardError,this.purchase.data.isCreditCardError&&(this.purchase.data.isCreditCardError=!1,this.inputForm.controls.cardNumber.markAsTouched(),this.inputForm.controls.cardExpirationMonth.markAsTouched(),this.inputForm.controls.cardExpirationYear.markAsTouched(),this.inputForm.controls.securityCode.markAsTouched(),this.inputForm.controls.holderName.markAsTouched(),this.validationScroll()),this.securityCodeModal=!1,i.label=1;case 1:return i.trys.push([1,5,,6]),!this.user.isNative()||this.user.isMember()?[3,3]:[4,this.awsCognito.getRecords({datasetName:"profile"})];case 2:return void 0===(l=i.sent()).familyName&&void 0===l.givenName&&void 0===l.email&&void 0===l.emailConfirm&&void 0===l.telephone||(this.inputForm.controls.familyName.setValue(Object(L.b)(l.familyName)),this.inputForm.controls.givenName.setValue(Object(L.b)(l.givenName)),this.inputForm.controls.email.setValue(l.email),this.inputForm.controls.emailConfirm.setValue(l.email),this.inputForm.controls.telephone.setValue(l.telephone)),[3,4];case 3:if(this.user.isMember()){if(void 0===this.user.data.profile)throw new Error("profile is undefined");if(n=this.user.data.profile,0===this.user.data.creditCards.length)throw new Error("creditCards is notfoud");u=void 0===n.familyName?"":Object(L.b)(n.familyName),t=void 0===n.givenName?"":Object(L.b)(n.givenName),e=void 0===n.telephone?"":Object(L.d)(n.telephone,"National").replace(/-/g,""),this.inputForm.controls.familyName.setValue(u),this.inputForm.controls.givenName.setValue(t),this.inputForm.controls.email.setValue(n.email),this.inputForm.controls.emailConfirm.setValue(n.email),this.inputForm.controls.telephone.setValue(e),this.purchase.getTotalPrice()>0&&this.changeRegisteredCreditCard()}i.label=4;case 4:return[3,6];case 5:return r=i.sent(),this.error.redirect(r),[3,6];case 6:return[2]}})})},l.prototype.validationScroll=function(){var l=this;setTimeout(function(){var n=l.elementRef.nativeElement.querySelector(".validation");if(null!==n){var u=n.getBoundingClientRect(),t=window.pageYOffset||document.documentElement.scrollTop;window.scrollTo(0,u.top+t-50)}},0)},l.prototype.onSubmit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n,u,t,e;return Object(a.__generator)(this,function(r){switch(r.label){case 0:if(this.inputForm.invalid)return this.inputForm.controls.familyName.markAsTouched(),this.inputForm.controls.givenName.markAsTouched(),this.inputForm.controls.email.markAsTouched(),this.inputForm.controls.emailConfirm.markAsTouched(),this.inputForm.controls.telephone.markAsTouched(),this.purchase.getTotalPrice()>0&&(this.inputForm.controls.cardNumber.markAsTouched(),this.inputForm.controls.cardExpirationMonth.markAsTouched(),this.inputForm.controls.cardExpirationYear.markAsTouched(),this.inputForm.controls.securityCode.markAsTouched(),this.inputForm.controls.holderName.markAsTouched()),this.validationScroll(),[2];if(this.inputForm.controls.email.value!==this.inputForm.controls.emailConfirm.value)return this.validationScroll(),[2];if(this.purchase.isExpired())return this.router.navigate(["/expired"]),[2];this.isLoading=!0,r.label=1;case 1:if(r.trys.push([1,13,,14]),void 0===this.purchase.data.transaction)throw new Error("status is different");if(!(this.purchase.getTotalPrice()>0))return[3,11];r.label=2;case 2:return r.trys.push([2,6,,7]),this.creditCardType!==pn.Input?[3,4]:(l=this.purchase.data,[4,this.getGmoObject()]);case 3:return l.gmoTokenObject=r.sent(),this.purchase.data.paymentCreditCard={token:this.purchase.data.gmoTokenObject.token},[3,5];case 4:this.purchase.data.paymentCreditCard={memberId:"me",cardSeq:Number(this.user.data.creditCards[0].cardSeq)},r.label=5;case 5:return[3,7];case 6:return n=r.sent(),console.error(n),this.isLoading=!1,this.creditCardAlertModal=!0,this.creditCardType===pn.Input&&(this.inputForm.controls.cardNumber.setValue(""),this.inputForm.controls.securityCode.setValue(""),this.inputForm.controls.holderName.setValue("")),[2];case 7:return this.user.isMember()&&this.inputForm.controls.saveCreditCard.value&&void 0!==this.purchase.data.gmoTokenObject?[4,this.cinerinoService.getServices()]:[3,11];case 8:return r.sent(),[4,this.getGmoObject()];case 9:return u=r.sent(),[4,this.cinerinoService.ownershipInfo.addCreditCard({creditCard:{token:u.token}})];case 10:r.sent(),r.label=11;case 11:return t={familyName:Object(L.a)(this.inputForm.controls.familyName.value),givenName:Object(L.a)(this.inputForm.controls.givenName.value),email:this.inputForm.controls.email.value,telephone:this.inputForm.controls.telephone.value},[4,this.purchase.customerContactRegistrationProcess(t)];case 12:return r.sent(),this.router.navigate(["/purchase/confirm"]),[3,14];case 13:return e=r.sent(),this.error.redirect(e),[3,14];case 14:return[2]}})})},l.prototype.getGmoObject=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n=this;return Object(a.__generator)(this,function(u){return l={cardno:this.inputForm.controls.cardNumber.value,expire:this.inputForm.controls.cardExpirationYear.value+this.inputForm.controls.cardExpirationMonth.value,securitycode:this.inputForm.controls.securityCode.value,holdername:this.inputForm.controls.holderName.value},[2,new Promise(function(u,t){var e=n.purchase.data.seller;if(void 0===e||void 0===e.paymentAccepted)return t(new Error("status is different"));window.someCallbackFunction=function(l){"000"===l.resultCode?u(l.tokenObject):t(new Error(l.resultCode))};var r=window.Multipayment,i=e.paymentAccepted.find(function(l){return l.paymentMethodType===J.factory.paymentMethodType.CreditCard});if(void 0===i)return t(new Error("findPaymentAcceptedResult is undefined"));r.init(i.gmoInfo.shopId),r.getToken(l,window.someCallbackFunction)})]})})},l.prototype.createForm=function(){var l=this.purchase.getTotalPrice(),n={familyName:{value:"",validators:[D.u.required,D.u.maxLength(12),D.u.pattern(/^[ァ-ヶー]+$/)]},givenName:{value:"",validators:[D.u.required,D.u.maxLength(12),D.u.pattern(/^[ァ-ヶー]+$/)]},email:{value:"",validators:[D.u.required,D.u.maxLength(50),D.u.email]},emailConfirm:{value:"",validators:[D.u.required,D.u.maxLength(50),D.u.email]},telephone:{value:"",validators:[D.u.required,D.u.maxLength(11),D.u.minLength(9),D.u.pattern(/^[0-9]+$/),function(l){var n=l.root.get("telephone");if(null!==n){var u=dn.c(n.value,"JP");if(void 0===u.phone)return{telephone:!0};if(!dn.b(u))return{telephone:!0}}return null}]},cardNumber:{value:"",validators:[D.u.required,D.u.pattern(/^[0-9]+$/)]},cardExpirationMonth:{value:"01",validators:[D.u.required]},cardExpirationYear:{value:E().format("YYYY"),validators:[D.u.required]},securityCode:{value:"",validators:[D.u.required]},holderName:{value:"",validators:[D.u.required]}};if(void 0!==this.purchase.data.customerContact){var u=void 0===this.purchase.data.customerContact.familyName?"":Object(L.b)(this.purchase.data.customerContact.familyName),t=void 0===this.purchase.data.customerContact.givenName?"":Object(L.b)(this.purchase.data.customerContact.givenName),e=void 0===this.purchase.data.customerContact.email?"":this.purchase.data.customerContact.email,r=void 0===this.purchase.data.customerContact.telephone?"":(new Q.b).transform(this.purchase.data.customerContact.telephone);n.familyName.value=u,n.givenName.value=t,n.email.value=e,n.emailConfirm.value=e,n.telephone.value=r}if(l>0){for(var i=0;i<12;i++)this.cardExpiration.month.push(("0"+String(i+1)).slice(-2));for(i=0;i<10;i++)this.cardExpiration.year.push(E().add(i,"year").format("YYYY"));return this.user.isMember()?this.formBuilder.group({familyName:[n.familyName.value,n.familyName.validators],givenName:[n.givenName.value,n.givenName.validators],email:[n.email.value,n.email.validators],emailConfirm:[n.emailConfirm.value,n.emailConfirm.validators],telephone:[n.telephone.value,n.telephone.validators],cardNumber:[n.cardNumber.value,n.cardNumber.validators],cardExpirationMonth:[n.cardExpirationMonth.value,n.cardExpirationMonth.validators],cardExpirationYear:[n.cardExpirationYear.value,n.cardExpirationYear.validators],securityCode:[n.securityCode.value,n.securityCode.validators],holderName:[n.holderName.value,n.holderName.validators],saveCreditCard:[!1]}):this.formBuilder.group({familyName:[n.familyName.value,n.familyName.validators],givenName:[n.givenName.value,n.givenName.validators],email:[n.email.value,n.email.validators],emailConfirm:[n.emailConfirm.value,n.emailConfirm.validators],telephone:[n.telephone.value,n.telephone.validators],cardNumber:[n.cardNumber.value,n.cardNumber.validators],cardExpirationMonth:[n.cardExpirationMonth.value,n.cardExpirationMonth.validators],cardExpirationYear:[n.cardExpirationYear.value,n.cardExpirationYear.validators],securityCode:[n.securityCode.value,n.securityCode.validators],holderName:[n.holderName.value,n.holderName.validators]})}return this.formBuilder.group({familyName:[n.familyName.value,n.familyName.validators],givenName:[n.givenName.value,n.givenName.validators],email:[n.email.value,n.email.validators],emailConfirm:[n.emailConfirm.value,n.emailConfirm.validators],telephone:[n.telephone.value,n.telephone.validators]})},l.prototype.changeInputCreditCard=function(){this.creditCardType=pn.Input,this.inputForm.controls.cardNumber.setValue(""),this.inputForm.controls.cardExpirationMonth.setValue("01"),this.inputForm.controls.cardExpirationYear.setValue(E().format("YYYY")),this.inputForm.controls.securityCode.setValue(""),this.inputForm.controls.holderName.setValue("")},l.prototype.changeRegisteredCreditCard=function(){this.creditCardType=pn.Registered,this.inputForm.controls.cardNumber.setValue("4111111111111111"),this.inputForm.controls.cardExpirationMonth.setValue("01"),this.inputForm.controls.cardExpirationYear.setValue(E().format("YYYY")),this.inputForm.controls.securityCode.setValue("123"),this.inputForm.controls.holderName.setValue("TEST")},l}(),gn=t.pb({encapsulation:0,styles:[[".validation[_ngcontent-%COMP%]{border-color:#c30d23!important;background-color:#ffe8eb!important}.creditcard-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:22px}@media screen and (max-width:767px){.creditcard-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto}}.form-control[_ngcontent-%COMP%]{max-width:500px}.security-code-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}"]],data:{}});function hn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" セイが未入力です"]))],null,null)}function fn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" セイは","文字以下で入力してください "]))],null,function(l,n){var u=n.component;l(n,1,0,null==u.inputForm.controls.familyName.errors?null:u.inputForm.controls.familyName.errors.maxlength.requiredLength)})}function vn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" セイは全角カタカナで入力してください "]))],null,null)}function Cn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,hn)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,fn)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,vn)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,null==u.inputForm.controls.familyName.errors?null:u.inputForm.controls.familyName.errors.required),l(n,4,0,null==u.inputForm.controls.familyName.errors?null:u.inputForm.controls.familyName.errors.maxlength),l(n,6,0,null==u.inputForm.controls.familyName.errors?null:u.inputForm.controls.familyName.errors.pattern)},null)}function xn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" メイが未入力です "]))],null,null)}function kn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" メイは","文字以下で入力してください "]))],null,function(l,n){var u=n.component;l(n,1,0,null==u.inputForm.controls.givenName.errors?null:u.inputForm.controls.givenName.errors.maxlength.requiredLength)})}function yn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" メイは全角カタカナで入力してください "]))],null,null)}function Dn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,xn)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,kn)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,yn)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,null==u.inputForm.controls.givenName.errors?null:u.inputForm.controls.givenName.errors.required),l(n,4,0,null==u.inputForm.controls.givenName.errors?null:u.inputForm.controls.givenName.errors.maxlength),l(n,6,0,null==u.inputForm.controls.givenName.errors?null:u.inputForm.controls.givenName.errors.pattern)},null)}function On(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" メールアドレスが未入力です "]))],null,null)}function Jn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" メールアドレスは","文字以下で入力してください "]))],null,function(l,n){var u=n.component;l(n,1,0,null==u.inputForm.controls.email.errors?null:u.inputForm.controls.email.errors.maxlength.requiredLength)})}function wn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" メールアドレスが正しくありません "]))],null,null)}function Ln(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,On)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Jn)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,wn)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,null==u.inputForm.controls.email.errors?null:u.inputForm.controls.email.errors.required),l(n,4,0,null==u.inputForm.controls.email.errors?null:u.inputForm.controls.email.errors.maxlength),l(n,6,0,null==u.inputForm.controls.email.errors?null:u.inputForm.controls.email.errors.email)},null)}function In(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" メールアドレス確認が未入力です "]))],null,null)}function Pn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" メールアドレス確認は","文字以下で入力してください "]))],null,function(l,n){var u=n.component;l(n,1,0,null==u.inputForm.controls.emailConfirm.errors?null:u.inputForm.controls.emailConfirm.errors.maxlength.requiredLength)})}function qn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" メールアドレス確認が正しくありません "]))],null,null)}function Mn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,In)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Pn)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,qn)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,null==u.inputForm.controls.emailConfirm.errors?null:u.inputForm.controls.emailConfirm.errors.required),l(n,4,0,null==u.inputForm.controls.emailConfirm.errors?null:u.inputForm.controls.emailConfirm.errors.maxlength),l(n,6,0,null==u.inputForm.controls.emailConfirm.errors?null:u.inputForm.controls.emailConfirm.errors.email)},null)}function _n(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" メールアドレス確認が一致しません "]))],null,null)}function Nn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["電話番号が未入力です "]))],null,null)}function Tn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" 電話番号は","文字以上で入力してください "]))],null,function(l,n){var u=n.component;l(n,1,0,null==u.inputForm.controls.telephone.errors?null:u.inputForm.controls.telephone.errors.minlength.requiredLength)})}function Sn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" 電話番号は","文字以下で入力してください "]))],null,function(l,n){var u=n.component;l(n,1,0,null==u.inputForm.controls.telephone.errors?null:u.inputForm.controls.telephone.errors.maxlength.requiredLength)})}function Fn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 電話番号は数字で入力してください "]))],null,null)}function En(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 電話番号が正しくありません "]))],null,null)}function $n(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,Nn)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Tn)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Sn)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Fn)),t.qb(8,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,En)),t.qb(10,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,null==u.inputForm.controls.telephone.errors?null:u.inputForm.controls.telephone.errors.required),l(n,4,0,null==u.inputForm.controls.telephone.errors?null:u.inputForm.controls.telephone.errors.minlength),l(n,6,0,null==u.inputForm.controls.telephone.errors?null:u.inputForm.controls.telephone.errors.maxlength),l(n,8,0,null==u.inputForm.controls.telephone.errors?null:u.inputForm.controls.telephone.errors.pattern),l(n,10,0,null==u.inputForm.controls.telephone.errors?null:u.inputForm.controls.telephone.errors.telephone)},null)}function jn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" カード番号が未入力です "]))],null,null)}function An(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" カード番号は数字で入力してください "]))],null,null)}function Rn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,jn)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,An)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,null==u.inputForm.controls.cardNumber.errors?null:u.inputForm.controls.cardNumber.errors.required),l(n,4,0,null==u.inputForm.controls.cardNumber.errors?null:u.inputForm.controls.cardNumber.errors.pattern)},null)}function Vn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.qb(1,147456,null,0,D.q,[t.k,t.D,[2,D.t]],{value:[0,"value"]},null),t.qb(2,147456,null,0,D.y,[t.k,t.D,[8,null]],{value:[0,"value"]},null),(l()(),t.Jb(3,null,[""," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Hn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.qb(1,147456,null,0,D.q,[t.k,t.D,[2,D.t]],{value:[0,"value"]},null),t.qb(2,147456,null,0,D.y,[t.k,t.D,[8,null]],{value:[0,"value"]},null),(l()(),t.Jb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Un(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" セキュリティーコードが未入力です "]))],null,null)}function Bn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,Un)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,null==u.inputForm.controls.securityCode.errors?null:u.inputForm.controls.securityCode.errors.required)},null)}function Yn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" カード名義人が未入力です "]))],null,null)}function zn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,Yn)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,null==u.inputForm.controls.holderName.errors?null:u.inputForm.controls.holderName.errors.required)},null)}function Kn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,9,"div",[["class","text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,5,"input",[["formControlName","saveCreditCard"],["id","saveCreditCard"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,u){var e=!0;return"change"===n&&(e=!1!==t.Db(l,2).onChange(u.target.checked)&&e),"blur"===n&&(e=!1!==t.Db(l,2).onTouched()&&e),e},null,null)),t.qb(2,16384,null,0,D.b,[t.D,t.k],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.b]),t.qb(4,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(6,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.rb(7,0,null,null,2,"label",[["for","saveCreditCard"]],null,null,null,null,null)),(l()(),t.rb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["クレジットカード情報を保存する"]))],function(l,n){l(n,4,0,"saveCreditCard")},function(l,n){l(n,1,0,t.Db(n,6).ngClassUntouched,t.Db(n,6).ngClassTouched,t.Db(n,6).ngClassPristine,t.Db(n,6).ngClassDirty,t.Db(n,6).ngClassValid,t.Db(n,6).ngClassInvalid,t.Db(n,6).ngClassPending)})}function Gn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"div",[["class","button gray-button"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"button",[["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.changeRegisteredCreditCard()&&t),t},null,null)),(l()(),t.Jb(-1,null,["登録済みクレジットカードを使用する"]))],null,null)}function Wn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,85,"div",[["class","credit-input mb-2"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,80,"ul",[["class","p-3 rounded bg-light-gray mb-4 credit form-layout"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,6,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,5,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご利用金額"])),(l()(),t.rb(6,0,null,null,2,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(7,0,null,null,1,"p",[["class","text-large text-danger font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(8,null,["￥",""])),(l()(),t.rb(9,0,null,null,17,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,16,"dl",[["class","form-group row align-items-center mb-0"]],null,null,null,null,null)),(l()(),t.rb(11,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["カード番号"])),(l()(),t.rb(13,0,null,null,13,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(14,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["formControlName","cardNumber"],["id","cardNumber"],["maxlength","16"],["pattern","\\d*"],["placeholder","(例)1234567890"],["type","text"]],[[2,"validation",null],[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,15)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,15).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,15)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,15)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(15,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.qb(16,540672,null,0,D.i,[],{maxlength:[0,"maxlength"]},null),t.qb(17,540672,null,0,D.r,[],{pattern:[0,"pattern"]},null),t.Hb(1024,null,D.j,function(l,n){return[l,n]},[D.i,D.r]),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(20,671744,null,0,D.f,[[3,D.c],[6,D.j],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(22,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Rn)),t.qb(24,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(25,0,null,null,1,"p",[["class","text-small mt-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※半角数字、ハイフン「-」なしで入力してください"])),(l()(),t.rb(27,0,null,null,22,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(28,0,null,null,21,"dl",[["class","form-group row align-items-center mb-0"]],null,null,null,null,null)),(l()(),t.rb(29,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["有効期限"])),(l()(),t.rb(31,0,null,null,18,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(32,0,null,null,7,"select",[["class","form-control d-inline-block w-auto"],["formControlName","cardExpirationMonth"],["id","cardExpirationMonth"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,u){var e=!0;return"change"===n&&(e=!1!==t.Db(l,33).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,33).onTouched()&&e),e},null,null)),t.qb(33,16384,null,0,D.t,[t.D,t.k],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.t]),t.qb(35,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(37,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Vn)),t.qb(39,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Jb(-1,null,[" 月 "])),(l()(),t.rb(41,0,null,null,7,"select",[["class","form-control d-inline-block w-auto"],["formControlName","cardExpirationYear"],["id","cardExpirationYear"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,u){var e=!0;return"change"===n&&(e=!1!==t.Db(l,42).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,42).onTouched()&&e),e},null,null)),t.qb(42,16384,null,0,D.t,[t.D,t.k],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.t]),t.qb(44,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(46,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Hn)),t.qb(48,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Jb(-1,null,[" 年 "])),(l()(),t.rb(50,0,null,null,18,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(51,0,null,null,17,"dl",[["class","form-group row align-items-center mb-0"]],null,null,null,null,null)),(l()(),t.rb(52,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["セキュリティーコード"])),(l()(),t.rb(54,0,null,null,14,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(55,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["formControlName","securityCode"],["maxlength","4"],["pattern","\\d*"],["placeholder","(例)123"],["type","text"]],[[2,"validation",null],[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,56)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,56).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,56)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,56)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(56,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.qb(57,540672,null,0,D.i,[],{maxlength:[0,"maxlength"]},null),t.qb(58,540672,null,0,D.r,[],{pattern:[0,"pattern"]},null),t.Hb(1024,null,D.j,function(l,n){return[l,n]},[D.i,D.r]),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(61,671744,null,0,D.f,[[3,D.c],[6,D.j],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(63,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Bn)),t.qb(65,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(66,0,null,null,2,"p",[["class","mt-2"]],null,null,null,null,null)),(l()(),t.rb(67,0,null,null,1,"a",[["href","javascript:void(0)"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=0!=(l.component.securityCodeModal=!0)&&t),t},null,null)),(l()(),t.Jb(-1,null,["セキュリティーコードについて"])),(l()(),t.rb(69,0,null,null,12,"li",[["class","container px-0"]],null,null,null,null,null)),(l()(),t.rb(70,0,null,null,11,"dl",[["class","form-group row align-items-center mb-0"]],null,null,null,null,null)),(l()(),t.rb(71,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["カード名義人"])),(l()(),t.rb(73,0,null,null,8,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(74,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["formControlName","holderName"],["placeholder","(例)TARO CINEMA"],["type","text"]],[[2,"validation",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,75)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,75).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,75)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,75)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(75,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(77,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(79,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,zn)),t.qb(81,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Kn)),t.qb(83,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Gn)),t.qb(85,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,16,0,"16"),l(n,17,0,"\\d*"),l(n,20,0,"cardNumber"),l(n,24,0,u.inputForm.controls.cardNumber.invalid&&u.inputForm.controls.cardNumber.touched),l(n,35,0,"cardExpirationMonth"),l(n,39,0,u.cardExpiration.month),l(n,44,0,"cardExpirationYear"),l(n,48,0,u.cardExpiration.year),l(n,57,0,"4"),l(n,58,0,"\\d*"),l(n,61,0,"securityCode"),l(n,65,0,u.inputForm.controls.securityCode.invalid&&u.inputForm.controls.securityCode.touched),l(n,77,0,"holderName"),l(n,81,0,u.inputForm.controls.holderName.invalid&&u.inputForm.controls.holderName.touched),l(n,83,0,u.user.isMember()),l(n,85,0,u.user.isRegisteredCreditCards())},function(l,n){var u=n.component;l(n,8,0,u.purchase.getTotalPrice()),l(n,14,0,u.inputForm.controls.cardNumber.invalid&&u.inputForm.controls.cardNumber.touched,t.Db(n,16).maxlength?t.Db(n,16).maxlength:null,t.Db(n,17).pattern?t.Db(n,17).pattern:null,t.Db(n,22).ngClassUntouched,t.Db(n,22).ngClassTouched,t.Db(n,22).ngClassPristine,t.Db(n,22).ngClassDirty,t.Db(n,22).ngClassValid,t.Db(n,22).ngClassInvalid,t.Db(n,22).ngClassPending),l(n,32,0,t.Db(n,37).ngClassUntouched,t.Db(n,37).ngClassTouched,t.Db(n,37).ngClassPristine,t.Db(n,37).ngClassDirty,t.Db(n,37).ngClassValid,t.Db(n,37).ngClassInvalid,t.Db(n,37).ngClassPending),l(n,41,0,t.Db(n,46).ngClassUntouched,t.Db(n,46).ngClassTouched,t.Db(n,46).ngClassPristine,t.Db(n,46).ngClassDirty,t.Db(n,46).ngClassValid,t.Db(n,46).ngClassInvalid,t.Db(n,46).ngClassPending),l(n,55,0,u.inputForm.controls.securityCode.invalid&&u.inputForm.controls.securityCode.touched,t.Db(n,57).maxlength?t.Db(n,57).maxlength:null,t.Db(n,58).pattern?t.Db(n,58).pattern:null,t.Db(n,63).ngClassUntouched,t.Db(n,63).ngClassTouched,t.Db(n,63).ngClassPristine,t.Db(n,63).ngClassDirty,t.Db(n,63).ngClassValid,t.Db(n,63).ngClassInvalid,t.Db(n,63).ngClassPending),l(n,74,0,u.inputForm.controls.holderName.invalid&&u.inputForm.controls.holderName.touched,t.Db(n,79).ngClassUntouched,t.Db(n,79).ngClassTouched,t.Db(n,79).ngClassPristine,t.Db(n,79).ngClassDirty,t.Db(n,79).ngClassValid,t.Db(n,79).ngClassInvalid,t.Db(n,79).ngClassPending)})}function Qn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,59,"div",[["class","credit-registered mb-2"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,25,"ul",[["class","p-3 rounded bg-light-gray mb-4 credit form-layout"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,6,"li",[["class","container px-0"]],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,5,"dl",[["class","row align-items-center border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(4,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご利用金額"])),(l()(),t.rb(6,0,null,null,2,"dd",[["class",""]],null,null,null,null,null)),(l()(),t.rb(7,0,null,null,1,"p",[["class","text-large text-danger font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(8,null,["￥",""])),(l()(),t.rb(9,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(11,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["カード番号"])),(l()(),t.rb(13,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(14,null,["",""])),(l()(),t.rb(15,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(16,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(17,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["有効期限"])),(l()(),t.rb(19,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(20,null,["",""])),(l()(),t.rb(21,0,null,null,5,"li",[["class","container px-0"]],null,null,null,null,null)),(l()(),t.rb(22,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(23,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["カード名義人"])),(l()(),t.rb(25,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(26,null,["",""])),(l()(),t.rb(27,0,null,null,5,"input",[["formControlName","cardNumber"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,28)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,28).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,28)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,28)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(28,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(30,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(32,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.rb(33,0,null,null,5,"input",[["formControlName","cardExpirationMonth"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,34)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,34).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,34)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,34)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(34,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(36,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(38,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.rb(39,0,null,null,5,"input",[["formControlName","cardExpirationYear"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,40)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,40).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,40)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,40)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(40,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(42,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(44,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.rb(45,0,null,null,5,"input",[["formControlName","securityCode"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,46)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,46).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,46)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,46)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(46,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(48,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(50,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.rb(51,0,null,null,5,"input",[["formControlName","holderName"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,52)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,52).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,52)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,52)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(52,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(54,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(56,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.rb(57,0,null,null,2,"div",[["class","button gray-button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.changeInputCreditCard()&&t),t},null,null)),(l()(),t.rb(58,0,null,null,1,"button",[["type","button"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["クレジットカードを変更する"]))],function(l,n){l(n,30,0,"cardNumber"),l(n,36,0,"cardExpirationMonth"),l(n,42,0,"cardExpirationYear"),l(n,48,0,"securityCode"),l(n,54,0,"holderName")},function(l,n){var u=n.component;l(n,8,0,u.purchase.getTotalPrice()),l(n,14,0,null==u.user.data.creditCards[0]?null:u.user.data.creditCards[0].cardNo),l(n,20,0,null==u.user.data.creditCards[0]?null:u.user.data.creditCards[0].expire),l(n,26,0,null==u.user.data.creditCards[0]?null:u.user.data.creditCards[0].holderName),l(n,27,0,t.Db(n,32).ngClassUntouched,t.Db(n,32).ngClassTouched,t.Db(n,32).ngClassPristine,t.Db(n,32).ngClassDirty,t.Db(n,32).ngClassValid,t.Db(n,32).ngClassInvalid,t.Db(n,32).ngClassPending),l(n,33,0,t.Db(n,38).ngClassUntouched,t.Db(n,38).ngClassTouched,t.Db(n,38).ngClassPristine,t.Db(n,38).ngClassDirty,t.Db(n,38).ngClassValid,t.Db(n,38).ngClassInvalid,t.Db(n,38).ngClassPending),l(n,39,0,t.Db(n,44).ngClassUntouched,t.Db(n,44).ngClassTouched,t.Db(n,44).ngClassPristine,t.Db(n,44).ngClassDirty,t.Db(n,44).ngClassValid,t.Db(n,44).ngClassInvalid,t.Db(n,44).ngClassPending),l(n,45,0,t.Db(n,50).ngClassUntouched,t.Db(n,50).ngClassTouched,t.Db(n,50).ngClassPristine,t.Db(n,50).ngClassDirty,t.Db(n,50).ngClassValid,t.Db(n,50).ngClassInvalid,t.Db(n,50).ngClassPending),l(n,51,0,t.Db(n,56).ngClassUntouched,t.Db(n,56).ngClassTouched,t.Db(n,56).ngClassPristine,t.Db(n,56).ngClassDirty,t.Db(n,56).ngClassValid,t.Db(n,56).ngClassInvalid,t.Db(n,56).ngClassPending)})}function Xn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,30,"div",[["class","mb-4"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,6,"div",[["class","d-md-flex align-items-center mb-2"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,3,"h2",[["class","font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" お支払情報 "])),(l()(),t.rb(4,0,null,null,1,"span",[["class","bg-danger p-1 align-middle text-white text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入力必須"])),(l()(),t.rb(6,0,null,null,1,"div",[["class","creditcard-image ml-md-3"]],null,null,null,null,null)),(l()(),t.rb(7,0,null,null,0,"img",[["alt",""],["src","/assets/images/common/credit_card.png"]],null,null,null,null,null)),(l()(),t.rb(8,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["クレジットカード決済の必要事項を入力ください。"])),(l()(),t.gb(16777216,null,null,1,null,Wn)),t.qb(11,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Qn)),t.qb(13,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(14,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),t.rb(15,0,null,null,1,"h3",[["class","mb-2 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ご注意事項 "])),(l()(),t.rb(17,0,null,null,13,"p",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 購入完了画面まで進まずにお取引を中断された場合でもご利用のカードによっては下記の事象が起こることがございますので、悪しからずご了承ください。 "])),(l()(),t.rb(19,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(20,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["一部のクレジットカード会社からはカード利用速報のメールが配信される。"])),(l()(),t.rb(22,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ⇒カード利用速報メールが配信されましても購入完了していなければ引き落とされることはありませんので、カード会社の月々の確定利用明細などをご確認ください。 "])),(l()(),t.rb(24,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(25,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["プリペイド形式（デビットカード、LINEPayカード等）で一時的に残高が減る。"])),(l()(),t.rb(27,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ⇒購入完了していない場合は後ほど残高が戻ります。残高が戻るまでの期間は各カード会社様によって異なります。 "])),(l()(),t.rb(29,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※スマートフォンアプリではプリペイド形式の使用は出来ません。 "]))],function(l,n){var u=n.component;l(n,11,0,"input"===u.creditCardType),l(n,13,0,"registered"===u.creditCardType)},null)}function Zn(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,99,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入者情報入力"])),(l()(),t.rb(3,0,null,null,1,"p",[["class","text-left text-md-center mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["必須項目を入力し「次へ」ボタンを押してください。"])),(l()(),t.rb(5,0,null,null,92,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,7).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,7).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.onSubmit()&&e),e},null,null)),t.qb(6,16384,null,0,D.z,[],null,null),t.qb(7,540672,null,0,D.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.g]),t.qb(9,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(10,0,null,null,3,"h2",[["class","mb-2 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["お名前（カタカナ） "])),(l()(),t.rb(12,0,null,null,1,"span",[["class","bg-danger p-1 align-middle text-white text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入力必須"])),(l()(),t.rb(14,0,null,null,26,"div",[["class","container p-3 rounded bg-light-gray mb-4"]],null,null,null,null,null)),(l()(),t.rb(15,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.rb(16,0,null,null,12,"dl",[["class","form-group col-12 col-md-6 mb-md-0"]],null,null,null,null,null)),(l()(),t.rb(17,0,null,null,2,"dt",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.rb(18,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["セイ"])),(l()(),t.rb(20,0,null,null,8,"dd",[],null,null,null,null,null)),(l()(),t.rb(21,0,null,null,5,"input",[["autocomplete","family-name"],["class","form-control"],["formControlName","familyName"],["placeholder","(例)シネマ"],["type","text"]],[[2,"validation",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,22)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,22).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,22)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,22)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(22,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(24,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(26,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Cn)),t.qb(28,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(29,0,null,null,11,"dl",[["class","form-group col-12 col-md-6 mb-0"]],null,null,null,null,null)),(l()(),t.rb(30,0,null,null,1,"dt",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["メイ"])),(l()(),t.rb(32,0,null,null,8,"dd",[],null,null,null,null,null)),(l()(),t.rb(33,0,null,null,5,"input",[["autocomplete","given-name"],["class","form-control"],["formControlName","givenName"],["placeholder","(例)タロウ"],["type","text"]],[[2,"validation",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,34)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,34).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,34)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,34)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(34,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(36,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(38,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Dn)),t.qb(40,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(41,0,null,null,3,"h2",[["class","mb-2 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["メールアドレス "])),(l()(),t.rb(43,0,null,null,1,"span",[["class","bg-danger p-1 align-middle text-white text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入力必須"])),(l()(),t.rb(45,0,null,null,31,"div",[["class","p-3 rounded bg-light-gray mb-4"]],null,null,null,null,null)),(l()(),t.rb(46,0,null,null,9,"dl",[["class","form-group"]],null,null,null,null,null)),(l()(),t.rb(47,0,null,null,8,"dd",[],null,null,null,null,null)),(l()(),t.rb(48,0,null,null,5,"input",[["autocomplete","email"],["class","form-control"],["formControlName","email"],["placeholder","(例)cinema@cinemasunshine.co.jp"],["type","email"]],[[2,"validation",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,49)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,49).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,49)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,49)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(49,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(51,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(53,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Ln)),t.qb(55,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(56,0,null,null,20,"dl",[["class","form-group mb-0"]],null,null,null,null,null)),(l()(),t.rb(57,0,null,null,1,"dt",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["メールアドレス確認"])),(l()(),t.rb(59,0,null,null,17,"dd",[],null,null,null,null,null)),(l()(),t.rb(60,0,null,null,5,"input",[["class","form-control"],["formControlName","emailConfirm"],["placeholder","(例)cinema@cinemasunshine.co.jp"],["type","email"]],[[2,"validation",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,61)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,61).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,61)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,61)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(61,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(63,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(65,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Mn)),t.qb(67,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,_n)),t.qb(69,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(70,0,null,null,6,"p",[["class","text-small mt-2"]],null,null,null,null,null)),(l()(),t.rb(71,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["【ドメイン指定受信をご利用の場合について】"])),(l()(),t.rb(73,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※ 携帯電話のドメイン指定受信をされている場合、「@ticket-cinemasunshine.com」を追加設定してください。 "])),(l()(),t.rb(75,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※ au(@ezweb.ne.jp)をご利用の場合、上記に加え「なりすまし規制回避リスト」にも「@ticket-cinemasunshine.com」の追加設定をしてください。 "])),(l()(),t.rb(77,0,null,null,3,"h2",[["class","mb-2 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["電話番号 "])),(l()(),t.rb(79,0,null,null,1,"span",[["class","bg-danger p-1 align-middle text-white text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入力必須"])),(l()(),t.rb(81,0,null,null,12,"div",[["class","p-3 rounded bg-light-gray mb-4"]],null,null,null,null,null)),(l()(),t.rb(82,0,null,null,11,"dl",[["class","form-group mb-0"]],null,null,null,null,null)),(l()(),t.rb(83,0,null,null,10,"dd",[],null,null,null,null,null)),(l()(),t.rb(84,0,null,null,5,"input",[["autocomplete","tel"],["class","form-control"],["formControlName","telephone"],["placeholder","(例)08000000000"],["type","tel"]],[[2,"validation",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,85)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,85).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,85)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,85)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(85,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(87,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(89,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,$n)),t.qb(91,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(92,0,null,null,1,"p",[["class","text-small mt-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※半角数字、ハイフン「-」なしで入力してください"])),(l()(),t.gb(16777216,null,null,1,null,Xn)),t.qb(95,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(96,0,null,null,1,"app-buttons",[["nextLabel","次へ"],["prevLabel","戻る"],["prevLink","/purchase/ticket"]],null,null,null,zl,Yl)),t.qb(97,114688,null,0,Bl.a,[],{nextLabel:[0,"nextLabel"],prevLabel:[1,"prevLabel"],prevLink:[2,"prevLink"],disabled:[3,"disabled"]},null),(l()(),t.rb(98,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(99,114688,null,0,W.a,[],null,null),(l()(),t.rb(100,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(101,114688,null,0,o.a,[],{show:[0,"show"]},null),(l()(),t.rb(102,0,null,null,21,"app-modal",[["class","security-code-modal"]],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.securityCodeModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(103,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(104,0,null,1,19,"div",[["class","p-3 rounded bg-white"],["inner",""]],null,null,null,null,null)),(l()(),t.rb(105,0,null,null,1,"p",[["class","modal-title mb-2 text-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["セキュリティーコードについて"])),(l()(),t.rb(107,0,null,null,1,"p",[["class","mb-3 text-small text-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※カード会社により表示箇所および名称が異なります。"])),(l()(),t.rb(109,0,null,null,14,"div",[["class","p-3 rounded bg-light-gray"]],null,null,null,null,null)),(l()(),t.rb(110,0,null,null,6,"dl",[["class","mb-3"]],null,null,null,null,null)),(l()(),t.rb(111,0,null,null,1,"dt",[["class","font-weight-bold mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" VISA / MASTER / DINERS / JCBの場合 "])),(l()(),t.rb(113,0,null,null,1,"dd",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["【カード裏面】セキュリティーコード(末尾3桁)"])),(l()(),t.rb(115,0,null,null,1,"dd",[],null,null,null,null,null)),(l()(),t.rb(116,0,null,null,0,"img",[["alt",""],["class","d-block mx-auto w-100"],["src","/assets/images/common/credit_back.svg"]],null,null,null,null,null)),(l()(),t.rb(117,0,null,null,6,"dl",[],null,null,null,null,null)),(l()(),t.rb(118,0,null,null,1,"dt",[["class","font-weight-bold mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" AMEXの場合 "])),(l()(),t.rb(120,0,null,null,1,"dd",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["【カード表面】セキュリティーコード(4桁)"])),(l()(),t.rb(122,0,null,null,1,"dd",[],null,null,null,null,null)),(l()(),t.rb(123,0,null,null,0,"img",[["alt",""],["class","d-block mx-auto w-100"],["src","/assets/images/common/credit_front.svg"]],null,null,null,null,null)),(l()(),t.rb(124,0,null,null,6,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.creditCardAlertModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(125,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(126,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(127,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["エラーが発生しました"])),(l()(),t.rb(129,0,null,0,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["クレジットカード情報を確認してください。"]))],function(l,n){var u=n.component;l(n,7,0,u.inputForm),l(n,24,0,"familyName"),l(n,28,0,u.inputForm.controls.familyName.invalid&&u.inputForm.controls.familyName.touched),l(n,36,0,"givenName"),l(n,40,0,u.inputForm.controls.givenName.invalid&&u.inputForm.controls.givenName.touched),l(n,51,0,"email"),l(n,55,0,u.inputForm.controls.email.invalid&&u.inputForm.controls.email.touched),l(n,63,0,"emailConfirm"),l(n,67,0,u.inputForm.controls.emailConfirm.invalid&&u.inputForm.controls.emailConfirm.touched),l(n,69,0,u.inputForm.controls.email.touched&&u.inputForm.controls.emailConfirm.touched&&u.inputForm.controls.email.value!==u.inputForm.controls.emailConfirm.value),l(n,87,0,"telephone"),l(n,91,0,u.inputForm.controls.telephone.invalid&&u.inputForm.controls.telephone.touched),l(n,95,0,u.purchase.getTotalPrice()>0),l(n,97,0,"次へ","戻る","/purchase/ticket",u.isLoading),l(n,99,0),l(n,101,0,u.isLoading),l(n,103,0,u.securityCodeModal,!1),l(n,125,0,u.creditCardAlertModal,!0)},function(l,n){var u=n.component;l(n,5,0,t.Db(n,9).ngClassUntouched,t.Db(n,9).ngClassTouched,t.Db(n,9).ngClassPristine,t.Db(n,9).ngClassDirty,t.Db(n,9).ngClassValid,t.Db(n,9).ngClassInvalid,t.Db(n,9).ngClassPending),l(n,21,0,u.inputForm.controls.familyName.invalid&&u.inputForm.controls.familyName.touched,t.Db(n,26).ngClassUntouched,t.Db(n,26).ngClassTouched,t.Db(n,26).ngClassPristine,t.Db(n,26).ngClassDirty,t.Db(n,26).ngClassValid,t.Db(n,26).ngClassInvalid,t.Db(n,26).ngClassPending),l(n,33,0,u.inputForm.controls.givenName.invalid&&u.inputForm.controls.givenName.touched,t.Db(n,38).ngClassUntouched,t.Db(n,38).ngClassTouched,t.Db(n,38).ngClassPristine,t.Db(n,38).ngClassDirty,t.Db(n,38).ngClassValid,t.Db(n,38).ngClassInvalid,t.Db(n,38).ngClassPending),l(n,48,0,u.inputForm.controls.email.invalid&&u.inputForm.controls.email.touched,t.Db(n,53).ngClassUntouched,t.Db(n,53).ngClassTouched,t.Db(n,53).ngClassPristine,t.Db(n,53).ngClassDirty,t.Db(n,53).ngClassValid,t.Db(n,53).ngClassInvalid,t.Db(n,53).ngClassPending),l(n,60,0,u.inputForm.controls.emailConfirm.invalid&&u.inputForm.controls.emailConfirm.touched||u.inputForm.controls.email.touched&&u.inputForm.controls.emailConfirm.touched&&u.inputForm.controls.email.value!==u.inputForm.controls.emailConfirm.value,t.Db(n,65).ngClassUntouched,t.Db(n,65).ngClassTouched,t.Db(n,65).ngClassPristine,t.Db(n,65).ngClassDirty,t.Db(n,65).ngClassValid,t.Db(n,65).ngClassInvalid,t.Db(n,65).ngClassPending),l(n,84,0,u.inputForm.controls.telephone.invalid&&u.inputForm.controls.telephone.touched,t.Db(n,89).ngClassUntouched,t.Db(n,89).ngClassTouched,t.Db(n,89).ngClassPristine,t.Db(n,89).ngClassDirty,t.Db(n,89).ngClassValid,t.Db(n,89).ngClassInvalid,t.Db(n,89).ngClassPending)})}function lu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-input",[],null,null,null,Zn,gn)),t.qb(1,114688,null,0,mn,[m.a,f.b,t.k,D.e,d.l,g.a,h.a,p.a],null,null)],function(l,n){l(n,1,0)},null)}var nu=t.nb("app-purchase-input",mn,lu,{},{},[]),uu=u("UH/6"),tu={"01":{ordinance:"東京都青少年健全育成条例",limit:"23:00"},"02":{ordinance:"東京都青少年健全育成条例",limit:"23:00"},"06":{ordinance:"静岡県青少年健全育成条例",limit:"23:00"},"07":{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},"08":{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},"09":{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},10:{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},12:{ordinance:"徳島県青少年健全育成条例",limit:"23:00"},13:{ordinance:"茨城県青少年健全育成条例",limit:"23:00"},14:{ordinance:"石川県青少年健全育成条例",limit:"23:00"},15:{ordinance:"愛媛県青少年健全育成条例",limit:"23:00"},16:{ordinance:"奈良県青少年健全育成条例",limit:"23:00"},17:{ordinance:"山口県青少年健全育成条例",limit:"23:00"},18:{ordinance:"鹿児島県青少年保護育成条例",limit:"23:00"},19:{ordinance:"千葉県青少年健全育成条例",limit:"23:00"},20:{ordinance:"東京都青少年健全育成条例",limit:"23:00"},21:{ordinance:"静岡県青少年健全育成条例",limit:"23:00"}},eu=function(){function l(){}return l.prototype.ngOnInit=function(){this.ordinance="",this.limit="",void 0!==tu[this.theaterCode]&&(this.ordinance=tu[this.theaterCode].ordinance,this.limit=tu[this.theaterCode].limit)},l}(),ru=t.pb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.notes[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-indent:-1em;padding:0 0 0 1em;line-height:1.5}"]],data:{}});function iu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,25,"div",[["class","p-3 bg-light-gray notes text-small"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,24,"ol",[],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Jb(3,null,[" 1. ","の定めにより、18歳未満及び高校生の方は終映が","を過ぎる上映回のﾁｹｯﾄをご購入頂けません。また保護者同伴でもご入場頂けません。 "])),(l()(),t.rb(4,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 2. チケット購入はクレジット決済のみとなり、発券の際には予約番号、電話番号が必要となります。 "])),(l()(),t.rb(6,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 3. 決済をしてご購入いただいたチケットは、上映中止・もしくは上映延期とならない限り、交通渋滞・電車遅延などいかなる理由があっても、チケットのキャンセル・変更・払い戻しは一切致しません。 "])),(l()(),t.rb(8,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 4. 上映中止・および上映延期の場合の旅費などは補償いたしません。 "])),(l()(),t.rb(10,0,null,null,9,"li",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 5. 学生料金・シニア料金の各チケットを購入された方は、ご入場時にチケットと一緒に、以下の証明書をご提示頂きます。 "])),(l()(),t.rb(12,0,null,null,6,"ul",[["class","note_child"]],null,null,null,null,null)),(l()(),t.rb(13,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・学生の方は、学校長発行の学生証または生徒手帳。"])),(l()(),t.rb(15,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・シニアの方は、生年月日が確認できる公的機関発行の証明書。"])),(l()(),t.rb(17,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ハンディキャップの方は、障害者手帳。"])),(l()(),t.Jb(-1,null,[" ご提示いただけない場合は、一般料金との差額をいただきます。 "])),(l()(),t.rb(20,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 6. その他の利用規約についても同意します。 "])),(l()(),t.rb(22,0,null,null,1,"li",[["class","ticket-app-hide"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 7. 購入完了ページに表示される予約番号はチケットの発券に必要となりますのでメモをとるなどして、必ずお控えください。 "])),(l()(),t.rb(24,0,null,null,1,"li",[["class","ticket-app-show"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 7. 購入完了ページに表示される予約番号はメモを取るなどして、必ずお控えください "]))],null,function(l,n){var u=n.component;l(n,3,0,u.ordinance,u.limit)})}var ou=function(){function l(l,n,u,t,e){this.purchase=l,this.user=n,this.formBuilder=u,this.router=t,this.error=e,this.environment=w.a,this.getTicketPrice=L.h}return l.prototype.ngOnInit=function(){window.scrollTo(0,0),this.isLoading=!1,this.confirmForm=this.formBuilder.group({notes:[!1,[D.u.requiredTrue]]})},l.prototype.onSubmit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l;return Object(a.__generator)(this,function(n){switch(n.label){case 0:if(this.confirmForm.invalid)return this.confirmForm.controls.notes.markAsDirty(),[2];if(this.isLoading=!0,this.purchase.isExpired())return this.router.navigate(["/expired"]),[2];if(!(this.purchase.getTotalPrice()>0))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.purchase.creditCardPaymentProcess()];case 2:return n.sent(),[3,4];case 3:return n.sent(),this.purchase.data.isCreditCardError=!0,this.router.navigate(["/purchase/input"]),[2];case 4:return n.trys.push([4,10,,11]),this.user.isMember()&&this.purchase.isReservePoint()?[4,this.purchase.pointPaymentProcess()]:[3,6];case 5:n.sent(),n.label=6;case 6:return this.user.isMember()&&this.purchase.isIncentive()?[4,this.purchase.incentiveProcess()]:[3,8];case 7:n.sent(),n.label=8;case 8:return[4,this.purchase.purchaseRegistrationProcess()];case 9:return n.sent(),this.router.navigate(["/purchase/complete"]),[3,11];case 10:return l=n.sent(),this.error.redirect(l),[3,11];case 11:return[2]}})})},l}(),au=t.pb({encapsulation:0,styles:[[".position-relative[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{top:0;right:0}"]],data:{}});function su(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"div",[["class","position-absolute"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"a",[["class","btn bg-dark-gray text-white text-small py-0 px-4"]],[[8,"href",4]],null,null,null,null)),(l()(),t.Jb(-1,null,["変更"]))],null,function(l,n){var u=n.component;l(n,1,0,t.vb(1,"",null==u.purchase.data.seller?null:u.purchase.data.seller.url,""))})}function cu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Jb(1,null,[" "," "," ￥"," "]))],null,function(l,n){l(n,1,0,n.context.$implicit.seatNumber,n.context.$implicit.ticketInfo.ticketName,n.component.getTicketPrice(n.context.$implicit))})}function bu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" ",""]))],null,function(l,n){var u=n.component;l(n,1,0,null==u.purchase.data.gmoTokenObject?null:u.purchase.data.gmoTokenObject.maskedCardNo)})}function du(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" ",""]))],null,function(l,n){l(n,1,0,n.component.user.data.creditCards[0].cardNo)})}function pu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,7,"li",[["class","container px-0"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,6,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["カード番号"])),(l()(),t.gb(16777216,null,null,1,null,bu)),t.qb(5,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,du)),t.qb(7,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,5,0,void 0!==u.purchase.data.gmoTokenObject),l(n,7,0,void 0===u.purchase.data.gmoTokenObject&&void 0!==u.user.data.creditCards)},null)}function mu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["注意事項に同意してください"]))],null,null)}function gu(l){return t.Lb(0,[t.Eb(0,uu.a,[]),(l()(),t.rb(1,0,null,null,108,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入内容確認"])),(l()(),t.rb(4,0,null,null,4,"p",[["class","text-left text-md-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,1,"span",[["class","text-large text-danger font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["まだ購入は完了していません。"])),(l()(),t.rb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご購入内容をご確認頂き「購入完了」ボタンを押して購入を確定してください。 "])),(l()(),t.rb(9,0,null,null,98,"div",[["class","form-layout"]],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,9,"div",[["class","position-relative mb-2"]],null,null,null,null,null)),(l()(),t.rb(11,0,null,null,1,"h2",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["作品情報"])),(l()(),t.rb(13,0,null,null,2,"div",[["class","right ticket-app-hide"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,su)),t.qb(15,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(16,0,null,null,3,"div",[["class","right ticket-app-show"]],null,null,null,null,null)),(l()(),t.rb(17,0,null,null,2,"div",[["class","position-absolute"]],null,null,null,null,null)),(l()(),t.rb(18,0,null,null,1,"a",[["class","btn bg-dark-gray text-white text-small py-0 px-4"]],[[8,"href",4]],null,null,null,null)),(l()(),t.Jb(-1,null,["変更"])),(l()(),t.rb(20,0,null,null,29,"ul",[["class","p-3 rounded bg-light-gray mb-4"]],null,null,null,null,null)),(l()(),t.rb(21,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(22,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(23,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["劇場 / スクリーン"])),(l()(),t.rb(25,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(26,null,[""," / ",""])),(l()(),t.rb(27,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(28,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(29,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["作品名"])),(l()(),t.rb(31,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(32,null,["",""])),(l()(),t.rb(33,0,null,null,9,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(34,0,null,null,8,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(35,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["鑑賞日時"])),(l()(),t.rb(37,0,null,null,5,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(38,0,null,null,2,"div",[["class","mb-1"]],null,null,null,null,null)),(l()(),t.rb(39,0,null,null,1,"strong",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(40,null,[" "," "," - "," "])),(l()(),t.rb(41,0,null,null,1,"p",[["class","text-small text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※鑑賞日時を必ずご確認ください。"])),(l()(),t.rb(43,0,null,null,6,"li",[["class","container px-0"]],null,null,null,null,null)),(l()(),t.rb(44,0,null,null,5,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(45,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["座席"])),(l()(),t.rb(47,0,null,null,2,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,cu)),t.qb(49,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(50,0,null,null,7,"div",[["class","position-relative mb-2"]],null,null,null,null,null)),(l()(),t.rb(51,0,null,null,1,"h2",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入情報"])),(l()(),t.rb(53,0,null,null,4,"div",[["class","right"]],null,null,null,null,null)),(l()(),t.rb(54,0,null,null,3,"div",[["class","position-absolute"]],null,null,null,null,null)),(l()(),t.rb(55,0,null,null,2,"a",[["class","btn bg-dark-gray text-white text-small py-0 px-4"],["href","javascript:void(0)"],["routerLink","/purchase/input"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Db(l,56).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.qb(56,671744,null,0,d.n,[d.l,d.a,_.g],{routerLink:[0,"routerLink"]},null),(l()(),t.Jb(-1,null,["変更"])),(l()(),t.rb(58,0,null,null,21,"ul",[["class","p-3 rounded bg-light-gray mb-4"]],null,null,null,null,null)),(l()(),t.rb(59,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(60,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(61,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["お名前（カタカナ）"])),(l()(),t.rb(63,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(64,null,["",""])),(l()(),t.rb(65,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(66,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(67,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["メールアドレス"])),(l()(),t.rb(69,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(70,null,["",""])),(l()(),t.rb(71,0,null,null,6,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(72,0,null,null,5,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(73,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["電話番号"])),(l()(),t.rb(75,0,null,null,2,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(76,null,[""," "])),t.Gb(77,1),(l()(),t.gb(16777216,null,null,1,null,pu)),t.qb(79,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(80,0,null,null,1,"h2",[["class","mb-2 font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["注意事項(重要)"])),(l()(),t.rb(82,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["下記項目をご確認いただきチェックを入れて「購入完了」ボタンを押してください。"])),(l()(),t.rb(84,0,null,null,1,"app-purchase-note",[["class","mb-3"]],null,null,null,iu,ru)),t.qb(85,114688,null,0,eu,[],{theaterCode:[0,"theaterCode"]},null),(l()(),t.rb(86,0,null,null,3,"p",[["class","mb-3 text-small text-white p-3"],["style","background-color: red;"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" ※新型コロナウイルス感染症予防のため、全てのご来場のお客様にマスクの着用をお願いしております。"])),(l()(),t.rb(88,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" マスク未着用のお客様は入場をお断りさせていただきます。 "])),(l()(),t.rb(90,0,null,null,17,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,92).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,92).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.onSubmit()&&e),e},null,null)),t.qb(91,16384,null,0,D.z,[],null,null),t.qb(92,540672,null,0,D.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.g]),t.qb(94,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(95,0,null,null,10,"div",[["class","mb-4 text-center"]],null,null,null,null,null)),(l()(),t.rb(96,0,null,null,5,"input",[["formControlName","notes"],["id","notes"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,u){var e=!0;return"change"===n&&(e=!1!==t.Db(l,97).onChange(u.target.checked)&&e),"blur"===n&&(e=!1!==t.Db(l,97).onTouched()&&e),e},null,null)),t.qb(97,16384,null,0,D.b,[t.D,t.k],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.b]),t.qb(99,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(101,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.rb(102,0,null,null,1,"label",[["class","font-weight-bold"],["for","notes"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 上記内容に同意する "])),(l()(),t.gb(16777216,null,null,1,null,mu)),t.qb(105,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(106,0,null,null,1,"app-buttons",[["nextLabel","購入完了"],["prevLabel","戻る"],["prevLink","/purchase/input"]],null,null,null,zl,Yl)),t.qb(107,114688,null,0,Bl.a,[],{nextLabel:[0,"nextLabel"],prevLabel:[1,"prevLabel"],prevLink:[2,"prevLink"],disabled:[3,"disabled"]},null),(l()(),t.rb(108,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(109,114688,null,0,W.a,[],null,null),(l()(),t.rb(110,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(111,114688,null,0,o.a,[],{show:[0,"show"]},null)],function(l,n){var u=n.component;l(n,15,0,null==u.purchase.data.seller?null:u.purchase.data.seller.url),l(n,49,0,null==u.purchase.data.seatReservationAuthorization?null:u.purchase.data.seatReservationAuthorization.object.acceptedOffer),l(n,56,0,"/purchase/input"),l(n,79,0,u.purchase.getTotalPrice()>0),l(n,85,0,null==u.purchase.data.screeningEvent?null:u.purchase.data.screeningEvent.superEvent.location.branchCode.slice(-2)),l(n,92,0,u.confirmForm),l(n,99,0,"notes"),l(n,105,0,u.confirmForm.controls.notes.invalid&&(u.confirmForm.controls.notes.dirty||u.confirmForm.controls.notes.touched)),l(n,107,0,"購入完了","戻る","/purchase/input",u.isLoading),l(n,109,0),l(n,111,0,u.isLoading)},function(l,n){var u=n.component;l(n,18,0,t.vb(1,"",u.environment.APP_SITE_URL,"/#/purchase")),l(n,26,0,u.purchase.getTheaterName(),u.purchase.getScreenName()),l(n,32,0,u.purchase.getTitle()),l(n,40,0,u.purchase.getAppreciationDate(),u.purchase.getStartDate(),u.purchase.getEndDate()),l(n,55,0,t.Db(n,56).target,t.Db(n,56).href),l(n,64,0,u.purchase.getCustomerName()),l(n,70,0,null==u.purchase.data.customerContact?null:u.purchase.data.customerContact.email);var e=t.Kb(n,76,0,l(n,77,0,t.Db(n,0),null==u.purchase.data.customerContact?null:u.purchase.data.customerContact.telephone));l(n,76,0,e),l(n,90,0,t.Db(n,94).ngClassUntouched,t.Db(n,94).ngClassTouched,t.Db(n,94).ngClassPristine,t.Db(n,94).ngClassDirty,t.Db(n,94).ngClassValid,t.Db(n,94).ngClassInvalid,t.Db(n,94).ngClassPending),l(n,96,0,t.Db(n,101).ngClassUntouched,t.Db(n,101).ngClassTouched,t.Db(n,101).ngClassPristine,t.Db(n,101).ngClassDirty,t.Db(n,101).ngClassValid,t.Db(n,101).ngClassInvalid,t.Db(n,101).ngClassPending)})}function hu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-confirm",[],null,null,null,gu,au)),t.qb(1,114688,null,0,ou,[m.a,f.b,D.e,d.l,g.a],null,null)],function(l,n){l(n,1,0)},null)}var fu=t.nb("app-purchase-confirm",ou,hu,{},{},[]),vu=function(){function l(l,n,u){this.purchase=l,this.formBuilder=n,this.router=u}return l.prototype.ngOnInit=function(){window.scrollTo(0,0),this.isLoading=!1,this.inputValidationModal=!1,this.authErrorModal=!1,this.forms=[],this.forms.push(this.createForm()),this.inputForm=this.formBuilder.group({})},l.prototype.createForm=function(){return this.formBuilder.group({code:["",[D.u.required,D.u.maxLength(10),D.u.minLength(10),D.u.pattern(/^[0-9]+$/)]],password:["",[D.u.required,D.u.maxLength(4),D.u.minLength(4),D.u.pattern(/^[0-9]+$/)]]})},l.prototype.addTicket=function(){this.forms.push(this.createForm())},l.prototype.removeTicket=function(l){this.forms.splice(l,1)},l.prototype.onSubmit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n,u,t;return Object(a.__generator)(this,function(e){switch(e.label){case 0:if(this.forms.forEach(function(l,n){var u=document.querySelectorAll(".mvtk-code");l.controls.code.setValue(u[n].value)}),(l=this.forms.filter(function(l){return!l.invalid})).length!==this.forms.length)return this.inputValidationModal=!0,[2];if(this.isLoading=!0,this.purchase.isExpired())return this.router.navigate(["/expired"]),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),n=J.factory.chevre.paymentMethodType.MovieTicket,u=l.map(function(l){return{knyknrNo:l.controls.code.value,pinCd:l.controls.password.value}}),[4,this.purchase.movieTicketAuthenticationProcess({paymentMethodType:n,inputDataList:u})];case 2:return e.sent(),this.router.navigate(["purchase/mvtk/confirm"]),[3,4];case 3:return t=e.sent(),console.error(t),this.isLoading=!1,this.authErrorModal=!0,[3,4];case 4:return[2]}})})},l}(),Cu=t.pb({encapsulation:0,styles:[[".mvtk-box[_ngcontent-%COMP%]{position:relative;padding:32px 0 0}.mvtk-box[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.mvtk-box[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:70px;padding:5px 0;font-size:12px;box-shadow:0 0 0 transparent;font-weight:500}.mvtk-box.active[_ngcontent-%COMP%]{display:block}.validation-text[_ngcontent-%COMP%]{margin:10px 0}.zoom[_ngcontent-%COMP%]{-webkit-animation:.2s zoom;animation:.2s zoom}"]],data:{}});function xu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"div",[["class","button light-gray-button remove-button"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"a",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removeTicket(l.parent.context.index)&&t),t},null,null)),(l()(),t.Jb(-1,null,["削除"]))],null,null)}function ku(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ムビチケ購入番号が未入力です"]))],null,null)}function yu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,["ムビチケ購入番号は","文字で入力してください"]))],null,function(l,n){l(n,1,0,null==n.parent.parent.context.$implicit.controls.code.errors?null:n.parent.parent.context.$implicit.controls.code.errors.maxlength.requiredLength)})}function Du(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,["ムビチケ購入番号は","文字で入力してください"]))],null,function(l,n){l(n,1,0,null==n.parent.parent.context.$implicit.controls.code.errors?null:n.parent.parent.context.$implicit.controls.code.errors.minlength.requiredLength)})}function Ou(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ムビチケ購入番号は数字で入力してください"]))],null,null)}function Ju(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,ku)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,yu)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Du)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Ou)),t.qb(8,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,null==n.parent.context.$implicit.controls.code.errors?null:n.parent.context.$implicit.controls.code.errors.required),l(n,4,0,null==n.parent.context.$implicit.controls.code.errors?null:n.parent.context.$implicit.controls.code.errors.maxlength),l(n,6,0,null==n.parent.context.$implicit.controls.code.errors?null:n.parent.context.$implicit.controls.code.errors.minlength),l(n,8,0,null==n.parent.context.$implicit.controls.code.errors?null:n.parent.context.$implicit.controls.code.errors.pattern)},null)}function wu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ムビチケ暗証番号が未入力です"]))],null,null)}function Lu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,["ムビチケ暗証番号は","文字で入力してください"]))],null,function(l,n){l(n,1,0,null==n.parent.parent.context.$implicit.controls.password.errors?null:n.parent.parent.context.$implicit.controls.password.errors.maxlength.requiredLength)})}function Iu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,["ムビチケ暗証番号は","文字で入力してください"]))],null,function(l,n){l(n,1,0,null==n.parent.parent.context.$implicit.controls.password.errors?null:n.parent.parent.context.$implicit.controls.password.errors.minlength.requiredLength)})}function Pu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ムビチケ暗証番号は数字で入力してください"]))],null,null)}function qu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,wu)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Lu)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Iu)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Pu)),t.qb(8,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,null==n.parent.context.$implicit.controls.password.errors?null:n.parent.context.$implicit.controls.password.errors.required),l(n,4,0,null==n.parent.context.$implicit.controls.password.errors?null:n.parent.context.$implicit.controls.password.errors.maxlength),l(n,6,0,null==n.parent.context.$implicit.controls.password.errors?null:n.parent.context.$implicit.controls.password.errors.minlength),l(n,8,0,null==n.parent.context.$implicit.controls.password.errors?null:n.parent.context.$implicit.controls.password.errors.pattern)},null)}function Mu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,39,"div",[["class","ticket-list mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0;return"submit"===n&&(e=!1!==t.Db(l,3).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,3).onReset()&&e),e},null,null)),t.qb(2,16384,null,0,D.z,[],null,null),t.qb(3,540672,null,0,D.g,[[8,null],[8,null]],{form:[0,"form"]},null),t.Hb(2048,null,D.c,null,[D.g]),t.qb(5,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(6,0,null,null,33,"div",[["class","mvtk-p-3"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,xu)),t.qb(8,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(9,0,null,null,30,"ul",[["class","p-3 rounded bg-light-gray mb-2 form-layout"]],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,14,"li",[],null,null,null,null,null)),(l()(),t.rb(11,0,null,null,13,"dl",[],null,null,null,null,null)),(l()(),t.rb(12,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ムビチケ購入番号"])),(l()(),t.rb(14,0,null,null,10,"dd",[],null,null,null,null,null)),(l()(),t.rb(15,0,null,null,7,"input",[["autocomplete","off"],["class","mvtk-code"],["formControlName","code"],["maxlength","10"],["placeholder","(例)012345789"],["type","text"]],[[2,"validation",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,16)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,16).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,16)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,16)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(16,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.qb(17,540672,null,0,D.i,[],{maxlength:[0,"maxlength"]},null),t.Hb(1024,null,D.j,function(l){return[l]},[D.i]),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(20,671744,null,0,D.f,[[3,D.c],[6,D.j],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(22,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Ju)),t.qb(24,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(25,0,null,null,14,"li",[],null,null,null,null,null)),(l()(),t.rb(26,0,null,null,13,"dl",[],null,null,null,null,null)),(l()(),t.rb(27,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ムビチケ暗証番号"])),(l()(),t.rb(29,0,null,null,10,"dd",[],null,null,null,null,null)),(l()(),t.rb(30,0,null,null,7,"input",[["autocomplete","off"],["formControlName","password"],["maxlength","4"],["placeholder","(例)0123"],["type","password"]],[[2,"validation",null],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,31)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,31).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,31)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,31)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(31,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.qb(32,540672,null,0,D.i,[],{maxlength:[0,"maxlength"]},null),t.Hb(1024,null,D.j,function(l){return[l]},[D.i]),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(35,671744,null,0,D.f,[[3,D.c],[6,D.j],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(37,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,qu)),t.qb(39,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,3,0,n.context.$implicit),l(n,8,0,u.forms.length>1),l(n,17,0,"10"),l(n,20,0,"code"),l(n,24,0,n.context.$implicit.controls.code.invalid&&n.context.$implicit.controls.code.touched),l(n,32,0,"4"),l(n,35,0,"password"),l(n,39,0,n.context.$implicit.controls.password.invalid&&n.context.$implicit.controls.password.touched)},function(l,n){l(n,1,0,t.Db(n,5).ngClassUntouched,t.Db(n,5).ngClassTouched,t.Db(n,5).ngClassPristine,t.Db(n,5).ngClassDirty,t.Db(n,5).ngClassValid,t.Db(n,5).ngClassInvalid,t.Db(n,5).ngClassPending),l(n,15,0,n.context.$implicit.controls.code.invalid&&n.context.$implicit.controls.code.touched,t.Db(n,17).maxlength?t.Db(n,17).maxlength:null,t.Db(n,22).ngClassUntouched,t.Db(n,22).ngClassTouched,t.Db(n,22).ngClassPristine,t.Db(n,22).ngClassDirty,t.Db(n,22).ngClassValid,t.Db(n,22).ngClassInvalid,t.Db(n,22).ngClassPending),l(n,30,0,n.context.$implicit.controls.password.invalid&&n.context.$implicit.controls.password.touched,t.Db(n,32).maxlength?t.Db(n,32).maxlength:null,t.Db(n,37).ngClassUntouched,t.Db(n,37).ngClassTouched,t.Db(n,37).ngClassPristine,t.Db(n,37).ngClassDirty,t.Db(n,37).ngClassValid,t.Db(n,37).ngClassInvalid,t.Db(n,37).ngClassPending)})}function _u(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"div",[["class","button dark-blue-button add-button mb-3 center-button"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"a",[["class","icon-add-white"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.addTicket()&&t),t},null,null)),(l()(),t.Jb(-1,null,["ムビチケ券を追加"]))],null,null)}function Nu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,27,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ムビチケ券認証"])),(l()(),t.rb(3,0,null,null,3,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご利用になるムビチケ券の購入番号と、暗証番号を入力してください。 "])),(l()(),t.rb(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["複数枚ご利用になる場合は「ムビチケ券を追加」ボタンを押して追加してください。"])),(l()(),t.gb(16777216,null,null,1,null,Mu)),t.qb(8,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,null,1,null,_u)),t.qb(10,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(11,0,null,null,5,"div",[["class","p-3 rounded bg-light-gray mb-2"]],null,null,null,null,null)),(l()(),t.rb(12,0,null,null,1,"div",[["class","p-3-ttl"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["選択中の座席"])),(l()(),t.rb(14,0,null,null,2,"div",[["class","text-right text-large"]],null,null,null,null,null)),(l()(),t.rb(15,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(16,null,["","席"])),(l()(),t.rb(17,0,null,null,1,"p",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※不足金額が発生した場合は別途クレジットカードにてお支払いいただきます。"])),(l()(),t.rb(19,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,21).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,21).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.onSubmit()&&e),e},null,null)),t.qb(20,16384,null,0,D.z,[],null,null),t.qb(21,4210688,null,0,D.o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.o]),t.qb(23,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(24,0,null,null,1,"app-buttons",[["nextLabel","認証する"],["prevLabel","戻る"],["prevLink","/purchase/ticket"]],null,null,null,zl,Yl)),t.qb(25,114688,null,0,Bl.a,[],{nextLabel:[0,"nextLabel"],prevLabel:[1,"prevLabel"],prevLink:[2,"prevLink"],disabled:[3,"disabled"]},null),(l()(),t.rb(26,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(27,114688,null,0,W.a,[],null,null),(l()(),t.rb(28,0,null,null,6,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.inputValidationModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(29,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(30,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(31,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入力項目にエラーがあります"])),(l()(),t.rb(33,0,null,0,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入力項目をご確認ください。"])),(l()(),t.rb(35,0,null,null,6,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.authErrorModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(36,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(37,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(38,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["認証に失敗しました"])),(l()(),t.rb(40,0,null,0,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入番号と暗証番号、もしくはムビチケ券の対象作品を再度ご確認ください。"])),(l()(),t.rb(42,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(43,114688,null,0,o.a,[],{show:[0,"show"]},null)],function(l,n){var u=n.component;l(n,8,0,u.forms),l(n,10,0,(null==u.purchase.data.tmpSeatReservationAuthorization?null:u.purchase.data.tmpSeatReservationAuthorization.object.acceptedOffer.length)>u.forms.length),l(n,25,0,"認証する","戻る","/purchase/ticket",u.isLoading),l(n,27,0),l(n,29,0,u.inputValidationModal,!0),l(n,36,0,u.authErrorModal,!0),l(n,43,0,u.isLoading)},function(l,n){var u=n.component;l(n,16,0,null==u.purchase.data.tmpSeatReservationAuthorization?null:u.purchase.data.tmpSeatReservationAuthorization.object.acceptedOffer.length),l(n,19,0,t.Db(n,23).ngClassUntouched,t.Db(n,23).ngClassTouched,t.Db(n,23).ngClassPristine,t.Db(n,23).ngClassDirty,t.Db(n,23).ngClassValid,t.Db(n,23).ngClassInvalid,t.Db(n,23).ngClassPending)})}function Tu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-mvtk-input",[],null,null,null,Nu,Cu)),t.qb(1,114688,null,0,vu,[m.a,D.e,d.l],null,null)],function(l,n){l(n,1,0)},null)}var Su=t.nb("app-purchase-mvtk-input",vu,Tu,{},{},[]),Fu=function(){function l(l,n,u){this.purchase=l,this.router=n,this.error=u}return l.prototype.ngOnInit=function(){window.scrollTo(0,0),this.tickets=this.purchase.data.movieTickets.filter(function(l){return l.paymentMethodType===J.factory.chevre.paymentMethodType.MovieTicket}),0===this.tickets.length&&this.error.redirect(new Error("status is different"))},l.prototype.onSubmit=function(){this.router.navigate(["/purchase/ticket"])},l}(),Eu=t.pb({encapsulation:0,styles:[["@media screen and (max-width:767px){.mvtk-lists[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{display:block}.mvtk-lists[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{display:block;width:100%}}"]],data:{}});function $u(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,6,"li",[],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,5,"dl",[["class","d-table"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"dt",[["class","d-td"]],null,null,null,null,null)),(l()(),t.Jb(3,null,["ムビチケ購入番号 ",""])),(l()(),t.rb(4,0,null,null,2,"dd",[["class","d-td width-medium"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(6,null,[""," × ",""]))],null,function(l,n){l(n,3,0,n.context.$implicit.input.knyknrNo),l(n,6,0,n.context.$implicit.ticketcodeResult.ticketName,n.context.$implicit.ykknInfo.ykknKnshbtsmiNum)})}function ju(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,19,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ムビチケ券適用内容確認"])),(l()(),t.rb(3,0,null,null,4,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["内容に問題なければ「券種選択へ戻る」ボタンを押してください。 "])),(l()(),t.rb(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(6,0,null,null,1,"span",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※券種選択よりムビチケ券を選択してください。"])),(l()(),t.rb(8,0,null,null,2,"ul",[["class","p-3 rounded bg-light-gray mb-3 mvtk-lists"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,$u)),t.qb(10,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(11,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,13).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,13).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.onSubmit()&&e),e},null,null)),t.qb(12,16384,null,0,D.z,[],null,null),t.qb(13,4210688,null,0,D.o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.o]),t.qb(15,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(16,0,null,null,1,"app-buttons",[["nextLabel","券種選択へ戻る"],["prevLabel","戻る"],["prevLink","/purchase/mvtk/input"]],null,null,null,zl,Yl)),t.qb(17,114688,null,0,Bl.a,[],{nextLabel:[0,"nextLabel"],prevLabel:[1,"prevLabel"],prevLink:[2,"prevLink"]},null),(l()(),t.rb(18,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(19,114688,null,0,W.a,[],null,null)],function(l,n){l(n,10,0,n.component.tickets),l(n,17,0,"券種選択へ戻る","戻る","/purchase/mvtk/input"),l(n,19,0)},function(l,n){l(n,11,0,t.Db(n,15).ngClassUntouched,t.Db(n,15).ngClassTouched,t.Db(n,15).ngClassPristine,t.Db(n,15).ngClassDirty,t.Db(n,15).ngClassValid,t.Db(n,15).ngClassInvalid,t.Db(n,15).ngClassPending)})}function Au(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-mvtk-confirm",[],null,null,null,ju,Eu)),t.qb(1,114688,null,0,Fu,[m.a,d.l,g.a],null,null)],function(l,n){l(n,1,0)},null)}var Ru=t.nb("app-purchase-mvtk-confirm",Fu,Au,{},{},[]),Vu=function(){function l(l,n,u){this.purchase=l,this.formBuilder=n,this.router=u}return l.prototype.ngOnInit=function(){window.scrollTo(0,0),this.isLoading=!1,this.inputValidationModal=!1,this.authErrorModal=!1,this.forms=[],this.forms.push(this.createForm()),this.inputForm=this.formBuilder.group({})},l.prototype.createForm=function(){return this.formBuilder.group({code:["",[D.u.required,D.u.pattern(/^[0-9a-zA-Z]+$/)]],password:["",[D.u.required,D.u.pattern(/^[0-9]+$/)]]})},l.prototype.addTicket=function(){this.forms.push(this.createForm())},l.prototype.removeTicket=function(l){this.forms.splice(l,1)},l.prototype.onSubmit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n,u,t;return Object(a.__generator)(this,function(e){switch(e.label){case 0:if(this.forms.forEach(function(l,n){var u=document.querySelectorAll(".mvtk-code");l.controls.code.setValue(u[n].value)}),(l=this.forms.filter(function(l){return!l.invalid})).length!==this.forms.length)return this.inputValidationModal=!0,[2];if(this.isLoading=!0,this.purchase.isExpired())return this.router.navigate(["/expired"]),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),n=J.factory.chevre.paymentMethodType.MGTicket,u=l.map(function(l){return{knyknrNo:l.controls.code.value,pinCd:l.controls.password.value}}),[4,this.purchase.movieTicketAuthenticationProcess({paymentMethodType:n,inputDataList:u})];case 2:return e.sent(),this.router.navigate(["purchase/mg/confirm"]),[3,4];case 3:return t=e.sent(),console.error(t),this.isLoading=!1,this.authErrorModal=!0,[3,4];case 4:return[2]}})})},l}(),Hu=t.pb({encapsulation:0,styles:[[".mvtk-box[_ngcontent-%COMP%]{position:relative;padding:32px 0 0}.mvtk-box[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.mvtk-box[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:70px;padding:5px 0;font-size:12px;box-shadow:0 0 0 transparent;font-weight:500}.mvtk-box.active[_ngcontent-%COMP%]{display:block}.validation-text[_ngcontent-%COMP%]{margin:10px 0}.zoom[_ngcontent-%COMP%]{-webkit-animation:.2s zoom;animation:.2s zoom}"]],data:{}});function Uu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"div",[["class","button light-gray-button remove-button"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"a",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removeTicket(l.parent.context.index)&&t),t},null,null)),(l()(),t.Jb(-1,null,["削除"]))],null,null)}function Bu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["CSチケット購入番号が未入力です"]))],null,null)}function Yu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,["CSチケット購入番号は","文字で入力してください"]))],null,function(l,n){l(n,1,0,null==n.parent.parent.context.$implicit.controls.code.errors?null:n.parent.parent.context.$implicit.controls.code.errors.maxlength.requiredLength)})}function zu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,["CSチケット購入番号は","文字で入力してください"]))],null,function(l,n){l(n,1,0,null==n.parent.parent.context.$implicit.controls.code.errors?null:n.parent.parent.context.$implicit.controls.code.errors.minlength.requiredLength)})}function Ku(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["CSチケット購入番号は英数字で入力してください"]))],null,null)}function Gu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,Bu)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Yu)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,zu)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Ku)),t.qb(8,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,null==n.parent.context.$implicit.controls.code.errors?null:n.parent.context.$implicit.controls.code.errors.required),l(n,4,0,null==n.parent.context.$implicit.controls.code.errors?null:n.parent.context.$implicit.controls.code.errors.maxlength),l(n,6,0,null==n.parent.context.$implicit.controls.code.errors?null:n.parent.context.$implicit.controls.code.errors.minlength),l(n,8,0,null==n.parent.context.$implicit.controls.code.errors?null:n.parent.context.$implicit.controls.code.errors.pattern)},null)}function Wu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["CSチケット暗証番号が未入力です"]))],null,null)}function Qu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,["CSチケット暗証番号は","文字で入力してください"]))],null,function(l,n){l(n,1,0,null==n.parent.parent.context.$implicit.controls.password.errors?null:n.parent.parent.context.$implicit.controls.password.errors.maxlength.requiredLength)})}function Xu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(1,null,["CSチケット暗証番号は","文字で入力してください"]))],null,function(l,n){l(n,1,0,null==n.parent.parent.context.$implicit.controls.password.errors?null:n.parent.parent.context.$implicit.controls.password.errors.minlength.requiredLength)})}function Zu(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["CSチケット暗証番号は数字で入力してください"]))],null,null)}function lt(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,Wu)),t.qb(2,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Qu)),t.qb(4,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Xu)),t.qb(6,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,Zu)),t.qb(8,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,null==n.parent.context.$implicit.controls.password.errors?null:n.parent.context.$implicit.controls.password.errors.required),l(n,4,0,null==n.parent.context.$implicit.controls.password.errors?null:n.parent.context.$implicit.controls.password.errors.maxlength),l(n,6,0,null==n.parent.context.$implicit.controls.password.errors?null:n.parent.context.$implicit.controls.password.errors.minlength),l(n,8,0,null==n.parent.context.$implicit.controls.password.errors?null:n.parent.context.$implicit.controls.password.errors.pattern)},null)}function nt(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,35,"div",[["class","ticket-list mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,34,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0;return"submit"===n&&(e=!1!==t.Db(l,3).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,3).onReset()&&e),e},null,null)),t.qb(2,16384,null,0,D.z,[],null,null),t.qb(3,540672,null,0,D.g,[[8,null],[8,null]],{form:[0,"form"]},null),t.Hb(2048,null,D.c,null,[D.g]),t.qb(5,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(6,0,null,null,29,"div",[["class","mvtk-p-3"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,Uu)),t.qb(8,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(9,0,null,null,26,"ul",[["class","p-3 rounded bg-light-gray mb-2 form-layout"]],null,null,null,null,null)),(l()(),t.rb(10,0,null,null,12,"li",[],null,null,null,null,null)),(l()(),t.rb(11,0,null,null,11,"dl",[],null,null,null,null,null)),(l()(),t.rb(12,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["CSチケット購入番号"])),(l()(),t.rb(14,0,null,null,8,"dd",[],null,null,null,null,null)),(l()(),t.rb(15,0,null,null,5,"input",[["autocomplete","off"],["class","mvtk-code"],["formControlName","code"],["placeholder","(例)012345789"],["type","text"]],[[2,"validation",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,16)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,16).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,16)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,16)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(16,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(18,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(20,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,Gu)),t.qb(22,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(23,0,null,null,12,"li",[],null,null,null,null,null)),(l()(),t.rb(24,0,null,null,11,"dl",[],null,null,null,null,null)),(l()(),t.rb(25,0,null,null,1,"dt",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["CSチケット暗証番号"])),(l()(),t.rb(27,0,null,null,8,"dd",[],null,null,null,null,null)),(l()(),t.rb(28,0,null,null,5,"input",[["autocomplete","off"],["formControlName","password"],["placeholder","(例)0123"],["type","password"]],[[2,"validation",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Db(l,29)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,29).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Db(l,29)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Db(l,29)._compositionEnd(u.target.value)&&e),e},null,null)),t.qb(29,16384,null,0,D.d,[t.D,t.k,[2,D.a]],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.d]),t.qb(31,671744,null,0,D.f,[[3,D.c],[8,null],[8,null],[6,D.k],[2,D.x]],{name:[0,"name"]},null),t.Hb(2048,null,D.l,null,[D.f]),t.qb(33,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,lt)),t.qb(35,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,3,0,n.context.$implicit),l(n,8,0,u.forms.length>1),l(n,18,0,"code"),l(n,22,0,n.context.$implicit.controls.code.invalid&&n.context.$implicit.controls.code.touched),l(n,31,0,"password"),l(n,35,0,n.context.$implicit.controls.password.invalid&&n.context.$implicit.controls.password.touched)},function(l,n){l(n,1,0,t.Db(n,5).ngClassUntouched,t.Db(n,5).ngClassTouched,t.Db(n,5).ngClassPristine,t.Db(n,5).ngClassDirty,t.Db(n,5).ngClassValid,t.Db(n,5).ngClassInvalid,t.Db(n,5).ngClassPending),l(n,15,0,n.context.$implicit.controls.code.invalid&&n.context.$implicit.controls.code.touched,t.Db(n,20).ngClassUntouched,t.Db(n,20).ngClassTouched,t.Db(n,20).ngClassPristine,t.Db(n,20).ngClassDirty,t.Db(n,20).ngClassValid,t.Db(n,20).ngClassInvalid,t.Db(n,20).ngClassPending),l(n,28,0,n.context.$implicit.controls.password.invalid&&n.context.$implicit.controls.password.touched,t.Db(n,33).ngClassUntouched,t.Db(n,33).ngClassTouched,t.Db(n,33).ngClassPristine,t.Db(n,33).ngClassDirty,t.Db(n,33).ngClassValid,t.Db(n,33).ngClassInvalid,t.Db(n,33).ngClassPending)})}function ut(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"div",[["class","button dark-blue-button add-button mb-3 center-button"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"a",[["class","icon-add-white"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.addTicket()&&t),t},null,null)),(l()(),t.Jb(-1,null,["CSチケットを追加"]))],null,null)}function tt(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,27,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["CSチケット認証"])),(l()(),t.rb(3,0,null,null,3,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご利用になるCSチケットの購入番号と、暗証番号を入力してください。 "])),(l()(),t.rb(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["複数枚ご利用になる場合は「CSチケットを追加」ボタンを押して追加してください。"])),(l()(),t.gb(16777216,null,null,1,null,nt)),t.qb(8,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,null,1,null,ut)),t.qb(10,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(11,0,null,null,5,"div",[["class","p-3 rounded bg-light-gray mb-2"]],null,null,null,null,null)),(l()(),t.rb(12,0,null,null,1,"div",[["class","p-3-ttl"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["選択中の座席"])),(l()(),t.rb(14,0,null,null,2,"div",[["class","text-right text-large"]],null,null,null,null,null)),(l()(),t.rb(15,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(16,null,["","席"])),(l()(),t.rb(17,0,null,null,1,"p",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※不足金額が発生した場合は別途クレジットカードにてお支払いいただきます。"])),(l()(),t.rb(19,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,21).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,21).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.onSubmit()&&e),e},null,null)),t.qb(20,16384,null,0,D.z,[],null,null),t.qb(21,4210688,null,0,D.o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.o]),t.qb(23,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(24,0,null,null,1,"app-buttons",[["nextLabel","認証する"],["prevLabel","戻る"],["prevLink","/purchase/ticket"]],null,null,null,zl,Yl)),t.qb(25,114688,null,0,Bl.a,[],{nextLabel:[0,"nextLabel"],prevLabel:[1,"prevLabel"],prevLink:[2,"prevLink"],disabled:[3,"disabled"]},null),(l()(),t.rb(26,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(27,114688,null,0,W.a,[],null,null),(l()(),t.rb(28,0,null,null,6,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.inputValidationModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(29,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(30,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(31,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入力項目にエラーがあります"])),(l()(),t.rb(33,0,null,0,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入力項目をご確認ください。"])),(l()(),t.rb(35,0,null,null,6,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.authErrorModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(36,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(37,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(38,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["認証に失敗しました"])),(l()(),t.rb(40,0,null,0,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入番号と暗証番号、もしくはCSチケットの対象作品を再度ご確認ください。"])),(l()(),t.rb(42,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(43,114688,null,0,o.a,[],{show:[0,"show"]},null)],function(l,n){var u=n.component;l(n,8,0,u.forms),l(n,10,0,(null==u.purchase.data.tmpSeatReservationAuthorization?null:u.purchase.data.tmpSeatReservationAuthorization.object.acceptedOffer.length)>u.forms.length),l(n,25,0,"認証する","戻る","/purchase/ticket",u.isLoading),l(n,27,0),l(n,29,0,u.inputValidationModal,!0),l(n,36,0,u.authErrorModal,!0),l(n,43,0,u.isLoading)},function(l,n){var u=n.component;l(n,16,0,null==u.purchase.data.tmpSeatReservationAuthorization?null:u.purchase.data.tmpSeatReservationAuthorization.object.acceptedOffer.length),l(n,19,0,t.Db(n,23).ngClassUntouched,t.Db(n,23).ngClassTouched,t.Db(n,23).ngClassPristine,t.Db(n,23).ngClassDirty,t.Db(n,23).ngClassValid,t.Db(n,23).ngClassInvalid,t.Db(n,23).ngClassPending)})}function et(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-mg-input",[],null,null,null,tt,Hu)),t.qb(1,114688,null,0,Vu,[m.a,D.e,d.l],null,null)],function(l,n){l(n,1,0)},null)}var rt=t.nb("app-purchase-mg-input",Vu,et,{},{},[]),it=function(){function l(l,n,u){this.purchase=l,this.router=n,this.error=u}return l.prototype.ngOnInit=function(){window.scrollTo(0,0),this.tickets=this.purchase.data.movieTickets.filter(function(l){return l.paymentMethodType===J.factory.chevre.paymentMethodType.MGTicket}),0===this.tickets.length&&this.error.redirect(new Error("status is different"))},l.prototype.onSubmit=function(){this.router.navigate(["/purchase/ticket"])},l}(),ot=t.pb({encapsulation:0,styles:[["@media screen and (max-width:767px){.mvtk-lists[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{display:block}.mvtk-lists[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{display:block;width:100%}}"]],data:{}});function at(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,6,"li",[],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,5,"dl",[["class","d-table"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"dt",[["class","d-td"]],null,null,null,null,null)),(l()(),t.Jb(3,null,["CSチケット購入番号 ",""])),(l()(),t.rb(4,0,null,null,2,"dd",[["class","d-td width-medium"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(6,null,[""," × ",""]))],null,function(l,n){l(n,3,0,n.context.$implicit.input.knyknrNo),l(n,6,0,n.context.$implicit.ticketcodeResult.ticketName,n.context.$implicit.ykknInfo.ykknKnshbtsmiNum)})}function st(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,19,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["CSチケット適用内容確認"])),(l()(),t.rb(3,0,null,null,4,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["内容に問題なければ「券種選択へ戻る」ボタンを押してください。 "])),(l()(),t.rb(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.rb(6,0,null,null,1,"span",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※券種選択よりCSチケットを選択してください。"])),(l()(),t.rb(8,0,null,null,2,"ul",[["class","p-3 rounded bg-light-gray mb-3 mvtk-lists"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,at)),t.qb(10,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(11,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,13).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,13).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.onSubmit()&&e),e},null,null)),t.qb(12,16384,null,0,D.z,[],null,null),t.qb(13,4210688,null,0,D.o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.o]),t.qb(15,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(16,0,null,null,1,"app-buttons",[["nextLabel","券種選択へ戻る"],["prevLabel","戻る"],["prevLink","/purchase/mg/input"]],null,null,null,zl,Yl)),t.qb(17,114688,null,0,Bl.a,[],{nextLabel:[0,"nextLabel"],prevLabel:[1,"prevLabel"],prevLink:[2,"prevLink"]},null),(l()(),t.rb(18,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(19,114688,null,0,W.a,[],null,null)],function(l,n){l(n,10,0,n.component.tickets),l(n,17,0,"券種選択へ戻る","戻る","/purchase/mg/input"),l(n,19,0)},function(l,n){l(n,11,0,t.Db(n,15).ngClassUntouched,t.Db(n,15).ngClassTouched,t.Db(n,15).ngClassPristine,t.Db(n,15).ngClassDirty,t.Db(n,15).ngClassValid,t.Db(n,15).ngClassInvalid,t.Db(n,15).ngClassPending)})}function ct(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-mg-confirm",[],null,null,null,st,ot)),t.qb(1,114688,null,0,it,[m.a,d.l,g.a],null,null)],function(l,n){l(n,1,0)},null)}var bt=t.nb("app-purchase-mg-confirm",it,ct,{},{},[]),dt=function(){function l(l,n,u,t,e){this.user=l,this.cinerinoService=n,this.purchase=u,this.error=t,this.router=e}return l.prototype.ngOnInit=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var l,n,u,t,e,r,i,o,c=this;return Object(a.__generator)(this,function(a){switch(a.label){case 0:this.pointAhortageAlertModal=!1,this.isLoading=!0,this.pointTickets=[],this.selectTickets={},a.label=1;case 1:if(a.trys.push([1,3,,4]),n=this.purchase.data.tmpSeatReservationAuthorization,void 0===(l=this.purchase.data.screeningEvent)||void 0===l.coaInfo||void 0===n||void 0===this.user.data.account)throw new Error("status is different");for(this.availableBalance=this.user.data.account.typeOfGood.availableBalance,u=n.object.acceptedOffer.length,this.ticketValueList=[],t=0;t<u+1;t++)this.ticketValueList.push(t);return[4,this.cinerinoService.getTickets({theaterCode:l.coaInfo.theaterCode})];case 2:for(e=a.sent(),this.pointTickets=e.filter(function(l){var n=c.purchase.data.salesTickets.find(function(n){return n.ticketCode===l.ticketCode});return l.usePoint>0&&l.flgMember===s.a.Member&&void 0!==n}),r=0,i=this.pointTickets;r<i.length;r++)this.selectTickets[i[r].ticketCode]=0;return[3,4];case 3:return o=a.sent(),this.error.redirect(o),[3,4];case 4:return this.isLoading=!1,[2]}})})},l.prototype.onSubmit=function(){for(var l=0,n=0,u=this.pointTickets;n<u.length;n++)l+=(r=u[n]).usePoint*this.selectTickets[r.ticketCode];if(void 0!==this.user.data.account)if(0!==l)if(this.user.data.account.typeOfGood.availableBalance<l)this.pointAhortageAlertModal=!0;else{this.purchase.data.pointTickets=[];for(var t=0,e=this.pointTickets;t<e.length;t++)for(var r=e[t],i=0;i<this.selectTickets[r.ticketCode];i++)this.purchase.data.pointTickets.push(r);this.purchase.save(),this.router.navigate(["/purchase/ticket"])}else this.notSelectAlertModal=!0;else this.error.redirect(new Error("account is undefined"))},l}(),pt=t.pb({encapsulation:0,styles:[[".point[_ngcontent-%COMP%]{color:#fff}.point[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{display:inline-block;padding:10px}.tickets[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.tickets[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-bottom:0}.tickets[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100px}"]],data:{}});function mt(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.qb(1,147456,null,0,D.q,[t.k,t.D,[2,D.t]],{value:[0,"value"]},null),t.qb(2,147456,null,0,D.y,[t.k,t.D,[8,null]],{value:[0,"value"]},null),(l()(),t.Jb(3,null,["","枚"]))],function(l,n){l(n,1,0,t.vb(1,"",n.context.$implicit,"")),l(n,2,0,t.vb(1,"",n.context.$implicit,""))},function(l,n){l(n,3,0,n.context.$implicit)})}function gt(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,16,"li",[],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,15,"dl",[],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,5,"dt",[],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,1,"div",[["class","text-small mb-1"]],null,null,null,null,null)),(l()(),t.Jb(4,null,["","ポイントで引き換え"])),(l()(),t.rb(5,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.rb(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(7,null,["",""])),(l()(),t.rb(8,0,null,null,8,"dd",[],null,null,null,null,null)),(l()(),t.rb(9,0,null,null,7,"select",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var e=!0,r=l.component;return"change"===n&&(e=!1!==t.Db(l,10).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Db(l,10).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(r.selectTickets[l.context.$implicit.ticketCode]=u)&&e),e},null,null)),t.qb(10,16384,null,0,D.t,[t.D,t.k],null,null),t.Hb(1024,null,D.k,function(l){return[l]},[D.t]),t.qb(12,671744,null,0,D.p,[[8,null],[8,null],[8,null],[6,D.k]],{model:[0,"model"]},{update:"ngModelChange"}),t.Hb(2048,null,D.l,null,[D.p]),t.qb(14,16384,null,0,D.m,[[4,D.l]],null,null),(l()(),t.gb(16777216,null,null,1,null,mt)),t.qb(16,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,12,0,u.selectTickets[n.context.$implicit.ticketCode]),l(n,16,0,u.ticketValueList)},function(l,n){l(n,4,0,n.context.$implicit.usePoint),l(n,7,0,n.context.$implicit.ticketName),l(n,9,0,t.Db(n,14).ngClassUntouched,t.Db(n,14).ngClassTouched,t.Db(n,14).ngClassPristine,t.Db(n,14).ngClassDirty,t.Db(n,14).ngClassValid,t.Db(n,14).ngClassInvalid,t.Db(n,14).ngClassPending)})}function ht(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"ul",[["class","p-3 rounded bg-light-gray mb-3 tickets"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,gt)),t.qb(2,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.pointTickets)},null)}function ft(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,21,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ポイント使用"])),(l()(),t.rb(3,0,null,null,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 貯まったポイントの使用方法を選択してください。 "])),(l()(),t.rb(5,0,null,null,5,"div",[["class","mb-3 point text-center"]],null,null,null,null,null)),(l()(),t.rb(6,0,null,null,4,"div",[["class","inner bg-gray"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["現在 "])),(l()(),t.rb(8,0,null,null,1,"strong",[["class","text-large"]],null,null,null,null,null)),(l()(),t.Jb(9,null,["",""])),(l()(),t.Jb(-1,null,[" ポイント"])),(l()(),t.gb(16777216,null,null,1,null,ht)),t.qb(12,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(13,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,r=l.component;return"submit"===n&&(e=!1!==t.Db(l,15).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Db(l,15).onReset()&&e),"ngSubmit"===n&&(e=!1!==r.onSubmit()&&e),e},null,null)),t.qb(14,16384,null,0,D.z,[],null,null),t.qb(15,4210688,null,0,D.o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t.Hb(2048,null,D.c,null,[D.o]),t.qb(17,16384,null,0,D.n,[[4,D.c]],null,null),(l()(),t.rb(18,0,null,null,1,"app-buttons",[["nextLabel","券種に追加する"],["prevLabel","戻る"],["prevLink","/purchase/ticket"]],null,null,null,zl,Yl)),t.qb(19,114688,null,0,Bl.a,[],{nextLabel:[0,"nextLabel"],prevLabel:[1,"prevLabel"],prevLink:[2,"prevLink"]},null),(l()(),t.rb(20,0,null,null,1,"app-site-seal",[],null,null,null,G.b,G.a)),t.qb(21,114688,null,0,W.a,[],null,null),(l()(),t.rb(22,0,null,null,6,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.pointAhortageAlertModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(23,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(24,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(25,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ポイントが不足しています"])),(l()(),t.rb(27,0,null,0,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["選択した券種の合計ポイントが所持ポイントを超えています。 "])),(l()(),t.rb(29,0,null,null,6,"app-modal",[],null,[[null,"close"]],function(l,n,u){var t=!0;return"close"===n&&(t=0!=(l.component.notSelectAlertModal=!1)&&t),t},Ll.b,Ll.a)),t.qb(30,114688,null,0,Il.a,[],{open:[0,"open"],layout:[1,"layout"]},{close:"close"}),(l()(),t.rb(31,0,null,0,2,"div",[["class","modal-title text-large text-center mb-3"]],null,null,null,null,null)),(l()(),t.rb(32,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["券種が選択されていません"])),(l()(),t.rb(34,0,null,0,1,"p",[["class","text-left text-md-center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["券種を選択してください。 "])),(l()(),t.rb(36,0,null,null,1,"app-loading",[],null,null,null,i.b,i.a)),t.qb(37,114688,null,0,o.a,[],{show:[0,"show"]},null)],function(l,n){var u=n.component;l(n,12,0,!u.isLoading),l(n,19,0,"券種に追加する","戻る","/purchase/ticket"),l(n,21,0),l(n,23,0,u.pointAhortageAlertModal,!0),l(n,30,0,u.notSelectAlertModal,!0),l(n,37,0,u.isLoading)},function(l,n){l(n,9,0,n.component.availableBalance),l(n,13,0,t.Db(n,17).ngClassUntouched,t.Db(n,17).ngClassTouched,t.Db(n,17).ngClassPristine,t.Db(n,17).ngClassDirty,t.Db(n,17).ngClassValid,t.Db(n,17).ngClassInvalid,t.Db(n,17).ngClassPending)})}function vt(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-point",[],null,null,null,ft,pt)),t.qb(1,114688,null,0,dt,[f.b,p.a,m.a,g.a,d.l],null,null)],function(l,n){l(n,1,0)},null)}var Ct=t.nb("app-purchase-point",dt,vt,{},{},[]),xt=function(){function l(l,n,u){this.storage=l,this.error=n,this.user=u,this.environment=w.a,this.getOrderTicketPrice=L.e}return l.prototype.ngOnInit=function(){window.scrollTo(0,0),this.data=this.storage.load("complete",s.b.Session),null===this.data&&this.error.redirect(new Error("complete data is null"))},l.prototype.print=function(){print()},l.prototype.getReservationNumber=function(){var l=this.getItemOffered();return void 0===l?"":l.reservationNumber},l.prototype.getTheaterName=function(){var l=this.getItemOffered();return void 0===l||void 0===l.reservationFor.superEvent.location.name||void 0===l.reservationFor.superEvent.location.name.ja?"":l.reservationFor.superEvent.location.name.ja},l.prototype.getScreenName=function(){var l=this.getItemOffered();return void 0===l||void 0===l.reservationFor.location.name||void 0===l.reservationFor.location.name.ja?"":l.reservationFor.location.name.ja},l.prototype.getTitle=function(){var l=this.getItemOffered();return void 0===l?"":l.reservationFor.name.ja},l.prototype.getAppreciationDate=function(){var l=this.getItemOffered();return void 0===l||void 0===l.reservationFor.coaInfo?"":E(l.reservationFor.coaInfo.dateJouei).locale("ja").format("YYYY年MM月DD日(ddd)")},l.prototype.getStartDate=function(){var l=this.getItemOffered(),n=new Q.c;return void 0===l||void 0===l.reservationFor.coaInfo?"":n.transform(l.reservationFor.startDate,l.reservationFor.coaInfo.dateJouei)},l.prototype.getEndDate=function(){var l=this.getItemOffered(),n=new Q.c;return void 0===l||void 0===l.reservationFor.coaInfo?"":n.transform(l.reservationFor.endDate,l.reservationFor.coaInfo.dateJouei)},l.prototype.getItemOffered=function(){if(0!==this.data.order.acceptedOffers.length&&this.data.order.acceptedOffers[0].itemOffered.typeOf===J.factory.chevre.reservationType.EventReservation)return this.data.order.acceptedOffers[0].itemOffered},l}(),kt=t.pb({encapsulation:0,styles:[[".border-bottom[_ngcontent-%COMP%]:last-child{margin-bottom:0!important;padding-bottom:0!important;border:none!important}@media print{.not-print[_ngcontent-%COMP%]{display:none}}"]],data:{}});function yt(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Jb(1,null,[" "," "," ￥"," "]))],null,function(l,n){l(n,1,0,n.context.$implicit.itemOffered.reservedTicket.coaTicketInfo.seatNum,n.context.$implicit.itemOffered.reservedTicket.coaTicketInfo.ticketName,n.component.getOrderTicketPrice(n.context.$implicit))})}function Dt(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,6,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,5,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(2,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["獲得ポイント"])),(l()(),t.rb(4,0,null,null,2,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(5,0,null,null,1,"strong",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Jb(6,null,["","ポイント"]))],null,function(l,n){l(n,6,0,n.component.data.incentive)})}function Ot(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,123,"div",[["class","contents bg-white p-3 pb-5 pt-md-4 px-md-5"]],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,1,"h1",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入完了"])),(l()(),t.rb(3,0,null,null,7,"p",[["class","text-left text-md-center mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご購入ありがとうございました。 "])),(l()(),t.rb(5,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入者情報入力画面で入力していただいたメールアドレス宛に購入完了メールを送信しました。 "])),(l()(),t.rb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご入場方法に関しましてはページ下部をご確認ください。 "])),(l()(),t.rb(9,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※購入完了メールの送信に時間がかかる事がありますのでご注意ください。"])),(l()(),t.rb(11,0,null,null,48,"ul",[["class","p-3 rounded bg-light-gray info mb-4 form-layout"]],null,null,null,null,null)),(l()(),t.rb(12,0,null,null,8,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(13,0,null,null,7,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(14,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["予約番号"])),(l()(),t.rb(16,0,null,null,4,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.rb(17,0,null,null,1,"strong",[["class","text-danger text-x-large"]],null,null,null,null,null)),(l()(),t.Jb(18,null,["",""])),(l()(),t.rb(19,0,null,null,1,"p",[["class","text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["※チケットの発行等に必要な番号となりますので必ず忘れないようにしてください。"])),(l()(),t.rb(21,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(22,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(23,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["劇場 / スクリーン"])),(l()(),t.rb(25,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(26,null,[""," / ",""])),(l()(),t.rb(27,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(28,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(29,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["作品名"])),(l()(),t.rb(31,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(32,null,["",""])),(l()(),t.rb(33,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(34,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(35,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["鑑賞日時"])),(l()(),t.rb(37,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(38,null,[" "," "," - "," "])),(l()(),t.rb(39,0,null,null,6,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(40,0,null,null,5,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(41,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["座席"])),(l()(),t.rb(43,0,null,null,2,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,yt)),t.qb(45,278528,null,0,_.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(46,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(47,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(48,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ご利用金額"])),(l()(),t.rb(50,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(51,null,["￥",""])),(l()(),t.rb(52,0,null,null,5,"li",[["class","container px-0 border-bottom border-dot border-gray pb-3 mb-3"]],null,null,null,null,null)),(l()(),t.rb(53,0,null,null,4,"dl",[["class","row align-items-center"]],null,null,null,null,null)),(l()(),t.rb(54,0,null,null,1,"dt",[["class","col-12 col-md-4 font-weight-bold mb-2 mb-md-0"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["メールアドレス"])),(l()(),t.rb(56,0,null,null,1,"dd",[["class","col-12 col-md-8"]],null,null,null,null,null)),(l()(),t.Jb(57,null,["",""])),(l()(),t.gb(16777216,null,null,1,null,Dt)),t.qb(59,16384,null,0,_.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(60,0,null,null,51,"div",[["class","ticket-app-hide"]],null,null,null,null,null)),(l()(),t.rb(61,0,null,null,18,"div",[["class","mb-4"]],null,null,null,null,null)),(l()(),t.rb(62,0,null,null,1,"p",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["<購入完了メールが届かない場合のご確認事項>"])),(l()(),t.rb(64,0,null,null,12,"p",[["class","mb-3 text-small"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 購入完了後、購入完了メールが届かない場合は下記2点をご確認ください。 "])),(l()(),t.rb(66,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["また、購入完了メールは自動送信のため再送信は致しかねます。 "])),(l()(),t.rb(68,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入できているかのご確認は「予約番号」をお控えのうえ "])),(l()(),t.rb(70,0,null,null,1,"a",[["class","inquiry-login-link"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),t.Jb(-1,null,["チケット照会ページ"])),(l()(),t.Jb(-1,null,["よりご確認ください。 "])),(l()(),t.rb(73,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・ご入力いただいたメールアドレスに不備があった場合やメールの着信を拒否されている場合は購入完了メールが受け取れない場合があります。 "])),(l()(),t.rb(75,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["・プロバイダのメール設定、携帯キャリア会社のメール設定のフィルタリング機能を有効にしている方は「削除フォルダ」または「迷惑メールフォルダ」をご確認ください。"])),(l()(),t.rb(77,0,null,null,2,"div",[["class","buttons mx-auto not-print"]],null,null,null,null,null)),(l()(),t.rb(78,0,null,null,1,"a",[["class","btn btn-block btn-success py-3 text-white"],["href","javascript:void(0)"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.print()&&t),t},null,null)),(l()(),t.Jb(-1,null,["印刷する"])),(l()(),t.rb(80,0,null,null,31,"div",[["class","not-print"]],null,null,null,null,null)),(l()(),t.rb(81,0,null,null,1,"h2",[["class","text-center text-large font-weight-bold mb-3"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入場方法"])),(l()(),t.rb(83,0,null,null,22,"ul",[["class","entry-method mb-4"]],null,null,null,null,null)),(l()(),t.rb(84,0,null,null,21,"li",[],null,null,null,null,null)),(l()(),t.rb(85,0,null,null,20,"dl",[["class","p-3 rounded bg-light-gray"]],null,null,null,null,null)),(l()(),t.rb(86,0,null,null,1,"dt",[["class","mb-3 text-center font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" QRコードでスマート入場 "])),(l()(),t.rb(88,0,null,null,17,"dd",[],null,null,null,null,null)),(l()(),t.rb(89,0,null,null,5,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" 当日チケット発券不要！ "])),(l()(),t.rb(91,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["スマートフォンで入場用QRコードを提示するだけでスムーズに入場！ "])),(l()(),t.rb(93,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["入場用QRコードの確認は下記「チケット情報確認」ボタンを押してください。 "])),(l()(),t.rb(95,0,null,null,1,"div",[["class","image mb-3 bg-white"]],null,null,null,null,null)),(l()(),t.rb(96,0,null,null,0,"img",[["alt",""],["src","/assets/images/purchase/complete/qr.svg"]],null,null,null,null,null)),(l()(),t.rb(97,0,null,null,2,"div",[["class","buttons mx-auto mb-3"]],null,null,null,null,null)),(l()(),t.rb(98,0,null,null,1,"a",[["class","btn btn-block btn-primary py-3"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),t.Jb(-1,null,["チケット情報確認"])),(l()(),t.rb(100,0,null,null,5,"p",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["スマートフォンをお持ちでない方は当日チケット発券/入場も可能です。 "])),(l()(),t.rb(102,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["発券方法は "])),(l()(),t.rb(104,0,null,null,1,"a",[["class","icon-new-tab-blue"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),t.Jb(-1,null,["こちら"])),(l()(),t.rb(106,0,null,null,5,"div",[["class","buttons mx-auto mb-5"]],null,null,null,null,null)),(l()(),t.rb(107,0,null,null,4,"div",[["class","prev-link"]],null,null,null,null,null)),(l()(),t.rb(108,0,null,null,3,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),t.rb(109,0,null,null,1,"app-icon",[["height","15"],["iconName","prev-black"],["width","15"]],null,null,null,z.b,z.a)),t.qb(110,114688,null,0,K.a,[],{iconName:[0,"iconName"],width:[1,"width"],height:[2,"height"]},null),(l()(),t.Jb(-1,null,["戻る "])),(l()(),t.rb(112,0,null,null,11,"div",[["class","ticket-app-show"]],null,null,null,null,null)),(l()(),t.rb(113,0,null,null,7,"dl",[["class","p-3 rounded bg-light-gray mb-4"]],null,null,null,null,null)),(l()(),t.rb(114,0,null,null,1,"dt",[["class","mb-3 text-center font-weight-bold"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" チケットホルダーでスマート入場 "])),(l()(),t.rb(116,0,null,null,4,"dd",[],null,null,null,null,null)),(l()(),t.rb(117,0,null,null,1,"div",[["class","mb-2 bg-white"]],null,null,null,null,null)),(l()(),t.rb(118,0,null,null,0,"img",[["alt",""],["src","/assets/images/purchase/complete/qr.svg"]],null,null,null,null,null)),(l()(),t.rb(119,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["購入したチケットはチケットホルダーに登録されます。鑑賞当日はチケットホルダー内のQRコードを提示する事で、劇場で発券を行わずにスムーズにご入場頂けます。"])),(l()(),t.rb(121,0,null,null,2,"div",[["class","buttons mx-auto"]],null,null,null,null,null)),(l()(),t.rb(122,0,null,null,1,"a",[["class","btn btn-block btn-primary py-3"]],[[8,"href",4]],null,null,null,null)),(l()(),t.Jb(-1,null,["チケットホルダーに戻る"]))],function(l,n){var u=n.component;l(n,45,0,u.data.order.acceptedOffers),l(n,59,0,u.user.isMember()),l(n,110,0,"prev-black","15","15")},function(l,n){var u=n.component;l(n,18,0,u.getReservationNumber()),l(n,26,0,u.getTheaterName(),u.getScreenName()),l(n,32,0,u.getTitle()),l(n,38,0,u.getAppreciationDate(),u.getStartDate(),u.getEndDate()),l(n,51,0,u.data.order.price),l(n,57,0,u.data.order.customer.email),l(n,70,0,u.environment.FRONTEND_ENDPOINT+"/inquiry/login?theater="+(null==u.data.seller.location?null:u.data.seller.location.branchCode)+"&reserve="+u.getReservationNumber()),l(n,98,0,u.environment.FRONTEND_ENDPOINT+"/inquiry/login?theater="+(null==u.data.seller.location?null:u.data.seller.location.branchCode)+"&reserve="+u.getReservationNumber()),l(n,104,0,t.vb(1,"",u.environment.FRONTEND_ENDPOINT,"/method/ticketing")),l(n,108,0,t.vb(1,"",u.environment.PORTAL_SITE_URL,"")),l(n,122,0,t.vb(1,"",u.environment.APP_SITE_URL,"/#/ticket"))})}function Jt(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-purchase-complete",[],null,null,null,Ot,kt)),t.qb(1,114688,null,0,xt,[b.b,g.a,f.b],null,null)],function(l,n){l(n,1,0)},null)}var wt=t.nb("app-purchase-complete",xt,Jt,{},{},[]),Lt=u("dInY"),It=u("+9wW"),Pt=u("ZfVk"),qt=(u("NAjl"),u("RRjC")),Mt=function(){return function(){}}(),_t=u("LPaM"),Nt=u("DSWM"),Tt=u("162K"),St=u("CRQ+");u.d(n,"PurchaseModuleNgFactory",function(){return Ft});var Ft=t.ob(e,[],function(l){return t.Ab([t.Bb(512,t.j,t.Z,[[8,[r.a,k,y.a,Y,ul,fl,Ul,bn,nu,fu,Su,Ru,rt,bt,Ct,wt,Lt.a,Lt.b,It.a,Pt.a]],[3,t.j],t.x]),t.Bb(4608,_.k,_.j,[t.u,[2,_.u]]),t.Bb(4608,D.e,D.e,[]),t.Bb(4608,D.w,D.w,[]),t.Bb(1073742336,_.b,_.b,[]),t.Bb(1073742336,d.o,d.o,[[2,d.t],[2,d.l]]),t.Bb(1073742336,Mt,Mt,[]),t.Bb(1073742336,D.v,D.v,[]),t.Bb(1073742336,D.s,D.s,[]),t.Bb(1073742336,D.h,D.h,[]),t.Bb(1073742336,_t.d,_t.d,[]),t.Bb(1073742336,Nt.a,Nt.a,[]),t.Bb(1073742336,e,e,[]),t.Bb(1024,d.j,function(){return[[{path:"transaction",component:c},{path:"",component:qt.a,children:[{path:"schedule",component:$},{path:"overlap",component:X}]},{path:"",component:pl,canActivate:[Tt.a],children:[{path:"seat",component:Pl},{path:"ticket",component:Kl},{path:"input",component:mn},{path:"confirm",component:ou},{path:"mvtk/input",component:vu},{path:"mvtk/confirm",component:Fu},{path:"mg/input",component:Vu},{path:"mg/confirm",component:it},{path:"point",canActivate:[St.a],component:dt}]},{path:"",component:pl,children:[{path:"complete",component:xt}]}]]},[])])})}}]);