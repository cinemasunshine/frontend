{"version":3,"sources":["webpack:///C:/Users/hataguchi/Desktop/workspace/Cinema Sunshine/frontend/node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./$_lazy_route_resource lazy namespace object","webpack:///./app/app-routing.module.ts","webpack:///./app/app.module.ts","webpack:///./app/components/app/app.component.html","webpack:///./app/components/app/app.component.ts","webpack:///./app/components/pages/auth/auth-signin/auth-signin.component.ts","webpack:///./app/components/pages/base/base.component.html","webpack:///./app/components/pages/base/base.component.ts","webpack:///./app/components/pages/error/error.component.html","webpack:///./app/components/pages/error/error.component.ts","webpack:///./app/components/pages/expired/expired.component.html","webpack:///./app/components/pages/expired/expired.component.ts","webpack:///./app/components/pages/inquiry/inquiry-confirm/inquiry-confirm.component.html","webpack:///./app/components/pages/inquiry/inquiry-confirm/inquiry-confirm.component.ts","webpack:///./app/components/pages/inquiry/inquiry-login/inquiry-login.component.html","webpack:///./app/components/pages/inquiry/inquiry-login/inquiry-login.component.ts","webpack:///./app/components/pages/not-found/not-found.component.html","webpack:///./app/components/pages/not-found/not-found.component.ts","webpack:///./app/components/pages/purchase/purchase-base/purchase-base.component.html","webpack:///./app/components/pages/purchase/purchase-base/purchase-base.component.ts","webpack:///./app/components/pages/purchase/purchase-complete/purchase-complete.component.html","webpack:///./app/components/pages/purchase/purchase-complete/purchase-complete.component.ts","webpack:///./app/components/pages/purchase/purchase-confirm/purchase-confirm.component.html","webpack:///./app/components/pages/purchase/purchase-confirm/purchase-confirm.component.ts","webpack:///./app/components/pages/purchase/purchase-input/purchase-input.component.html","webpack:///./app/components/pages/purchase/purchase-input/purchase-input.component.ts","webpack:///./app/components/pages/purchase/purchase-mvtk-confirm/purchase-mvtk-confirm.component.html","webpack:///./app/components/pages/purchase/purchase-mvtk-confirm/purchase-mvtk-confirm.component.ts","webpack:///./app/components/pages/purchase/purchase-mvtk-input/purchase-mvtk-input.component.html","webpack:///./app/components/pages/purchase/purchase-mvtk-input/purchase-mvtk-input.component.ts","webpack:///./app/components/pages/purchase/purchase-overlap/purchase-overlap.component.html","webpack:///./app/components/pages/purchase/purchase-overlap/purchase-overlap.component.ts","webpack:///./app/components/pages/purchase/purchase-point/purchase-point.component.html","webpack:///./app/components/pages/purchase/purchase-point/purchase-point.component.ts","webpack:///./app/components/pages/purchase/purchase-schedule/purchase-schedule.component.html","webpack:///./app/components/pages/purchase/purchase-schedule/purchase-schedule.component.ts","webpack:///./app/components/pages/purchase/purchase-seat/purchase-seat.component.html","webpack:///./app/components/pages/purchase/purchase-seat/purchase-seat.component.ts","webpack:///./app/components/pages/purchase/purchase-ticket/purchase-ticket.component.html","webpack:///./app/components/pages/purchase/purchase-ticket/purchase-ticket.component.ts","webpack:///./app/components/pages/purchase/purchase-transaction/purchase-transaction.component.html","webpack:///./app/components/pages/purchase/purchase-transaction/purchase-transaction.component.ts","webpack:///./app/components/parts/buttons/buttons.component.html","webpack:///./app/components/parts/buttons/buttons.component.ts","webpack:///./app/components/parts/footer/footer.component.html","webpack:///./app/components/parts/footer/footer.component.ts","webpack:///./app/components/parts/header/header.component.html","webpack:///./app/components/parts/header/header.component.ts","webpack:///./app/components/parts/icon/icon.component.html","webpack:///./app/components/parts/icon/icon.component.ts","webpack:///./app/components/parts/loading/loading.component.html","webpack:///./app/components/parts/loading/loading.component.ts","webpack:///./app/components/parts/modal/modal.component.html","webpack:///./app/components/parts/modal/modal.component.ts","webpack:///./app/components/parts/next-button/next-button.component.html","webpack:///./app/components/parts/next-button/next-button.component.ts","webpack:///./app/components/parts/purchase-film-order-performance/purchase-film-order-performance.component.html","webpack:///./app/components/parts/purchase-film-order-performance/purchase-film-order-performance.component.ts","webpack:///./app/components/parts/purchase-film-order/purchase-film-order.component.html","webpack:///./app/components/parts/purchase-film-order/purchase-film-order.component.ts","webpack:///./app/components/parts/purchase-note/purchase-note.component.html","webpack:///./app/components/parts/purchase-note/purchase-note.component.ts","webpack:///./app/components/parts/purchase-step/purchase-step.component.html","webpack:///./app/components/parts/purchase-step/purchase-step.component.ts","webpack:///./app/components/parts/purchase-term/purchase-term.component.html","webpack:///./app/components/parts/purchase-term/purchase-term.component.ts","webpack:///./app/components/parts/screen/screen.component.html","webpack:///./app/components/parts/screen/screen.component.ts","webpack:///./app/components/parts/seat-info/seat-info.component.html","webpack:///./app/components/parts/seat-info/seat-info.component.ts","webpack:///./app/components/parts/site-seal/site-seal.component.html","webpack:///./app/components/parts/site-seal/site-seal.component.ts","webpack:///./app/components/test/test-screen/test-screen.component.html","webpack:///./app/components/test/test-screen/test-screen.component.ts","webpack:///./app/functions/email.ts","webpack:///./app/functions/index.ts","webpack:///./app/functions/order.ts","webpack:///./app/functions/purchase.ts","webpack:///./app/functions/util.ts","webpack:///./app/pipes/duration/duration.pipe.ts","webpack:///./app/pipes/libphonenumber-format/libphonenumber-format.pipe.ts","webpack:///./app/pipes/time-format/time-format.pipe.ts","webpack:///./app/services/aws-cognito/aws-cognito.service.ts","webpack:///./app/services/call-native/call-native.service.ts","webpack:///./app/services/error/error.service.ts","webpack:///./app/services/index.ts","webpack:///./app/services/member-guard/member-guard.service.ts","webpack:///./app/services/purchase-guard/purchase-guard.service.ts","webpack:///./app/services/purchase/purchase.service.ts","webpack:///./app/services/sasaki/sasaki.service.ts","webpack:///./app/services/storage/storage.service.ts","webpack:///./app/services/test-guard/test-guard.service.ts","webpack:///./app/services/user/user.service.ts","webpack:///./app/services/util/util.service.ts","webpack:///./environments/environment.ts","webpack:///./environments/ticket.ts","webpack:///./main.ts","webpack:///fs (ignored)"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main.js","sourcesContent":["var map = {\n\t\"./af\": \"../../node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"../../node_modules/moment/locale/af.js\",\n\t\"./ar\": \"../../node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"../../node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"../../node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"../../node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"../../node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"../../node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"../../node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"../../node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"../../node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"../../node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"../../node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"../../node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"../../node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"../../node_modules/moment/locale/ar.js\",\n\t\"./az\": \"../../node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"../../node_modules/moment/locale/az.js\",\n\t\"./be\": \"../../node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"../../node_modules/moment/locale/be.js\",\n\t\"./bg\": \"../../node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"../../node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"../../node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"../../node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"../../node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"../../node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"../../node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"../../node_modules/moment/locale/bo.js\",\n\t\"./br\": \"../../node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"../../node_modules/moment/locale/br.js\",\n\t\"./bs\": \"../../node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"../../node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"../../node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"../../node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"../../node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"../../node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"../../node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"../../node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"../../node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"../../node_modules/moment/locale/cy.js\",\n\t\"./da\": \"../../node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"../../node_modules/moment/locale/da.js\",\n\t\"./de\": \"../../node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"../../node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"../../node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"../../node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"../../node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"../../node_modules/moment/locale/de.js\",\n\t\"./dv\": \"../../node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"../../node_modules/moment/locale/dv.js\",\n\t\"./el\": \"../../node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"../../node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"../../node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"../../node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"../../node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"../../node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"../../node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"../../node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"../../node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"../../node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"../../node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"../../node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"../../node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"../../node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"../../node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"../../node_modules/moment/locale/eo.js\",\n\t\"./es\": \"../../node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"../../node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"../../node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"../../node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"../../node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"../../node_modules/moment/locale/es.js\",\n\t\"./et\": \"../../node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"../../node_modules/moment/locale/et.js\",\n\t\"./eu\": \"../../node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"../../node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"../../node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"../../node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"../../node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"../../node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"../../node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"../../node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"../../node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"../../node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"../../node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"../../node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"../../node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"../../node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"../../node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"../../node_modules/moment/locale/fy.js\",\n\t\"./gd\": \"../../node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"../../node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"../../node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"../../node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"../../node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"../../node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"../../node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"../../node_modules/moment/locale/gu.js\",\n\t\"./he\": \"../../node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"../../node_modules/moment/locale/he.js\",\n\t\"./hi\": \"../../node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"../../node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"../../node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"../../node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"../../node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"../../node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"../../node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"../../node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"../../node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"../../node_modules/moment/locale/id.js\",\n\t\"./is\": \"../../node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"../../node_modules/moment/locale/is.js\",\n\t\"./it\": \"../../node_modules/moment/locale/it.js\",\n\t\"./it.js\": \"../../node_modules/moment/locale/it.js\",\n\t\"./ja\": \"../../node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"../../node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"../../node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"../../node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"../../node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"../../node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"../../node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"../../node_modules/moment/locale/kk.js\",\n\t\"./km\": \"../../node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"../../node_modules/moment/locale/km.js\",\n\t\"./kn\": \"../../node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"../../node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"../../node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"../../node_modules/moment/locale/ko.js\",\n\t\"./ky\": \"../../node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"../../node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"../../node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"../../node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"../../node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"../../node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"../../node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"../../node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"../../node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"../../node_modules/moment/locale/lv.js\",\n\t\"./me\": \"../../node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"../../node_modules/moment/locale/me.js\",\n\t\"./mi\": \"../../node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"../../node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"../../node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"../../node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"../../node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"../../node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"../../node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"../../node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"../../node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"../../node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"../../node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"../../node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"../../node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"../../node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"../../node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"../../node_modules/moment/locale/mt.js\",\n\t\"./my\": \"../../node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"../../node_modules/moment/locale/my.js\",\n\t\"./nb\": \"../../node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"../../node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"../../node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"../../node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"../../node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"../../node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"../../node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"../../node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"../../node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"../../node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"../../node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"../../node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"../../node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"../../node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"../../node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"../../node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"../../node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"../../node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"../../node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"../../node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"../../node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"../../node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"../../node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"../../node_modules/moment/locale/sd.js\",\n\t\"./se\": \"../../node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"../../node_modules/moment/locale/se.js\",\n\t\"./si\": \"../../node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"../../node_modules/moment/locale/si.js\",\n\t\"./sk\": \"../../node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"../../node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"../../node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"../../node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"../../node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"../../node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"../../node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"../../node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"../../node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"../../node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"../../node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"../../node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"../../node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"../../node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"../../node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"../../node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"../../node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"../../node_modules/moment/locale/ta.js\",\n\t\"./te\": \"../../node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"../../node_modules/moment/locale/te.js\",\n\t\"./tet\": \"../../node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"../../node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"../../node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"../../node_modules/moment/locale/tg.js\",\n\t\"./th\": \"../../node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"../../node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"../../node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"../../node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"../../node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"../../node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"../../node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"../../node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"../../node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"../../node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"../../node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"../../node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"../../node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"../../node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"../../node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"../../node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"../../node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"../../node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"../../node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"../../node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"../../node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"../../node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"../../node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"../../node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"../../node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"../../node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"../../node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"../../node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"../../node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"../../node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"../../node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"../../node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"../../node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"../../node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"../../node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"../../node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"../../node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthSigninComponent } from './components/pages/auth/auth-signin/auth-signin.component';\nimport { BaseComponent } from './components/pages/base/base.component';\nimport { ErrorComponent } from './components/pages/error/error.component';\nimport { ExpiredComponent } from './components/pages/expired/expired.component';\nimport { InquiryConfirmComponent } from './components/pages/inquiry/inquiry-confirm/inquiry-confirm.component';\nimport { InquiryLoginComponent } from './components/pages/inquiry/inquiry-login/inquiry-login.component';\nimport { NotFoundComponent } from './components/pages/not-found/not-found.component';\nimport { PurchaseBaseComponent } from './components/pages/purchase/purchase-base/purchase-base.component';\nimport { PurchaseCompleteComponent } from './components/pages/purchase/purchase-complete/purchase-complete.component';\nimport { PurchaseConfirmComponent } from './components/pages/purchase/purchase-confirm/purchase-confirm.component';\nimport { PurchaseInputComponent } from './components/pages/purchase/purchase-input/purchase-input.component';\nimport { PurchaseMvtkConfirmComponent } from './components/pages/purchase/purchase-mvtk-confirm/purchase-mvtk-confirm.component';\nimport { PurchaseMvtkInputComponent } from './components/pages/purchase/purchase-mvtk-input/purchase-mvtk-input.component';\nimport { PurchaseOverlapComponent } from './components/pages/purchase/purchase-overlap/purchase-overlap.component';\nimport { PurchasePointComponent } from './components/pages/purchase/purchase-point/purchase-point.component';\nimport { PurchaseScheduleComponent } from './components/pages/purchase/purchase-schedule/purchase-schedule.component';\nimport { PurchaseSeatComponent } from './components/pages/purchase/purchase-seat/purchase-seat.component';\nimport { PurchaseTicketComponent } from './components/pages/purchase/purchase-ticket/purchase-ticket.component';\nimport { PurchaseTransactionComponent } from './components/pages/purchase/purchase-transaction/purchase-transaction.component';\nimport { TestScreenComponent } from './components/test/test-screen/test-screen.component';\nimport { MemberGuardService } from './services/member-guard/member-guard.service';\nimport { PurchaseGuardService } from './services/purchase-guard/purchase-guard.service';\nimport { TestGuardService } from './services/test-guard/test-guard.service';\n\nconst routes: Routes = [\n    { path: '', redirectTo: 'purchase/transaction', pathMatch: 'full' },\n    { path: 'purchase/transaction', component: PurchaseTransactionComponent },\n    { path: 'auth/signin', component: AuthSigninComponent },\n    {\n        path: '',\n        component: BaseComponent,\n        children: [\n            { path: 'purchase/schedule', component: PurchaseScheduleComponent },\n            { path: 'purchase/overlap', component: PurchaseOverlapComponent },\n            { path: 'inquiry/login/:theater', component: InquiryLoginComponent },\n            { path: 'inquiry/confirm', component: InquiryConfirmComponent }\n        ]\n    },\n    {\n        path: 'purchase',\n        component: PurchaseBaseComponent,\n        canActivate: [PurchaseGuardService],\n        children: [\n            { path: 'seat', component: PurchaseSeatComponent },\n            { path: 'ticket', component: PurchaseTicketComponent },\n            { path: 'input', component: PurchaseInputComponent },\n            { path: 'confirm', component: PurchaseConfirmComponent },\n            { path: 'mvtk/input', component: PurchaseMvtkInputComponent },\n            { path: 'mvtk/confirm', component: PurchaseMvtkConfirmComponent },\n            { path: 'point', canActivate: [MemberGuardService], component: PurchasePointComponent }\n        ]\n    },\n    {\n        path: 'purchase',\n        component: PurchaseBaseComponent,\n        children: [\n            { path: 'complete', component: PurchaseCompleteComponent }\n        ]\n    },\n    {\n        path: 'test',\n        canActivate: [TestGuardService],\n        children: [\n            { path: ':theaterCode/:screenCode/screen', component: TestScreenComponent }\n        ]\n    },\n    {\n        path: '',\n        component: BaseComponent,\n        children: [\n            { path: 'error', component: ErrorComponent },\n            { path: 'expired', component: ExpiredComponent },\n            { path: '**', component: NotFoundComponent }\n        ]\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes, { useHash: true, enableTracing: true })],\n    exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './components/app/app.component';\nimport { AuthSigninComponent } from './components/pages/auth/auth-signin/auth-signin.component';\nimport { BaseComponent } from './components/pages/base/base.component';\nimport { ErrorComponent } from './components/pages/error/error.component';\nimport { ExpiredComponent } from './components/pages/expired/expired.component';\nimport { InquiryBaseComponent } from './components/pages/inquiry/inquiry-base/inquiry-base.component';\nimport { InquiryConfirmComponent } from './components/pages/inquiry/inquiry-confirm/inquiry-confirm.component';\nimport { InquiryLoginComponent } from './components/pages/inquiry/inquiry-login/inquiry-login.component';\nimport { NotFoundComponent } from './components/pages/not-found/not-found.component';\nimport { PurchaseBaseComponent } from './components/pages/purchase/purchase-base/purchase-base.component';\nimport { PurchaseCompleteComponent } from './components/pages/purchase/purchase-complete/purchase-complete.component';\nimport { PurchaseConfirmComponent } from './components/pages/purchase/purchase-confirm/purchase-confirm.component';\nimport { PurchaseInputComponent } from './components/pages/purchase/purchase-input/purchase-input.component';\nimport { PurchaseMvtkConfirmComponent } from './components/pages/purchase/purchase-mvtk-confirm/purchase-mvtk-confirm.component';\nimport { PurchaseMvtkInputComponent } from './components/pages/purchase/purchase-mvtk-input/purchase-mvtk-input.component';\nimport { PurchaseOverlapComponent } from './components/pages/purchase/purchase-overlap/purchase-overlap.component';\nimport { PurchasePointComponent } from './components/pages/purchase/purchase-point/purchase-point.component';\nimport { PurchaseScheduleComponent } from './components/pages/purchase/purchase-schedule/purchase-schedule.component';\nimport { PurchaseSeatComponent } from './components/pages/purchase/purchase-seat/purchase-seat.component';\nimport { PurchaseTicketComponent } from './components/pages/purchase/purchase-ticket/purchase-ticket.component';\nimport { PurchaseTransactionComponent } from './components/pages/purchase/purchase-transaction/purchase-transaction.component';\nimport { ButtonsComponent } from './components/parts/buttons/buttons.component';\nimport { FooterComponent } from './components/parts/footer/footer.component';\nimport { HeaderComponent } from './components/parts/header/header.component';\nimport { IconComponent } from './components/parts/icon/icon.component';\nimport { LoadingComponent } from './components/parts/loading/loading.component';\nimport { ModalComponent } from './components/parts/modal/modal.component';\nimport { NextButtonComponent } from './components/parts/next-button/next-button.component';\nimport {\n    PurchaseFilmOrderPerformanceComponent\n} from './components/parts/purchase-film-order-performance/purchase-film-order-performance.component';\nimport { PurchaseFilmOrderComponent } from './components/parts/purchase-film-order/purchase-film-order.component';\nimport { PurchaseNoteComponent } from './components/parts/purchase-note/purchase-note.component';\nimport { PurchaseStepComponent } from './components/parts/purchase-step/purchase-step.component';\nimport { PurchaseTermComponent } from './components/parts/purchase-term/purchase-term.component';\nimport { ScreenComponent } from './components/parts/screen/screen.component';\nimport { SeatInfoComponent } from './components/parts/seat-info/seat-info.component';\nimport { SiteSealComponent } from './components/parts/site-seal/site-seal.component';\nimport { TestScreenComponent } from './components/test/test-screen/test-screen.component';\nimport { DurationPipe } from './pipes/duration/duration.pipe';\nimport { LibphonenumberFormatPipe } from './pipes/libphonenumber-format/libphonenumber-format.pipe';\nimport { TimeFormatPipe } from './pipes/time-format/time-format.pipe';\nimport {\n    AwsCognitoService,\n    CallNativeService,\n    ErrorService, MemberGuardService,\n    PurchaseGuardService,\n    PurchaseService,\n    SasakiService,\n    StorageService,\n    TestGuardService,\n    UserService,\n    UtilService\n} from './services';\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        PurchaseBaseComponent,\n        PurchaseCompleteComponent,\n        PurchaseScheduleComponent,\n        PurchaseSeatComponent,\n        PurchaseTicketComponent,\n        PurchaseInputComponent,\n        PurchaseConfirmComponent,\n        PurchaseMvtkInputComponent,\n        PurchaseMvtkConfirmComponent,\n        InquiryBaseComponent,\n        InquiryLoginComponent,\n        InquiryConfirmComponent,\n        ScreenComponent,\n        HeaderComponent,\n        FooterComponent,\n        PurchaseStepComponent,\n        LoadingComponent,\n        SiteSealComponent,\n        ModalComponent,\n        ButtonsComponent,\n        PurchaseTransactionComponent,\n        ErrorComponent,\n        PurchaseFilmOrderComponent,\n        PurchaseFilmOrderPerformanceComponent,\n        TimeFormatPipe,\n        DurationPipe,\n        SeatInfoComponent,\n        IconComponent,\n        LibphonenumberFormatPipe,\n        PurchaseOverlapComponent,\n        BaseComponent,\n        NextButtonComponent,\n        NotFoundComponent,\n        ExpiredComponent,\n        PurchaseTermComponent,\n        PurchaseNoteComponent,\n        PurchasePointComponent,\n        AuthSigninComponent,\n        TestScreenComponent\n    ],\n    imports: [\n        BrowserModule,\n        AppRoutingModule,\n        HttpClientModule,\n        FormsModule,\n        ReactiveFormsModule\n    ],\n    providers: [\n        PurchaseGuardService,\n        ErrorService,\n        StorageService,\n        PurchaseService,\n        AwsCognitoService,\n        CallNativeService,\n        SasakiService,\n        UserService,\n        TestGuardService,\n        UtilService,\n        MemberGuardService\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","<div class=\"wrapper\" [class.ticket-app]=\"user.isNative()\" [class.member]=\"user.isMember()\">\n    <router-outlet></router-outlet>\n</div>","import { Component } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { environment } from '../../../environments/environment';\nimport { UserService } from '../../services/user/user.service';\n\ndeclare const ga: Function;\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n    constructor(\n        public user: UserService,\n        private router: Router\n    ) {\n        this.router.events.subscribe(event => {\n            if (event instanceof NavigationEnd) {\n                // Googleアナリティクス pageview\n                try {\n                    ga('create', environment.ANALYTICS_ID, 'auto');\n                    ga('set', 'page', event.urlAfterRedirects);\n                    ga('send', 'pageview');\n                } catch (err) {\n                    console.error(err);\n                }\n            }\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ErrorService, UserService } from '../../../../services';\n\n@Component({\n    selector: 'app-auth-signin',\n    templateUrl: './auth-signin.component.html',\n    styleUrls: ['./auth-signin.component.scss']\n})\nexport class AuthSigninComponent implements OnInit {\n\n    constructor(\n        private router: Router,\n        private user: UserService,\n        private error: ErrorService\n    ) { }\n\n    public async ngOnInit() {\n        try {\n            await this.user.initMember();\n            this.user.save();\n            this.router.navigate(['/']);\n        } catch (err) {\n            console.error(err);\n            this.error.redirect(err);\n        }\n    }\n}\n","<app-header></app-header>\n<router-outlet></router-outlet>\n<app-footer></app-footer>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-base',\n    templateUrl: './base.component.html',\n    styleUrls: ['./base.component.scss']\n})\nexport class BaseComponent implements OnInit {\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">エラーが発生しました</h1>\n    <p class=\"read\">お手続きの途中でエラーが発生いたしました。\n        <br>お手数をおかけいたしますが、もう一度最初から操作をお願いいたします。</p>\n    <div class=\"button-area\">\n        <div class=\"prev-link ticket-app-hide\">\n            <a href=\"{{ environment.PORTAL_SITE_URL }}\">\n                <app-icon iconName=\"prev-black\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n        </div>\n        <div class=\"prev-link ticket-app-show\">\n            <a href=\"{{ environment.APP_SITE_URL }}/#/purchase\">\n                <app-icon iconName=\"prev-black\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n        </div>\n    </div>\n    <code *ngIf=\"message && !environment.production\">{{ message }}</code>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { environment } from '../../../../environments/environment';\nimport { ErrorService, PurchaseService } from '../../../services';\n\n@Component({\n    selector: 'app-error',\n    templateUrl: './error.component.html',\n    styleUrls: ['./error.component.scss']\n})\nexport class ErrorComponent implements OnInit {\n    public environment = environment;\n    public message: string;\n    constructor(\n        public purchase: PurchaseService,\n        private error: ErrorService\n    ) { }\n\n    public ngOnInit() {\n        this.purchase.reset();\n        this.message = (this.error.errorDetail !== undefined) ? this.error.errorDetail.message : '';\n    }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">エラーが発生しました</h1>\n    <p class=\"read\">お手続きの有効期限がきれました。\n        <br>お手数をおかけいたしますが、もう一度最初から操作をお願いいたします。</p>\n    <div class=\"button-area\">\n        <div class=\"prev-link\">\n            <a class=\"ticket-app-hide\" href=\"{{ environment.PORTAL_SITE_URL }}\">\n                <app-icon iconName=\"prev-black\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n            <a class=\"ticket-app-show\" href=\"{{ environment.APP_SITE_URL }}/#/purchase\">\n                <app-icon iconName=\"prev-black\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { environment } from '../../../../environments/environment';\nimport { PurchaseService } from '../../../services';\n\n@Component({\n    selector: 'app-expired',\n    templateUrl: './expired.component.html',\n    styleUrls: ['./expired.component.scss']\n})\nexport class ExpiredComponent implements OnInit {\n    public environment = environment;\n    constructor(public purchase: PurchaseService) { }\n\n    public ngOnInit() {\n        this.purchase.reset();\n    }\n\n}\n","<p>\n  inquiry-confirm works!\n</p>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-inquiry-confirm',\n  templateUrl: './inquiry-confirm.component.html',\n  styleUrls: ['./inquiry-confirm.component.scss']\n})\nexport class InquiryConfirmComponent implements OnInit {\n\n  constructor() { }\n\n  public ngOnInit() {\n  }\n\n}\n","<p>\n  inquiry-login works!\n</p>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-inquiry-login',\n  templateUrl: './inquiry-login.component.html',\n  styleUrls: ['./inquiry-login.component.scss']\n})\nexport class InquiryLoginComponent implements OnInit {\n\n  constructor() { }\n\n  public ngOnInit() {\n  }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">エラーが発生しました</h1>\n    <p class=\"read\">お手続きの途中でエラーが発生いたしました。\n        <br>お手数をおかけいたしますが、もう一度最初から操作をお願いいたします。</p>\n    <div class=\"button-area\">\n        <div class=\"prev-link\">\n            <a href=\"{{ environment.PORTAL_SITE_URL }}\">\n                <app-icon iconName=\"prev-black\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { environment } from '../../../../environments/environment';\n@Component({\n    selector: 'app-not-found',\n    templateUrl: './not-found.component.html',\n    styleUrls: ['./not-found.component.scss']\n})\nexport class NotFoundComponent implements OnInit {\n    public environment = environment;\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n}\n","<app-header>\n    <app-purchase-step></app-purchase-step>\n</app-header>\n<router-outlet></router-outlet>\n<app-footer></app-footer>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-purchase-base',\n    templateUrl: './purchase-base.component.html',\n    styleUrls: ['./purchase-base.component.scss']\n})\nexport class PurchaseBaseComponent implements OnInit {\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">購入完了</h1>\n    <p class=\"read\">ご購入ありがとうございました。\n        <br>購入者情報入力画面で入力していただいたメールアドレス宛に購入完了メールを送信しました。\n        <br>ご入場方法に関しましてはページ下部をご確認ください。\n        <br>※購入完了メールの送信に時間がかかる事がありますのでご注意ください。</p>\n\n    <ul class=\"box radius bg-light-gray info mb-large form-layout\">\n        <li class=\"purchase-number\">\n            <dl>\n                <dt>予約番号</dt>\n                <dd>\n                    <strong class=\"red-text large-x-text\">{{ data.order.confirmationNumber }}</strong>\n                    <p class=\"small-x-text\">※チケットの発行等に必要な番号となりますので必ず忘れないようにしてください。</p>\n                </dd>\n            </dl>\n        </li>\n        <li>\n            <dl>\n                <dt>劇場 / スクリーン</dt>\n                <dd>{{ getTheaterName() }} / {{ getScreenName() }}</dd>\n            </dl>\n        </li>\n        <li>\n            <dl>\n                <dt>作品名</dt>\n                <dd>{{ getTitle() }}</dd>\n            </dl>\n        </li>\n        <li>\n            <dl>\n                <dt>鑑賞日時</dt>\n                <dd>\n                    {{ getAppreciationDate() }} {{ getStartDate() }} - {{ getEndDate() }}\n                </dd>\n            </dl>\n        </li>\n        <li>\n            <dl>\n                <dt>座席</dt>\n                <dd>\n                    <p *ngFor=\"let offer of data.order.acceptedOffers\">\n                        {{ offer.itemOffered.reservedTicket.coaTicketInfo.seatNum }} {{ offer.itemOffered.reservedTicket.coaTicketInfo.ticketName\n                        }} ￥{{ getOrderTicketPrice(offer) }}\n                    </p>\n                </dd>\n            </dl>\n        </li>\n        <li>\n            <dl>\n                <dt>ご利用金額</dt>\n                <dd>￥{{ data.order.price }}</dd>\n            </dl>\n        </li>\n        <li>\n            <dl>\n                <dt>メールアドレス</dt>\n                <dd>{{ data.order.customer.email }}</dd>\n            </dl>\n        </li>\n        <li *ngIf=\"user.isMember()\">\n            <dl>\n                <dt>獲得ポイント</dt>\n                <dd>\n                    <strong class=\"red-text\">{{ data.incentive }}ポイント</strong>\n                </dd>\n            </dl>\n        </li>\n    </ul>\n\n    <div class=\"ticket-app-hide\">\n        <div class=\"mb-x-large\">\n            <p class=\"mb-middle small-x-text\">\n                <strong>&lt;購入完了メールが届かない場合のご確認事項&gt;</strong>\n                <br>購入完了後、購入完了メールが届かない場合は下記2点をご確認ください。\n                <br>また、購入完了メールは自動送信のため再送信は致しかねます。\n                <br>購入できているかのご確認は「予約番号」をお控えのうえ\n                <a class=\"inquiry-login-link\"\n                    [href]=\"environment.FRONTEND_ENDPOINT + '/inquiry/login?theater=' + data.seller.location?.branchCode + '&reserve=' + data.order.confirmationNumber\"\n                    target=\"_blank\">チケット照会ページ</a>よりご確認ください。\n                <br>・ご入力いただいたメールアドレスに不備があった場合やメールの着信を拒否されている場合は購入完了メールが受け取れない場合があります。\n                <br>・プロバイダのメール設定、携帯キャリア会社のメール設定のフィルタリング機能を有効にしている方は「削除フォルダ」または「迷惑メールフォルダ」をご確認ください。</p>\n            <div class=\"button dark-blue-button print-button center-button not-print\">\n                <a class=\"icon-print-white\" (click)=\"print()\">印刷する</a>\n            </div>\n        </div>\n\n        <div class=\"not-print\">\n            <h2 class=\"page-ttl\">入場方法</h2>\n\n            <ul class=\"entry-method\">\n                <li>\n                    <dl class=\"box radius bg-light-gray\">\n                        <dt class=\"mb-x-small text-center\">\n                            <strong>QRコードでスマート入場</strong>\n                        </dt>\n                        <dd>\n                            <p class=\"mb-small\">当日チケット発券不要！\n                                <br>スマートフォンで入場用QRコードを提示するだけでスムーズに入場！\n                                <br>入場用QRコードの確認は下記「チケット情報確認」ボタンを押してください。</p>\n                            <div class=\"image mb-x-small bg-white\">\n                                <img src=\"/assets/images/purchase/complete/qr.svg\" alt=\"\">\n                            </div>\n                            <div class=\"button blue-button inquiry-button mb-small center-button\">\n                                <a class=\"icon-new-tab-white\"\n                                    [href]=\"environment.FRONTEND_ENDPOINT + '/inquiry/login?theater=' + data.seller.location?.branchCode + '&reserve=' + data.order.confirmationNumber\"\n                                    target=\"_blank\">チケット情報確認</a>\n                            </div>\n                            <p>スマートフォンをお持ちでない方は当日チケット発券/入場も可能です。\n                                <br>発券方法は\n                                <a class=\"icon-new-tab-blue\" href=\"{{ environment.FRONTEND_ENDPOINT }}/method/ticketing\"\n                                    target=\"_blank\">こちら</a>\n                            </p>\n                        </dd>\n                    </dl>\n                </li>\n            </ul>\n\n            <div class=\"button-area\">\n                <div class=\"prev-link\">\n                    <a href=\"{{ environment.PORTAL_SITE_URL }}\">\n                        <app-icon iconName=\"prev-black\" width=\"15\" height=\"15\"></app-icon>戻る\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"ticket-app-show\">\n        <dl class=\"box radius bg-light-gray mb-middle\">\n            <dt class=\"mb-small text-center\">\n                <strong>チケットホルダーでスマート入場</strong>\n            </dt>\n            <dd>\n                <div class=\"image mb-x-small bg-white\">\n                    <img src=\"/assets/images/purchase/complete/qr.svg\" alt=\"\">\n                </div>\n                <p>購入したチケットはチケットホルダーに登録されます。鑑賞当日はチケットホルダー内のQRコードを提示する事で、劇場で発券を行わずにスムーズにご入場頂けます。</p>\n            </dd>\n        </dl>\n\n        <div class=\"button blue-button center-button\">\n            <a href=\"{{ environment.APP_SITE_URL }}/#/ticket\">チケットホルダーに戻る</a>\n        </div>\n    </div>\n\n</div>","import { Component, OnInit } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as moment from 'moment';\nimport { environment } from '../../../../../environments/environment';\nimport { getOrderTicketPrice } from '../../../../functions';\nimport { TimeFormatPipe } from '../../../../pipes/time-format/time-format.pipe';\nimport { ErrorService, SaveType, StorageService, UserService } from '../../../../services';\n\n@Component({\n    selector: 'app-purchase-complete',\n    templateUrl: './purchase-complete.component.html',\n    styleUrls: ['./purchase-complete.component.scss']\n})\nexport class PurchaseCompleteComponent implements OnInit {\n    public data: {\n        order: factory.order.IOrder;\n        transaction: factory.transaction.placeOrder.ITransaction;\n        seller: factory.seller.IOrganization<factory.seller.IAttributes<factory.organizationType>>;\n    };\n    public environment = environment;\n    public getOrderTicketPrice = getOrderTicketPrice;\n\n    constructor(\n        private storage: StorageService,\n        private error: ErrorService,\n        public user: UserService\n    ) { }\n\n    public ngOnInit() {\n        window.scrollTo(0, 0);\n        this.data = this.storage.load('complete', SaveType.Session);\n        if (this.data === null) {\n            this.error.redirect(new Error('complete data is null'));\n        }\n    }\n\n    /**\n     * 印刷\n     * @method print\n     */\n    public print() {\n        print();\n    }\n\n    /**\n     * 劇場名取得\n     * @method getTheaterName\n     * @returns {string}\n     */\n    public getTheaterName() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.chevre.reservationType.EventReservation) {\n            return '';\n        }\n\n        return itemOffered.reservationFor.superEvent.location.name.ja;\n    }\n\n    /**\n     * スクリーン名取得\n     * @method getScreenName\n     * @returns {string}\n     */\n    public getScreenName() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.chevre.reservationType.EventReservation) {\n            return '';\n        }\n\n        return itemOffered.reservationFor.location.name.ja;\n    }\n\n    /**\n     * 作品名取得\n     * @method getTitle\n     * @returns {string}\n     */\n    public getTitle() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.chevre.reservationType.EventReservation) {\n            return '';\n        }\n\n        return itemOffered.reservationFor.name.ja;\n    }\n\n    /**\n     * 鑑賞日取得\n     * @method getAppreciationDate\n     * @returns {string}\n     */\n    public getAppreciationDate() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.chevre.reservationType.EventReservation) {\n            return '';\n        }\n        moment.locale('ja');\n\n        return moment(itemOffered.reservationFor.startDate).format('YYYY年MM月DD日(ddd)');\n    }\n\n    /**\n     * 上映開始時間取得\n     * @method getStartDate\n     * @returns {string}\n     */\n    public getStartDate() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.chevre.reservationType.EventReservation\n            || itemOffered.reservationFor.coaInfo === undefined) {\n            return '';\n        }\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            itemOffered.reservationFor.startDate,\n            itemOffered.reservationFor.coaInfo.dateJouei\n        );\n    }\n\n    /**\n     * 上映終了取得\n     * @method getEndDate\n     * @returns {string}\n     */\n    public getEndDate() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.chevre.reservationType.EventReservation\n            || itemOffered.reservationFor.coaInfo === undefined) {\n            return '';\n        }\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            itemOffered.reservationFor.endDate,\n            itemOffered.reservationFor.coaInfo.dateJouei\n        );\n    }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">購入内容確認</h1>\n    <p class=\"read\">\n        <strong class=\"large-text red-text\">まだ購入は完了していません。</strong>\n        <br>ご購入内容をご確認頂き「購入完了」ボタンを押して購入を確定してください。</p>\n\n    <div class=\"form-layout\">\n        <h2 class=\"section-ttl\">\n            作品情報\n            <div class=\"right ticket-app-hide\">\n                <div class=\"button light-gray-button change-button\">\n                    <a href=\"{{ purchase.data.seller?.url }}\">変更</a>\n                </div>\n            </div>\n            <div class=\"right ticket-app-show\">\n                <div class=\"button light-gray-button change-button\">\n                    <a href=\"{{ environment.APP_SITE_URL }}/#/purchase\">変更</a>\n                </div>\n            </div>\n        </h2>\n        <ul class=\"box radius bg-light-gray mb-large\">\n            <li>\n                <dl>\n                    <dt>劇場 / スクリーン</dt>\n                    <dd>{{ purchase.getTheaterName() }} / {{ purchase.getScreenName() }}</dd>\n                </dl>\n            </li>\n            <li>\n                <dl>\n                    <dt>作品名</dt>\n                    <dd>{{ purchase.getTitle() }}</dd>\n                </dl>\n            </li>\n            <li>\n                <dl>\n                    <dt>鑑賞日時</dt>\n                    <dd>\n                        <div class=\"mb-xx-small\">\n                            <strong class=\"red-text\">\n                                {{ purchase.getAppreciationDate() }} {{ purchase.getStartDate() }} - {{ purchase.getEndDate() }}\n                            </strong>\n                        </div>\n                        <p class=\"small-x-text red-text\">※鑑賞日時を必ずご確認ください。</p>\n                    </dd>\n                </dl>\n            </li>\n            <li>\n                <dl>\n                    <dt>座席</dt>\n                    <dd>\n                        <p *ngFor=\"let offer of purchase.data.seatReservationAuthorization?.object.acceptedOffer\">\n                            {{ offer.seatNumber }} {{ offer.ticketInfo.ticketName }} ￥{{ getTicketPrice(offer) }}\n                        </p>\n                    </dd>\n                </dl>\n            </li>\n            <!-- <li *ngIf=\"user.isMember()\">\n                <dl>\n                    <dt>獲得ポイント</dt>\n                    <dd>\n                        <strong class=\"red-text\">0ポイント</strong>\n                    </dd>\n                </dl>\n            </li> -->\n        </ul>\n\n        <h2 class=\"section-ttl\">\n            購入情報\n            <div class=\"right\">\n                <div class=\"button light-gray-button change-button\">\n                    <a routerLink=\"/purchase/input\">変更</a>\n                </div>\n            </div>\n        </h2>\n        <ul class=\"box radius bg-light-gray mb-large\">\n            <li>\n                <dl>\n                    <dt>お名前（カタカナ）</dt>\n                    <dd>{{ purchase.getCustomerName() }}</dd>\n                </dl>\n            </li>\n            <li>\n                <dl>\n                    <dt>メールアドレス</dt>\n                    <dd>{{ purchase.data.customerContact?.email }}</dd>\n                </dl>\n            </li>\n            <li>\n                <dl>\n                    <dt>電話番号</dt>\n                    <dd>{{ (purchase.data.customerContact?.telephone | libphonenumberFormat) }}</dd>\n                </dl>\n            </li>\n\n            <li *ngIf=\"purchase.getTotalPrice() > 0\">\n                <dl>\n                    <dt>カード番号</dt>\n                    <dd *ngIf=\"purchase.data.gmoTokenObject !== undefined\">{{ purchase.data.gmoTokenObject?.maskedCardNo }}</dd>\n                    <dd *ngIf=\"purchase.data.gmoTokenObject === undefined && user.data.creditCards !== undefined\">{{ user.data.creditCards[0].cardNo }}</dd>\n                </dl>\n            </li>\n\n        </ul>\n\n        <h2 class=\"section-ttl\">注意事項(重要)</h2>\n        <p class=\"mb-small\">下記項目をご確認いただきチェックを入れて「購入完了」ボタンを押してください。</p>\n        \n        <app-purchase-note class=\"mb-middle\" [theaterCode]=\"purchase.data.screeningEvent?.superEvent.location.branchCode.slice(-2)\"></app-purchase-note>\n\n        <form [formGroup]=\"confirmForm\" (ngSubmit)=\"onSubmit()\">\n            <div class=\"mb-x-large text-center\">\n                <input type=\"checkbox\" formControlName=\"notes\" id=\"notes\">\n                <label for=\"notes\">\n                    <strong>上記内容に同意する</strong>\n                </label>\n                <div *ngIf=\"confirmForm.controls['notes'].invalid && (confirmForm.controls['notes'].dirty || confirmForm.controls['notes'].touched)\"\n                    class=\"validation-text\">利用規約に同意してください</div>\n            </div>\n            <app-buttons nextLabel=\"購入完了\" prevLabel=\"戻る\" prevLink=\"/purchase/input\"></app-buttons>\n        </form>\n    </div>\n    <app-site-seal></app-site-seal>\n</div>\n\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { environment } from '../../../../../environments/environment';\nimport { getTicketPrice } from '../../../../functions';\nimport { ErrorService, PurchaseService, UserService } from '../../../../services';\n\n@Component({\n    selector: 'app-purchase-confirm',\n    templateUrl: './purchase-confirm.component.html',\n    styleUrls: ['./purchase-confirm.component.scss']\n})\nexport class PurchaseConfirmComponent implements OnInit {\n    public confirmForm: FormGroup;\n    public isLoading: boolean;\n    public disable: boolean;\n    public environment = environment;\n    public getTicketPrice = getTicketPrice;\n\n    constructor(\n        public purchase: PurchaseService,\n        public user: UserService,\n        private formBuilder: FormBuilder,\n        private router: Router,\n        private error: ErrorService\n    ) { }\n\n    public ngOnInit() {\n        window.scrollTo(0, 0);\n        this.isLoading = false;\n        this.confirmForm = this.formBuilder.group({\n            notes: [false, [Validators.requiredTrue]]\n        });\n        this.disable = false;\n    }\n\n    public async onSubmit() {\n        if (this.disable) {\n            return;\n        }\n        if (this.confirmForm.invalid) {\n            this.confirmForm.controls.notes.markAsDirty();\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        if (this.purchase.getTotalPrice() > 0) {\n            try {\n                // クレジットカード処理\n                await this.purchase.creditCardPaymentProcess();\n            } catch (err) {\n                this.purchase.data.isCreditCardError = true;\n                this.router.navigate(['/purchase/input']);\n                return;\n            }\n        }\n        try {\n            if (this.user.isMember() && this.purchase.isReservePoint()) {\n                // 会員かつポイント使用\n                await this.purchase.pointPaymentProcess();\n            }\n            if (this.user.isMember() && this.purchase.isIncentive()) {\n                // 会員かつポイント未使用\n                await this.purchase.incentiveProcess();\n            }\n            await this.purchase.purchaseRegistrationProcess();\n            this.router.navigate(['/purchase/complete']);\n        } catch (err) {\n            this.error.redirect(err);\n        }\n    }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">購入者情報入力</h1>\n    <p class=\"read\">必須項目を入力し「次へ」ボタンを押してください。</p>\n\n    <form [formGroup]=\"inputForm\" (ngSubmit)=\"onSubmit()\">\n        <h2 class=\"section-ttl\">お名前（カタカナ）\n            <span class=\"text-icon-red small-x-text\">入力必須</span>\n        </h2>\n        <div class=\"box radius bg-light-gray mb-large\">\n            <div class=\"column-02\">\n                <dl>\n                    <dt>セイ</dt>\n                    <dd>\n                        <input [class.validation]=\"inputForm.controls['familyName'].invalid && inputForm.controls['familyName'].touched\" type=\"text\"\n                            formControlName=\"familyName\" autocomplete=\"family-name\" placeholder=\"(例)シネマ\">\n                        <div *ngIf=\"inputForm.controls['familyName'].invalid && inputForm.controls['familyName'].touched\">\n                            <div *ngIf=\"inputForm.controls['familyName'].errors.required\" class=\"validation-text\">セイが未入力です</div>\n                            <div *ngIf=\"inputForm.controls['familyName'].errors.maxlength\" class=\"validation-text\">セイは{{ inputForm.controls['familyName'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                            <div *ngIf=\"inputForm.controls['familyName'].errors.pattern\" class=\"validation-text\">セイは全角カタカナで入力してください</div>\n                        </div>\n                    </dd>\n                </dl>\n                <dl>\n                    <dt>メイ</dt>\n                    <dd>\n                        <input [class.validation]=\"inputForm.controls['givenName'].invalid && inputForm.controls['givenName'].touched\" type=\"text\"\n                            formControlName=\"givenName\" autocomplete=\"given-name\" placeholder=\"(例)タロウ\">\n                        <div *ngIf=\"inputForm.controls['givenName'].invalid && inputForm.controls['givenName'].touched\">\n                            <div *ngIf=\"inputForm.controls['givenName'].errors.required\" class=\"validation-text\">メイが未入力です</div>\n                            <div *ngIf=\"inputForm.controls['givenName'].errors.maxlength\" class=\"validation-text\">メイは{{ inputForm.controls['givenName'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                            <div *ngIf=\"inputForm.controls['givenName'].errors.pattern\" class=\"validation-text\">メイは全角カタカナで入力してください</div>\n                        </div>\n                    </dd>\n                </dl>\n            </div>\n        </div>\n        <h2 class=\"section-ttl\">メールアドレス\n            <span class=\"text-icon-red small-x-text\">入力必須</span>\n        </h2>\n        <div class=\"box radius bg-light-gray mb-large\">\n            <dl>\n                <dd>\n                    <input [class.validation]=\"inputForm.controls['email'].invalid && inputForm.controls['email'].touched\" type=\"email\" formControlName=\"email\"\n                        autocomplete=\"email\" placeholder=\"(例)cinema@cinemasunshine.co.jp\">\n                    <div *ngIf=\"inputForm.controls['email'].invalid && inputForm.controls['email'].touched\">\n                        <div *ngIf=\"inputForm.controls['email'].errors.required\" class=\"validation-text\">メールアドレスが未入力です</div>\n                        <div *ngIf=\"inputForm.controls['email'].errors.maxlength\" class=\"validation-text\">メールアドレスは{{ inputForm.controls['email'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['email'].errors.email\" class=\"validation-text\">メールアドレスが正しくありません</div>\n                    </div>\n                </dd>\n            </dl>\n            <dl>\n                <dt>メールアドレス確認</dt>\n                <dd>\n                    <input [class.validation]=\"inputForm.controls['emailConfirm'].invalid && inputForm.controls['emailConfirm'].touched\" type=\"email\"\n                        formControlName=\"emailConfirm\" placeholder=\"(例)cinema@cinemasunshine.co.jp\">\n                    <div *ngIf=\"inputForm.controls['emailConfirm'].invalid && inputForm.controls['emailConfirm'].touched\">\n                        <div *ngIf=\"inputForm.controls['emailConfirm'].errors.required\" class=\"validation-text\">メールアドレス確認が未入力です</div>\n                        <div *ngIf=\"inputForm.controls['emailConfirm'].errors.maxlength\" class=\"validation-text\">メールアドレス確認は{{ inputForm.controls['emailConfirm'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['emailConfirm'].errors.email\" class=\"validation-text\">メールアドレス確認が正しくありません</div>\n                        <div *ngIf=\"inputForm.controls['emailConfirm'].errors.equals\" class=\"validation-text\">メールアドレス確認が一致しません</div>\n                    </div>\n                    <p class=\"small-x-text\">\n                        <strong>【ドメイン指定受信をご利用の場合について】</strong>\n                        <br>※ 携帯電話のドメイン指定受信をされている場合、「@ticket-cinemasunshine.com」を追加設定してください。\n                        <br>※ au(@ezweb.ne.jp)をご利用の場合、上記に加え「なりすまし規制回避リスト」にも「@ticket-cinemasunshine.com」の追加設定をしてください。</p>\n                </dd>\n            </dl>\n        </div>\n\n        <h2 class=\"section-ttl\">電話番号\n            <span class=\"text-icon-red small-x-text\">入力必須</span>\n        </h2>\n        <div class=\"box radius bg-light-gray mb-large\">\n            <dl>\n                <dd>\n                    <input [class.validation]=\"inputForm.controls['telephone'].invalid && inputForm.controls['telephone'].touched\" type=\"tel\"\n                        formControlName=\"telephone\" autocomplete=\"tel\" placeholder=\"(例)08000000000\">\n                    <div *ngIf=\"inputForm.controls['telephone'].invalid && inputForm.controls['telephone'].touched\">\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.required\" class=\"validation-text\">電話番号が未入力です</div>\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.minlength\" class=\"validation-text\">電話番号は{{ inputForm.controls['telephone'].errors.minlength.requiredLength }}文字以上で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.maxlength\" class=\"validation-text\">電話番号は{{ inputForm.controls['telephone'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.pattern\" class=\"validation-text\">電話番号は数字で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.telephone\" class=\"validation-text\">電話番号が正しくありません</div>\n                    </div>\n                    <p class=\"small-x-text\">※半角数字、ハイフン「-」なしで入力してください</p>\n                </dd>\n            </dl>\n        </div>\n\n        <div *ngIf=\"purchase.getTotalPrice() > 0\">\n            <h2 class=\"section-ttl\">\n                お支払情報\n                <span class=\"text-icon-red small-x-text\">入力必須</span>\n                <span class=\"image credit-image\">\n                    <img src=\"/assets/images/common/credit_card.png\" alt=\"\">\n                </span>\n            </h2>\n\n            <p class=\"mb-small\">クレジットカード決済の必要事項を入力ください。</p>\n            <div *ngIf=\"creditCardType === 'input'\" class=\"credit-input mb-small\">\n                <ul class=\"box radius bg-light-gray mb-large credit form-layout\">\n                    <li class=\"price\">\n                        <dl>\n                            <dt>ご利用金額</dt>\n                            <dd class=\"large-text red-text\">\n                                <strong>￥{{ purchase.getTotalPrice() }}</strong>\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>カード番号</dt>\n                            <dd>\n                                <input [class.validation]=\"inputForm.controls['cardNumber'].invalid && inputForm.controls['cardNumber'].touched\" type=\"text\"\n                                    pattern=\"\\d*\" formControlName=\"cardNumber\" id=\"cardNumber\" autocomplete=\"off\" placeholder=\"(例)1234567890\"\n                                    maxlength=\"16\">\n                                <div *ngIf=\"inputForm.controls['cardNumber'].invalid && inputForm.controls['cardNumber'].touched\">\n                                    <div *ngIf=\"inputForm.controls['cardNumber'].errors.required\" class=\"validation-text\">カード番号が未入力です</div>\n                                    <div *ngIf=\"inputForm.controls['cardNumber'].errors.pattern\" class=\"validation-text\">カード番号は数字で入力してください</div>\n                                </div>\n                                <p class=\"small-x-text\">※半角数字、ハイフン「-」なしで入力してください</p>\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>有効期限</dt>\n                            <dd>\n\n                                <select formControlName=\"cardExpirationMonth\" id=\"cardExpirationMonth\">\n\n                                    <option *ngFor=\"let month of cardExpiration.month\" [value]=\"month\">{{ month }}</option>\n\n                                </select> 月\n                                <select formControlName=\"cardExpirationYear\" id=\"cardExpirationYear\">\n\n                                    <option *ngFor=\"let year of cardExpiration.year\" [value]=\"year\">{{ year }}</option>\n\n                                </select> 年\n\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>セキュリティーコード</dt>\n                            <dd>\n                                <input [class.validation]=\"inputForm.controls['securityCode'].invalid && inputForm.controls['securityCode'].touched\" type=\"text\"\n                                    pattern=\"\\d*\" formControlName=\"securityCode\" autocomplete=\"off\" placeholder=\"(例)123\" maxlength=\"4\">\n                                <div *ngIf=\"inputForm.controls['securityCode'].invalid && inputForm.controls['securityCode'].touched\">\n                                    <div *ngIf=\"inputForm.controls['securityCode'].errors.required\" class=\"validation-text\">セキュリティーコードが未入力です</div>\n                                </div>\n                                <p>\n                                    <a (click)=\"securityCodeModal = true\">セキュリティーコードについて</a>\n                                </p>\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>カード名義人</dt>\n                            <dd>\n                                <input [class.validation]=\"inputForm.controls['holderName'].invalid && inputForm.controls['holderName'].touched\" type=\"text\"\n                                    formControlName=\"holderName\" autocomplete=\"off\" placeholder=\"(例)TARO CINEMA\">\n                                <div *ngIf=\"inputForm.controls['holderName'].invalid && inputForm.controls['holderName'].touched\">\n                                    <div *ngIf=\"inputForm.controls['holderName'].errors.required\" class=\"validation-text\">カード名義人が未入力です</div>\n                                </div>\n                            </dd>\n                        </dl>\n                    </li>\n                </ul>\n\n                <div *ngIf=\"user.isMember()\" class=\"text-center mb-middle\">\n                    <input type=\"checkbox\" formControlName=\"saveCreditCard\" id=\"saveCreditCard\">\n                    <label for=\"saveCreditCard\">\n                        <strong>クレジットカード情報を保存する</strong>\n                    </label>\n                </div>\n\n                <div *ngIf=\"user.isRegisteredCreditCards()\" class=\"button gray-button\">\n                    <button type=\"button\" (click)=\"changeRegisteredCreditCard()\">登録済みクレジットカードを使用する</button>\n                </div>\n            </div>\n\n            <div *ngIf=\"creditCardType === 'registered'\" class=\"credit-registered mb-small\">\n                <ul class=\"box radius bg-light-gray mb-large credit form-layout\">\n                    <li class=\"price\">\n                        <dl>\n                            <dt>ご利用金額</dt>\n                            <dd class=\"large-text red-text\">\n                                <strong>￥{{ purchase.getTotalPrice() }}</strong>\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>カード番号</dt>\n                            <dd>{{ user.data.creditCards[0]?.cardNo }}</dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>有効期限</dt>\n                            <dd>{{ user.data.creditCards[0]?.expire }}</dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>カード名義人</dt>\n                            <dd>{{ user.data.creditCards[0]?.holderName }}</dd>\n                        </dl>\n                    </li>\n                </ul>\n                <input type=\"hidden\" formControlName=\"cardNumber\">\n                <input type=\"hidden\" formControlName=\"cardExpirationMonth\">\n                <input type=\"hidden\" formControlName=\"cardExpirationYear\">\n                <input type=\"hidden\" formControlName=\"securityCode\">\n                <input type=\"hidden\" formControlName=\"holderName\">\n                <div class=\"button gray-button\" (click)=\"changeInputCreditCard()\">\n                    <button type=\"button\">クレジットカードを変更する</button>\n                </div>\n            </div>\n            <div>\n                <div class=\"mb-x-small\">\n                    <strong>ご注意事項</strong>\n                </div>\n                <p class=\"small-x-text\">\n                    購入完了画面まで進まずにお取引を中断された場合でもご利用のカードによっては下記の事象が起こることがございますので、悪しからずご了承ください。\n                    <br>\n                    <strong>一部のクレジットカード会社からはカード利用速報のメールが配信される。</strong>\n                    <br> ⇒カード利用速報メールが配信されましても購入完了していなければ引き落とされることはありませんので、カード会社の月々の確定利用明細などをご確認ください。\n                    <br>\n                    <strong>プリペイド形式（デビットカード、LINEPayカード等）で一時的に残高が減る。</strong>\n                    <br> ⇒購入完了していない場合は後ほど残高が戻ります。残高が戻るまでの期間は各カード会社様によって異なります。\n                    <br>※スマートフォンアプリではプリペイド形式の使用は出来ません。\n                </p>\n            </div>\n        </div>\n\n        <app-buttons nextLabel=\"次へ\" prevLabel=\"戻る\" prevLink=\"/purchase/ticket\"></app-buttons>\n    </form>\n    <app-site-seal></app-site-seal>\n</div>\n\n<app-loading [show]=\"isLoading\"></app-loading>\n\n<app-modal class=\"security-code-modal\" [open]=\"securityCodeModal\" [layout]=\"false\" (close)=\"securityCodeModal = false\">\n    <div inner class=\"box radius bg-white\">\n        <div class=\"modal-title mb-xx-small text-center\">セキュリティーコードについて</div>\n        <p class=\"mb-middle small-x-text text-center\">※カード会社により表示箇所および名称が異なります。</p>\n        <div class=\"box radius bg-light-gray\">\n            <dl class=\"mb-middle\">\n                <dt>\n                    <strong>VISA / MASTER / DINERS / JCBの場合</strong>\n                </dt>\n                <dd>【カード裏面】セキュリティーコード(末尾3桁)</dd>\n                <dd>\n                    <img src=\"/assets/images/common/credit_back.svg\" alt=\"\">\n                </dd>\n            </dl>\n            <dl>\n                <dt>\n                    <strong>AMEXの場合</strong>\n                </dt>\n                <dd>【カード表面】セキュリティーコード(4桁)</dd>\n                <dd>\n                    <img src=\"/assets/images/common/credit_front.svg\" alt=\"\">\n                </dd>\n            </dl>\n        </div>\n    </div>\n</app-modal>\n\n<app-modal [open]=\"creditCardAlertModal\" [layout]=\"true\" (close)=\"creditCardAlertModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>エラーが発生しました</strong>\n    </div>\n</app-modal>","import { Component, ElementRef, OnInit } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, ValidationErrors, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as libphonenumber from 'libphonenumber-js';\nimport * as moment from 'moment';\nimport { convertToHiragana, convertToKatakana, formatTelephone } from '../../../../functions';\nimport { LibphonenumberFormatPipe } from '../../../../pipes/libphonenumber-format/libphonenumber-format.pipe';\nimport { AwsCognitoService, ErrorService, IGmoTokenObject, PurchaseService, SasakiService, UserService } from '../../../../services';\n\n/**\n * クレジットカードタイプ\n */\nenum CreditCardType {\n    Input = 'input',\n    Registered = 'registered'\n}\n\n@Component({\n    selector: 'app-purchase-input',\n    templateUrl: './purchase-input.component.html',\n    styleUrls: ['./purchase-input.component.scss']\n})\nexport class PurchaseInputComponent implements OnInit {\n    public cardExpiration: {\n        year: string[];\n        month: string[];\n    };\n    public inputForm: FormGroup;\n    public isLoading: boolean;\n    public securityCodeModal: boolean;\n    public creditCardAlertModal: boolean;\n    public disable: boolean;\n    public creditCardType: CreditCardType;\n\n    constructor(\n        public purchase: PurchaseService,\n        public user: UserService,\n        private elementRef: ElementRef,\n        private formBuilder: FormBuilder,\n        private router: Router,\n        private error: ErrorService,\n        private awsCognito: AwsCognitoService,\n        private sasaki: SasakiService\n\n    ) { }\n\n    public async ngOnInit() {\n        window.scrollTo(0, 0);\n        this.isLoading = false;\n        this.cardExpiration = {\n            year: [],\n            month: []\n        };\n        this.inputForm = this.createForm();\n        this.disable = false;\n        this.creditCardType = CreditCardType.Input;\n        this.creditCardAlertModal = this.purchase.data.isCreditCardError;\n        if (this.purchase.data.isCreditCardError) {\n            // クレジットカードエラー\n            this.purchase.data.isCreditCardError = false;\n            this.inputForm.controls.cardNumber.markAsTouched();\n            this.inputForm.controls.cardExpirationMonth.markAsTouched();\n            this.inputForm.controls.cardExpirationYear.markAsTouched();\n            this.inputForm.controls.securityCode.markAsTouched();\n            this.inputForm.controls.holderName.markAsTouched();\n            this.validationScroll();\n        }\n        this.securityCodeModal = false;\n        try {\n            if (this.user.isNative() && !this.user.isMember()) {\n                // アプリ非会員ならCognitoから取得\n                const records = await this.awsCognito.getRecords({\n                    datasetName: 'profile'\n                });\n                if (records.familyName !== undefined\n                    || records.givenName !== undefined\n                    || records.email !== undefined\n                    || records.emailConfirm !== undefined\n                    || records.telephone !== undefined) {\n                    this.inputForm.controls.familyName.setValue(convertToKatakana(records.familyName));\n                    this.inputForm.controls.givenName.setValue(convertToKatakana(records.givenName));\n                    this.inputForm.controls.email.setValue(records.email);\n                    this.inputForm.controls.emailConfirm.setValue(records.email);\n                    this.inputForm.controls.telephone.setValue(records.telephone);\n                }\n            } else if (this.user.isMember()) {\n                // 会員\n                if (this.user.data.profile === undefined) {\n                    throw new Error('profile is undefined');\n                }\n                const profile = this.user.data.profile;\n                if (this.user.data.creditCards === undefined\n                    || this.user.data.creditCards.length === 0) {\n                    throw new Error('creditCards is notfoud');\n                }\n                const familyName = (profile.familyName === undefined) ? '' : convertToKatakana(profile.familyName);\n                const givenName = (profile.givenName === undefined) ? '' : convertToKatakana(profile.givenName);\n                const telephone = (profile.telephone === undefined) ? '' : formatTelephone(profile.telephone, 'National').replace(/-/g, '');\n                this.inputForm.controls.familyName.setValue(familyName);\n                this.inputForm.controls.givenName.setValue(givenName);\n                this.inputForm.controls.email.setValue(profile.email);\n                this.inputForm.controls.emailConfirm.setValue(profile.email);\n                this.inputForm.controls.telephone.setValue(telephone);\n\n                const payment = this.purchase.getTotalPrice();\n                if (payment > 0) {\n                    // クレジット決済ありならクレジットカードタイプを変更\n                    this.changeRegisteredCreditCard();\n                }\n            }\n        } catch (err) {\n            this.error.redirect(err);\n        }\n\n    }\n\n    /**\n     * バリデーションスクロール\n     * @method validationScroll\n     */\n    private validationScroll() {\n        setTimeout(() => {\n            const element: HTMLElement = this.elementRef.nativeElement;\n            const validation = <HTMLElement>element.querySelector('.validation');\n            if (validation === null) {\n                return;\n            }\n            const rect = validation.getBoundingClientRect();\n            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n            const top = rect.top + scrollTop - 50;\n            window.scrollTo(0, top);\n        }, 0);\n    }\n\n    /**\n     * 次へ\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        if (this.disable) {\n            return;\n        }\n\n        if (this.inputForm.invalid) {\n            // フォームのステータス変更\n            this.inputForm.controls.familyName.markAsTouched();\n            this.inputForm.controls.givenName.markAsTouched();\n            this.inputForm.controls.email.markAsTouched();\n            this.inputForm.controls.emailConfirm.markAsTouched();\n            this.inputForm.controls.telephone.markAsTouched();\n            if (this.purchase.getTotalPrice() > 0) {\n                this.inputForm.controls.cardNumber.markAsTouched();\n                this.inputForm.controls.cardExpirationMonth.markAsTouched();\n                this.inputForm.controls.cardExpirationYear.markAsTouched();\n                this.inputForm.controls.securityCode.markAsTouched();\n                this.inputForm.controls.holderName.markAsTouched();\n            }\n            this.validationScroll();\n\n            return;\n        }\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        try {\n            if (this.purchase.data.transaction === undefined) {\n                throw new Error('status is different');\n            }\n            if (this.purchase.getTotalPrice() > 0) {\n                try {\n                    if (this.creditCardType === CreditCardType.Input) {\n                        this.purchase.data.gmoTokenObject = await this.getGmoObject();\n                        this.purchase.data.paymentCreditCard = {\n                            token: (<IGmoTokenObject>this.purchase.data.gmoTokenObject).token\n                        };\n                    } else {\n                        if (this.user.data.creditCards === undefined) {\n                            throw new Error('creditCards is undefined');\n                        }\n                        this.purchase.data.paymentCreditCard = {\n                            memberId: 'me',\n                            cardSeq: Number(this.user.data.creditCards[0].cardSeq)\n                        };\n                    }\n                } catch (err) {\n                    console.error(err);\n                    // クレジットカード処理失敗\n                    this.isLoading = false;\n                    this.creditCardAlertModal = true;\n                    if (this.creditCardType === CreditCardType.Input) {\n                        this.inputForm.controls.cardNumber.setValue('');\n                        this.inputForm.controls.securityCode.setValue('');\n                        this.inputForm.controls.holderName.setValue('');\n                    }\n                    this.disable = false;\n\n                    return;\n                }\n                if (this.user.isMember()\n                    && this.inputForm.controls.saveCreditCard.value\n                    && this.purchase.data.gmoTokenObject !== undefined) {\n                    // 会員 クレジットカード情報保存\n                    await this.sasaki.getServices();\n                    const gmoTokenObject = await this.getGmoObject();\n                    await this.sasaki.ownershipInfo.addCreditCard({\n                        creditCard: {\n                            token: gmoTokenObject.token\n                        }\n                    });\n                }\n            }\n\n            // 入力情報を登録\n            const contact = {\n                familyName: convertToHiragana(this.inputForm.controls.familyName.value),\n                givenName: convertToHiragana(this.inputForm.controls.givenName.value),\n                email: this.inputForm.controls.email.value,\n                telephone: this.inputForm.controls.telephone.value\n            };\n            await this.purchase.customerContactRegistrationProcess(contact);\n            this.router.navigate(['/purchase/confirm']);\n        } catch (err) {\n            this.error.redirect(err);\n        }\n    }\n\n    /**\n     * GMOトークン取得\n     * @method getGmoToken\n     */\n    private async getGmoObject(): Promise<IGmoTokenObject> {\n        const sendParam = {\n            cardno: this.inputForm.controls.cardNumber.value,\n            expire: this.inputForm.controls.cardExpirationYear.value + this.inputForm.controls.cardExpirationMonth.value,\n            securitycode: this.inputForm.controls.securityCode.value,\n            holdername: this.inputForm.controls.holderName.value\n        };\n        // console.log(sendParam);\n        return new Promise<IGmoTokenObject>((resolve, reject) => {\n            const seller = this.purchase.data.seller;\n            if (seller === undefined\n                || seller.paymentAccepted === undefined) {\n                return reject(new Error('status is different'));\n            }\n            (<any>window).someCallbackFunction = function someCallbackFunction(response: any) {\n                if (response.resultCode === '000') {\n                    resolve(response.tokenObject);\n                } else {\n                    reject(new Error(response.resultCode));\n                }\n            };\n            const Multipayment = (<any>window).Multipayment;\n            const findPaymentAcceptedResult = seller.paymentAccepted.find((paymentAccepted) => {\n                return (paymentAccepted.paymentMethodType === factory.paymentMethodType.CreditCard);\n            });\n            if (findPaymentAcceptedResult === undefined) {\n                return reject(new Error('findPaymentAcceptedResult is undefined'));\n            }\n            Multipayment.init((<factory.seller.ICreditCardPaymentAccepted>findPaymentAcceptedResult).gmoInfo.shopId);\n            Multipayment.getToken(sendParam, (<any>window).someCallbackFunction);\n        });\n    }\n\n    /**\n     * フォーム作成\n     * @method createForm\n     */\n    private createForm() {\n        const payment = this.purchase.getTotalPrice();\n        const NAME_MAX_LENGTH = 12;\n        const MAIL_MAX_LENGTH = 50;\n        const TEL_MAX_LENGTH = 11;\n        const TEL_MIN_LENGTH = 9;\n        const customerContact = {\n            familyName: {\n                value: '',\n                validators: [\n                    Validators.required,\n                    Validators.maxLength(NAME_MAX_LENGTH),\n                    Validators.pattern(/^[ァ-ヶー]+$/)\n                ]\n            },\n            givenName: {\n                value: '',\n                validators: [\n                    Validators.required,\n                    Validators.maxLength(NAME_MAX_LENGTH),\n                    Validators.pattern(/^[ァ-ヶー]+$/)\n                ]\n            },\n            email: {\n                value: '', validators: [\n                    Validators.required,\n                    Validators.maxLength(MAIL_MAX_LENGTH),\n                    Validators.email\n                ]\n            },\n            emailConfirm: {\n                value: '', validators: [\n                    Validators.required,\n                    Validators.maxLength(MAIL_MAX_LENGTH),\n                    Validators.email,\n                    (control: AbstractControl): ValidationErrors | null => {\n                        const field = control.root.get('email');\n                        if (field !== null) {\n                            if (control.value !== field.value) {\n                                return { equals: true };\n                            }\n                        }\n\n                        return null;\n                    }\n                ]\n            },\n            telephone: {\n                value: '', validators: [\n                    Validators.required,\n                    Validators.maxLength(TEL_MAX_LENGTH),\n                    Validators.minLength(TEL_MIN_LENGTH),\n                    Validators.pattern(/^[0-9]+$/),\n                    (control: AbstractControl): ValidationErrors | null => {\n                        const field = control.root.get('telephone');\n                        if (field !== null) {\n                            const parsedNumber = libphonenumber.parse(field.value, 'JP');\n                            if (parsedNumber.phone === undefined) {\n                                return { telephone: true };\n                            }\n                            const isValid = libphonenumber.isValidNumber(parsedNumber);\n                            if (!isValid) {\n                                return { telephone: true };\n                            }\n                        }\n\n                        return null;\n                    }\n                ]\n            },\n            cardNumber: { value: '', validators: [Validators.required, Validators.pattern(/^[0-9]+$/)] },\n            cardExpirationMonth: { value: '01', validators: [Validators.required] },\n            cardExpirationYear: { value: moment().format('YYYY'), validators: [Validators.required] },\n            securityCode: { value: '', validators: [Validators.required] },\n            holderName: { value: '', validators: [Validators.required] }\n        };\n\n        if (this.purchase.data.customerContact !== undefined) {\n            // 購入者情報入力済み\n            const familyName = (this.purchase.data.customerContact.familyName === undefined)\n                ? '' : convertToKatakana(this.purchase.data.customerContact.familyName);\n            const givenName = (this.purchase.data.customerContact.givenName === undefined)\n                ? '' : convertToKatakana(this.purchase.data.customerContact.givenName);\n            const email = (this.purchase.data.customerContact.email === undefined)\n                ? '' : this.purchase.data.customerContact.email;\n            const telephone = (this.purchase.data.customerContact.telephone === undefined)\n                ? '' : new LibphonenumberFormatPipe().transform(this.purchase.data.customerContact.telephone);\n            customerContact.familyName.value = familyName;\n            customerContact.givenName.value = givenName;\n            customerContact.email.value = email;\n            customerContact.emailConfirm.value = email;\n            customerContact.telephone.value = telephone;\n        }\n        if (payment > 0) {\n            // 決済あり\n            for (let i = 0; i < 12; i++) {\n                const DIGITS = -2;\n                this.cardExpiration.month.push(`0${String(i + 1)}`.slice(DIGITS));\n            }\n            for (let i = 0; i < 10; i++) {\n                this.cardExpiration.year.push(moment().add(i, 'year').format('YYYY'));\n            }\n\n            if (this.user.isMember()) {\n                // 会員\n                return this.formBuilder.group({\n                    familyName: [customerContact.familyName.value, customerContact.familyName.validators],\n                    givenName: [customerContact.givenName.value, customerContact.givenName.validators],\n                    email: [customerContact.email.value, customerContact.email.validators],\n                    emailConfirm: [customerContact.emailConfirm.value, customerContact.emailConfirm.validators],\n                    telephone: [customerContact.telephone.value, customerContact.telephone.validators],\n                    cardNumber: [customerContact.cardNumber.value, customerContact.cardNumber.validators],\n                    cardExpirationMonth: [customerContact.cardExpirationMonth.value, customerContact.cardExpirationMonth.validators],\n                    cardExpirationYear: [customerContact.cardExpirationYear.value, customerContact.cardExpirationYear.validators],\n                    securityCode: [customerContact.securityCode.value, customerContact.securityCode.validators],\n                    holderName: [customerContact.holderName.value, customerContact.holderName.validators],\n                    saveCreditCard: [false]\n                });\n            } else {\n                // 非会員\n                return this.formBuilder.group({\n                    familyName: [customerContact.familyName.value, customerContact.familyName.validators],\n                    givenName: [customerContact.givenName.value, customerContact.givenName.validators],\n                    email: [customerContact.email.value, customerContact.email.validators],\n                    emailConfirm: [customerContact.emailConfirm.value, customerContact.emailConfirm.validators],\n                    telephone: [customerContact.telephone.value, customerContact.telephone.validators],\n                    cardNumber: [customerContact.cardNumber.value, customerContact.cardNumber.validators],\n                    cardExpirationMonth: [customerContact.cardExpirationMonth.value, customerContact.cardExpirationMonth.validators],\n                    cardExpirationYear: [customerContact.cardExpirationYear.value, customerContact.cardExpirationYear.validators],\n                    securityCode: [customerContact.securityCode.value, customerContact.securityCode.validators],\n                    holderName: [customerContact.holderName.value, customerContact.holderName.validators]\n                });\n            }\n\n        } else {\n            // 決済なし\n            return this.formBuilder.group({\n                familyName: [customerContact.familyName.value, customerContact.familyName.validators],\n                givenName: [customerContact.givenName.value, customerContact.givenName.validators],\n                email: [customerContact.email.value, customerContact.email.validators],\n                emailConfirm: [customerContact.emailConfirm.value, customerContact.emailConfirm.validators],\n                telephone: [customerContact.telephone.value, customerContact.telephone.validators]\n            });\n        }\n    }\n\n    /**\n     * クレジットカード情報入力へ変更\n     */\n    public changeInputCreditCard() {\n        this.creditCardType = CreditCardType.Input;\n        this.inputForm.controls.cardNumber.setValue('');\n        this.inputForm.controls.cardExpirationMonth.setValue('01');\n        this.inputForm.controls.cardExpirationYear.setValue(moment().format('YYYY'));\n        this.inputForm.controls.securityCode.setValue('');\n        this.inputForm.controls.holderName.setValue('');\n    }\n\n    /**\n     * 登録済みクレジットカードへ変更\n     */\n    public changeRegisteredCreditCard() {\n        this.creditCardType = CreditCardType.Registered;\n        this.inputForm.controls.cardNumber.setValue('4111111111111111');\n        this.inputForm.controls.cardExpirationMonth.setValue('01');\n        this.inputForm.controls.cardExpirationYear.setValue(moment().format('YYYY'));\n        this.inputForm.controls.securityCode.setValue('123');\n        this.inputForm.controls.holderName.setValue('TEST');\n    }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">ムビチケ券適用内容確認</h1>\n    <p class=\"read\">内容に問題なければ「券種選択へ戻る」ボタンを押してください。\n        <br>\n        <span class=\"small-text\">※券種選択よりムビチケ券を選択してください。</span>\n    </p>\n    <ul class=\"box radius bg-light-gray mb-middle mvtk-lists\">\n\n        <li *ngFor=\"let mvtkTicket of purchase.data.mvtkTickets\">\n            <dl class=\"d-table\">\n                <dt class=\"d-td\">ムビチケ購入番号 {{ mvtkTicket.input.knyknrNo }}</dt>\n                <dd class=\"d-td width-medium\">\n                    <strong>{{ mvtkTicket.mvtkTicketcodeResult.ticketName }} × {{ mvtkTicket.ykknInfo.ykknKnshbtsmiNum }}</strong>\n                </dd>\n            </dl>\n        </li>\n\n    </ul>\n\n\n    <form (ngSubmit)=\"onSubmit()\">\n        <app-buttons nextLabel=\"券種選択へ戻る\" prevLabel=\"戻る\" prevLink=\"/purchase/mvtk/input\"></app-buttons>\n    </form>\n    <app-site-seal></app-site-seal>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ErrorService, PurchaseService } from '../../../../services';\n\n@Component({\n    selector: 'app-purchase-mvtk-confirm',\n    templateUrl: './purchase-mvtk-confirm.component.html',\n    styleUrls: ['./purchase-mvtk-confirm.component.scss']\n})\nexport class PurchaseMvtkConfirmComponent implements OnInit {\n\n    constructor(\n        public purchase: PurchaseService,\n        private router: Router,\n        private error: ErrorService\n    ) { }\n\n    public ngOnInit() {\n        window.scrollTo(0, 0);\n        if (this.purchase.data.mvtkTickets === undefined) {\n            this.error.redirect(new Error('status is different'));\n        }\n        // console.log(this.purchase.data.mvtkTickets);\n    }\n\n    public onSubmit() {\n        this.router.navigate(['/purchase/ticket']);\n    }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">ムビチケ券認証</h1>\n    <p class=\"read\">ご利用になるムビチケ券の購入番号と、暗証番号を入力してください。\n        <br>複数枚ご利用になる場合は「ムビチケ券を追加」ボタンを押して追加してください。</p>\n\n    <div *ngFor=\"let mvtkForm of mvtkForms; let index = index\" class=\"ticket-list mb-middle\">\n        <form [formGroup]=\"mvtkForm\">\n            <div class=\"mvtk-box\">\n                <div *ngIf=\"mvtkForms.length > 1\" class=\"button light-gray-button remove-button\">\n                    <a (click)=\"removeMvtk(index)\">削除</a>\n                </div>\n                <ul class=\"box radius bg-light-gray mb-small form-layout\">\n                    <li>\n                        <dl>\n                            <dt>ムビチケ購入番号</dt>\n                            <dd>\n                                <input class=\"mvtk-code\" [class.validation]=\"mvtkForm.controls['code'].invalid && mvtkForm.controls['code'].touched\" type=\"text\" formControlName=\"code\"\n                                    autocomplete=\"off\" placeholder=\"(例)012345789\" maxlength=\"10\">\n                                <div *ngIf=\"mvtkForm.controls['code'].invalid && mvtkForm.controls['code'].touched\">\n                                    <div *ngIf=\"mvtkForm.controls['code'].errors.required\" class=\"validation-text\">ムビチケ購入番号が未入力です</div>\n                                    <div *ngIf=\"mvtkForm.controls['code'].errors.maxlength\" class=\"validation-text\">ムビチケ購入番号は{{ mvtkForm.controls['code'].errors.maxlength.requiredLength }}文字で入力してください</div>\n                                    <div *ngIf=\"mvtkForm.controls['code'].errors.minlength\" class=\"validation-text\">ムビチケ購入番号は{{ mvtkForm.controls['code'].errors.minlength.requiredLength }}文字で入力してください</div>\n                                    <div *ngIf=\"mvtkForm.controls['code'].errors.pattern\" class=\"validation-text\">ムビチケ購入番号は数字で入力してください</div>\n                                </div>\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>ムビチケ暗証番号</dt>\n                            <dd>\n                                <input [class.validation]=\"mvtkForm.controls['password'].invalid && mvtkForm.controls['password'].touched\" type=\"password\"\n                                    formControlName=\"password\" autocomplete=\"off\" placeholder=\"(例)0123\" maxlength=\"4\">\n                                <div *ngIf=\"mvtkForm.controls['password'].invalid && mvtkForm.controls['password'].touched\">\n                                    <div *ngIf=\"mvtkForm.controls['password'].errors.required\" class=\"validation-text\">ムビチケ暗証番号が未入力です</div>\n                                    <div *ngIf=\"mvtkForm.controls['password'].errors.maxlength\" class=\"validation-text\">ムビチケ暗証番号は{{ mvtkForm.controls['password'].errors.maxlength.requiredLength }}文字で入力してください</div>\n                                    <div *ngIf=\"mvtkForm.controls['password'].errors.minlength\" class=\"validation-text\">ムビチケ暗証番号は{{ mvtkForm.controls['password'].errors.minlength.requiredLength }}文字で入力してください</div>\n                                    <div *ngIf=\"mvtkForm.controls['password'].errors.pattern\" class=\"validation-text\">ムビチケ暗証番号は数字で入力してください</div>\n                                </div>\n                            </dd>\n                        </dl>\n                    </li>\n                </ul>\n            </div>\n        </form>\n    </div>\n\n    <div *ngIf=\"purchase.data.tmpSeatReservationAuthorization?.object.acceptedOffer.length > mvtkForms.length\" class=\"button dark-blue-button add-button mb-middle center-button\">\n        <a class=\"icon-add-white\" (click)=\"addMvtk()\">ムビチケ券を追加</a>\n    </div>\n\n    <div class=\"box radius bg-light-gray mb-small\">\n        <div class=\"box-ttl\">選択中の座席</div>\n        <div class=\"text-right large-text\">\n            <strong>{{ purchase.data.tmpSeatReservationAuthorization?.object.acceptedOffer.length }}席</strong>\n        </div>\n    </div>\n\n    <p class=\"small-x-text\">※不足金額が発生した場合は別途クレジットカードにてお支払いいただきます。</p>\n\n    <form (ngSubmit)=\"onSubmit()\">\n        <app-buttons nextLabel=\"認証する\" prevLabel=\"戻る\" prevLink=\"/purchase/ticket\"></app-buttons>\n    </form>\n    <app-site-seal></app-site-seal>\n</div>\n\n<app-modal [open]=\"inputValidationModal\" [layout]=\"true\" (close)=\"inputValidationModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>入力項目にエラーがあります</strong>\n    </div>\n    <p class=\"text-center\">入力項目をご確認ください。</p>\n</app-modal>\n\n<app-modal [open]=\"authErrorModal\" [layout]=\"true\" (close)=\"authErrorModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>認証に失敗しました</strong>\n    </div>\n    <p class=\"text-center\">購入番号と暗証番号、もしくはムビチケ券の対象作品を再度ご確認ください。</p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { PurchaseService } from '../../../../services';\n\n@Component({\n    selector: 'app-purchase-mvtk-input',\n    templateUrl: './purchase-mvtk-input.component.html',\n    styleUrls: ['./purchase-mvtk-input.component.scss']\n})\nexport class PurchaseMvtkInputComponent implements OnInit {\n    public mvtkForms: FormGroup[];\n    public mvtkInputForm: FormGroup;\n    public inputValidationModal: boolean;\n    public authErrorModal: boolean;\n    public isLoading: boolean;\n    public disable: boolean;\n\n    constructor(\n        public purchase: PurchaseService,\n        private formBuilder: FormBuilder,\n        private router: Router\n    ) { }\n\n    public ngOnInit() {\n        window.scrollTo(0, 0);\n        this.isLoading = false;\n        this.inputValidationModal = false;\n        this.authErrorModal = false;\n        this.mvtkForms = [];\n        this.mvtkForms.push(this.createForm());\n        this.mvtkInputForm = this.formBuilder.group({});\n        this.disable = false;\n    }\n\n    /**\n     * フォーム作成\n     * @method createForm\n     */\n    private createForm() {\n        const CODE_LENGTH = 10;\n        const PASSWORD_LENGTH = 4;\n        return this.formBuilder.group({\n            code: ['', [\n                Validators.required,\n                Validators.maxLength(CODE_LENGTH),\n                Validators.minLength(CODE_LENGTH),\n                Validators.pattern(/^[0-9]+$/)\n            ]],\n            password: ['', [\n                Validators.required,\n                Validators.maxLength(PASSWORD_LENGTH),\n                Validators.minLength(PASSWORD_LENGTH),\n                Validators.pattern(/^[0-9]+$/)\n            ]]\n        });\n    }\n\n    /**\n     * ムビチケ券追加\n     * @method addMvtk\n     */\n    public addMvtk() {\n        this.mvtkForms.push(this.createForm());\n    }\n\n    /**\n     * ムビチケ券削除\n     * @method removeMvtk\n     */\n    public removeMvtk(index: number) {\n        this.mvtkForms.splice(index, 1);\n    }\n\n    /**\n     * ムビチケ認証\n     */\n    public async onSubmit() {\n        this.mvtkForms.forEach((mvtkForm, index) => {\n            const mvtkCodeList = document.querySelectorAll('.mvtk-code');\n            const value = (<HTMLInputElement>mvtkCodeList[index]).value;\n            mvtkForm.controls.code.setValue(value);\n        });\n        const mvtkForms = this.mvtkForms.filter((group) => {\n            return (!group.invalid);\n        });\n        if (mvtkForms.length !== this.mvtkForms.length) {\n            this.inputValidationModal = true;\n\n            return;\n        }\n        if (this.disable) {\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        try {\n            const mvtkData = mvtkForms.map((mvtkForm) => {\n                return {\n                    knyknrNo: mvtkForm.controls.code.value,\n                    pinCd: mvtkForm.controls.password.value\n                };\n            });\n            await this.purchase.mvtkAuthenticationProcess(mvtkData);\n            this.router.navigate(['purchase/mvtk/confirm']);\n        } catch (err) {\n            console.error(err);\n            this.isLoading = false;\n            this.authErrorModal = true;\n            this.disable = false;\n        }\n    }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl red-text\">仮予約の座席があります</h1>\n    <p class=\"read\">現在、仮予約の座席があります。\n        <br>仮予約の座席の購入を進めるか、新しく選択した内容で購入を進めるか選択してください。\n        <br>仮予約の内容は下記になります。</p>\n\n    <div class=\"form-layout mb-x-large\">\n        <h2 class=\"section-ttl\">仮予約の上映スケジュール</h2>\n        <ul class=\"box radius bg-light-gray mb-large\">\n            <li>\n                <dl>\n                    <dt>劇場 / スクリーン</dt>\n                    <dd>{{ purchase.getTheaterName() }} / {{ purchase.getScreenName() }}</dd>\n                </dl>\n            </li>\n            <li>\n                <dl>\n                    <dt>作品名</dt>\n                    <dd>{{ purchase.getTitle() }}</dd>\n                </dl>\n            </li>\n            <li>\n                <dl>\n                    <dt>鑑賞日時</dt>\n                    <dd>\n                        {{ purchase.getAppreciationDate() }} {{ purchase.getStartDate() }} - {{ purchase.getEndDate() }}\n                    </dd>\n                </dl>\n            </li>\n        </ul>\n        <p class=\"text-center mb-x-small\">上記の仮予約内容で購入手続きへ戻ります。</p>\n        <form (ngSubmit)=\"returnTransaction()\">\n            <app-next-button>仮予約の購入手続きへ戻る</app-next-button>\n        </form>\n    </div>\n\n    <div class=\"form-layout\">\n        <h2 class=\"section-ttl\">新しく選択した上映スケジュール</h2>\n        <ul class=\"box radius bg-light-gray mb-large\">\n            <li>\n                <dl>\n                    <dt>劇場 / スクリーン</dt>\n                    <dd>{{ getTheaterName() }} / {{ getScreenName() }}</dd>\n                </dl>\n            </li>\n            <li>\n                <dl>\n                    <dt>作品名</dt>\n                    <dd>{{ getTitle() }}</dd>\n                </dl>\n            </li>\n            <li>\n                <dl>\n                    <dt>鑑賞日時</dt>\n                    <dd>\n                        {{ getAppreciationDate() }} {{ getStartDate() }} - {{ getEndDate() }}\n                    </dd>\n                </dl>\n            </li>\n        </ul>\n        <p class=\"text-center  mb-x-small\">仮予約を削除し、新しく選択した上映スケジュールの購入手続きを進めます。</p>\n        <form (ngSubmit)=\"newTransaction()\">\n            <app-next-button>仮予約を削除して次へ進む</app-next-button>\n        </form>\n    </div>\n    <app-site-seal></app-site-seal>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as moment from 'moment';\nimport { environment } from '../../../../../environments/environment';\nimport { TimeFormatPipe } from '../../../../pipes/time-format/time-format.pipe';\nimport { ErrorService, PurchaseService, SaveType, StorageService } from '../../../../services';\n\n@Component({\n    selector: 'app-purchase-overlap',\n    templateUrl: './purchase-overlap.component.html',\n    styleUrls: ['./purchase-overlap.component.scss']\n})\nexport class PurchaseOverlapComponent implements OnInit {\n    public screeningEvent: factory.chevre.event.screeningEvent.IEvent;\n\n    constructor(\n        private storage: StorageService,\n        public purchase: PurchaseService,\n        private router: Router,\n        private error: ErrorService\n    ) { }\n\n    public async ngOnInit() {\n        window.scrollTo(0, 0);\n        try {\n            // イベント情報取得\n            this.screeningEvent = <factory.chevre.event.screeningEvent.IEvent>this.storage.load('screeningEvent', SaveType.Session);\n            if (this.screeningEvent === null) {\n                throw new Error('screeningEvent is null');\n            }\n        } catch (err) {\n            this.error.redirect(err);\n        }\n    }\n\n    /**\n     * 予約中のフローへ戻る\n     */\n    public returnTransaction() {\n        this.router.navigate(['/purchase/seat']);\n    }\n\n    /**\n     * 新しい取引へ\n     */\n    public async newTransaction() {\n        try {\n            await this.purchase.cancelSeatRegistrationProcess();\n        } catch (err) {\n            console.error(err);\n        }\n        this.storage.remove('screeningEvent', SaveType.Session);\n        location.href = `${environment.ENTRANCE_SERVER_URL}/purchase/index.html?id=${this.screeningEvent.identifier}`;\n    }\n\n    /**\n     * 劇場名取得\n     * @method getTheaterName\n     * @returns {string}\n     */\n    public getTheaterName() {\n        return this.screeningEvent.superEvent.location.name.ja;\n    }\n\n    /**\n     * スクリーン名取得\n     * @method getScreenName\n     * @returns {string}\n     */\n    public getScreenName() {\n        return this.screeningEvent.location.name.ja;\n    }\n\n    /**\n     * 作品名取得\n     * @method getTitle\n     * @returns {string}\n     */\n    public getTitle() {\n        return this.screeningEvent.name.ja;\n    }\n\n    /**\n     * 鑑賞日取得\n     * @method getAppreciationDate\n     * @returns {string}\n     */\n    public getAppreciationDate() {\n        moment.locale('ja');\n\n        return moment(this.screeningEvent.startDate).format('YYYY年MM月DD日(ddd)');\n    }\n\n    /**\n     * 上映開始時間取得\n     * @method getStartDate\n     * @returns {string}\n     */\n    public getStartDate() {\n        if (this.screeningEvent.coaInfo === undefined) {\n            return '';\n        }\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            this.screeningEvent.startDate,\n            this.screeningEvent.coaInfo.dateJouei\n        );\n    }\n\n    /**\n     * 上映終了取得\n     * @method getEndDate\n     * @returns {string}\n     */\n    public getEndDate() {\n        if (this.screeningEvent.coaInfo === undefined) {\n            return '';\n        }\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            this.screeningEvent.endDate,\n            this.screeningEvent.coaInfo.dateJouei\n        );\n    }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">ポイント使用</h1>\n    <p class=\"read\">\n        貯まったポイントの使用方法を選択してください。\n    </p>\n    <div class=\"mb-middle point text-center\">\n        <div class=\"inner bg-gray\">現在\n            <strong class=\"large-text\">{{ user.data.account?.typeOfGood.availableBalance }}</strong> ポイント</div>\n    </div>\n\n    <ul *ngIf=\"!isLoading\" class=\"box radius bg-light-gray mb-middle tickets\">\n        <li *ngFor=\"let pointTicket of pointTickets\">\n            <dl>\n                <dt>\n                    <div class=\"small-x-text mb-x-small\">{{ pointTicket.usePoint }}ポイントで引き換え</div>\n                    <div>\n                        <strong>{{ pointTicket.ticketName }}</strong>\n                    </div>\n                </dt>\n                <dd>\n                    <select [(ngModel)]=\"selectTickets[pointTicket.ticketCode]\">\n                        <option *ngFor=\"let value of ticketValueList\" value=\"{{ value }}\">{{ value }}枚</option>\n                    </select>\n                </dd>\n            </dl>\n        </li>\n    </ul>\n\n    <form (ngSubmit)=\"onSubmit()\">\n        <app-buttons nextLabel=\"券種に追加する\" prevLabel=\"戻る\" prevLink=\"/purchase/ticket\"></app-buttons>\n    </form>\n    <app-site-seal></app-site-seal>\n</div>\n\n<app-modal [open]=\"pointAhortageAlertModal\" [layout]=\"true\" (close)=\"pointAhortageAlertModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>ポイントが不足しています</strong>\n    </div>\n    <p class=\"text-center\">選択した券種の合計ポイントが所持ポイントを超えています。\n    </p>\n</app-modal>\n\n<app-modal [open]=\"notSelectAlertModal\" [layout]=\"true\" (close)=\"notSelectAlertModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>券種が選択されていません</strong>\n    </div>\n    <p class=\"text-center\">券種を選択してください。\n    </p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport * as COA from '@motionpicture/coa-service';\nimport { ErrorService, FlgMember, PurchaseService, SasakiService, UserService } from '../../../../services';\n\n\n@Component({\n    selector: 'app-purchase-point',\n    templateUrl: './purchase-point.component.html',\n    styleUrls: ['./purchase-point.component.scss']\n})\nexport class PurchasePointComponent implements OnInit {\n\n    public isLoading: boolean;\n    public pointTickets: COA.services.master.ITicketResult[];\n    public ticketValueList: number[];\n    public selectTickets: {\n        [key: string]: number;\n    };\n    public pointAhortageAlertModal: boolean;\n    public notSelectAlertModal: boolean;\n\n    constructor(\n        public user: UserService,\n        private sasaki: SasakiService,\n        private purchase: PurchaseService,\n        private error: ErrorService,\n        private router: Router\n    ) { }\n\n    public async ngOnInit() {\n        this.pointAhortageAlertModal = false;\n        this.isLoading = true;\n        this.pointTickets = [];\n        this.selectTickets = {};\n        try {\n            const screeningEvent = this.purchase.data.screeningEvent;\n            const tmpSeatReservationAuthorization = this.purchase.data.tmpSeatReservationAuthorization;\n            if (screeningEvent === undefined\n                || screeningEvent.coaInfo === undefined\n                || tmpSeatReservationAuthorization === undefined) {\n                throw new Error('status is different');\n            }\n            const reserveLength = tmpSeatReservationAuthorization.object.acceptedOffer.length;\n            this.ticketValueList = [];\n            for (let i = 0; i < (reserveLength + 1); i++) {\n                this.ticketValueList.push(i);\n            }\n            const masterTickets = await this.sasaki.getTickets({\n                theaterCode: screeningEvent.coaInfo.theaterCode\n            });\n            this.pointTickets = masterTickets.filter((masterTicket) => {\n                const salesTicket = this.purchase.data.salesTickets.find((ticket) => {\n                    return ticket.ticketCode === masterTicket.ticketCode;\n                });\n                return (masterTicket.usePoint > 0\n                    && masterTicket.flgMember === FlgMember.Member\n                    && salesTicket !== undefined);\n            });\n            for (const pointTicket of this.pointTickets) {\n                this.selectTickets[pointTicket.ticketCode] = 0;\n            }\n            // console.log('pointTickets', this.pointTickets);\n        } catch (err) {\n            this.error.redirect(err);\n        }\n        this.isLoading = false;\n    }\n\n    public onSubmit() {\n        let usePoint = 0;\n        for (const ticket of this.pointTickets) {\n            usePoint += ticket.usePoint * this.selectTickets[ticket.ticketCode];\n        }\n        if (this.user.data.account === undefined) {\n            this.error.redirect(new Error('account is undefined'));\n\n            return;\n        }\n        if (usePoint === 0) {\n            this.notSelectAlertModal = true;\n\n            return;\n        }\n        if (this.user.data.account.typeOfGood.availableBalance < usePoint) {\n            this.pointAhortageAlertModal = true;\n\n            return;\n        }\n        this.purchase.data.pointTickets = [];\n        for (const ticket of this.pointTickets) {\n            for (let i = 0; i < this.selectTickets[ticket.ticketCode]; i++) {\n                this.purchase.data.pointTickets.push(ticket);\n            }\n        }\n        this.purchase.save();\n        this.router.navigate(['/purchase/ticket']);\n    }\n\n}\n","<div class=\"contents\">\n\n    <h1 class=\"page-ttl\">スケジュール選択</h1>\n    <p class=\"read\">こちらからチケットの購入をする事が出来ます。\n        <br>ご希望の鑑賞作品、鑑賞日時を選択してください。</p>\n    <div class=\"inquiry-buttons mb-middle\">\n        <div *ngFor=\"let theater of theaters\" class=\"button blue-button center-button inquiry-button\">\n            <a\n                href=\"{{ environment.FRONTEND_ENDPOINT }}/inquiry/login?theater={{ theater.location.branchCode }}\">{{ theater.name.ja }}照会</a>\n        </div>\n    </div>\n\n    <div class=\"mb-middle\">\n        <dl>\n            <dt class=\"mb-x-small\">劇場</dt>\n            <dd class=\"mb-small\">\n                <select [(ngModel)]=\"conditions.theater\" (change)=\"changeConditions()\">\n                    <option *ngFor=\"let theater of theaters\" value=\"{{ theater.location.branchCode }}\">\n                        {{ theater.name.ja }}</option>\n                </select>\n            </dd>\n        </dl>\n        <dl>\n            <dt class=\"mb-x-small\">鑑賞日</dt>\n            <dd class=\"mb-small\">\n                <select [(ngModel)]=\"conditions.date\" (change)=\"changeConditions()\">\n                    <option *ngFor=\"let date of dateList\" value=\"{{ date.value }}\">{{ date.label }}</option>\n                </select>\n            </dd>\n        </dl>\n    </div>\n\n    <ul class=\"film-order\">\n        <app-purchase-film-order *ngFor=\"let film of filmOrder\" [data]=\"film\"></app-purchase-film-order>\n    </ul>\n\n</div>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as moment from 'moment';\nimport { environment } from '../../../../../environments/environment';\nimport { ErrorService, PurchaseService, SasakiService } from '../../../../services';\n\ntype IMovieTheater = factory.seller.IOrganization<factory.seller.IAttributes<factory.organizationType>>;\ninterface IFilmOrder {\n    id: string;\n    films: factory.chevre.event.screeningEvent.IEvent[];\n}\n\ninterface IDate {\n    value: string;\n    label: string;\n}\n\n@Component({\n    selector: 'app-purchase-schedule',\n    templateUrl: './purchase-schedule.component.html',\n    styleUrls: ['./purchase-schedule.component.scss']\n})\nexport class PurchaseScheduleComponent implements OnInit {\n    public theaters: IMovieTheater[];\n    public isLoading: boolean;\n    public dateList: IDate[];\n    public filmOrder: IFilmOrder[];\n    public schedules: factory.chevre.event.screeningEvent.IEvent[];\n    public conditions: { theater: string; date: string };\n    public environment = environment;\n\n    constructor(\n        private error: ErrorService,\n        private purchase: PurchaseService,\n        private sasaki: SasakiService\n    ) {\n        this.theaters = [];\n        this.dateList = [];\n        this.filmOrder = [];\n        this.conditions = {\n            theater: '',\n            date: ''\n        };\n    }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     * @returns {Promise<void>}\n     */\n    public async ngOnInit(): Promise<void> {\n        window.scrollTo(0, 0);\n        this.isLoading = true;\n        try {\n            await this.sasaki.getServices();\n            const searchResult = await this.sasaki.seller.search({});\n            this.theaters = searchResult.data;\n            this.dateList = this.getDateList(3);\n            const theater = this.theaters[0];\n            if (theater.location === undefined\n                || theater.location.branchCode === undefined) {\n                throw new Error('branchCode is undefined');\n            }\n            this.conditions = {\n                theater: theater.location.branchCode,\n                date: this.dateList[0].value\n            };\n            await this.changeConditions();\n        } catch (err) {\n            this.error.redirect(err);\n        }\n        this.isLoading = false;\n    }\n\n    /**\n     * @method getDateList\n     * @param {number} loop\n     * @returns {IDate[]}\n     */\n    public getDateList(loop: number): IDate[] {\n        const results = [];\n        for (let i = 0; i < loop; i++) {\n            const date = moment().add(i, 'day');\n            results.push({\n                value: date.format('YYYYMMDD'),\n                label: (i === 0) ? '本日' : (i === 1) ? '明日' : (i === 2) ? '明後日' : date.format('YYYY/MM/DD')\n            });\n        }\n\n        return results;\n    }\n\n    /**\n     * 条件変更\n     * @method changeConditions\n     * @returns {Promise<void>}\n     */\n    public async changeConditions(): Promise<void> {\n        this.isLoading = true;\n        this.filmOrder = [];\n        try {\n            await this.sasaki.getServices();\n            const searchScreeningEventsResult = await this.sasaki.event.searchScreeningEvents({\n                typeOf: factory.chevre.eventType.ScreeningEvent,\n                superEvent: {\n                    locationBranchCodes: [this.conditions.theater]\n                },\n                startFrom: moment(this.conditions.date).toDate(),\n                startThrough: moment(this.conditions.date).add(1, 'day').toDate()\n            });\n            this.schedules = searchScreeningEventsResult.data;\n            this.filmOrder = this.getEventFilmOrder();\n            // console.log(this.filmOrder);\n        } catch (err) {\n            this.error.redirect(err);\n        }\n        this.isLoading = false;\n    }\n\n    /**\n     * 作品別上映スケジュール取得\n     * @function getScreeningEvents\n     * @returns {IFilmOrder[]}\n     */\n    public getEventFilmOrder(): IFilmOrder[] {\n        const results: IFilmOrder[] = [];\n        this.schedules.forEach((screeningEvent) => {\n            // 販売可能時間判定\n            if (!this.purchase.isSalseTime(screeningEvent)) {\n                return;\n            }\n            const film = results.find((event) => {\n                return (event.id === screeningEvent.superEvent.id);\n            });\n            if (film === undefined) {\n                results.push({\n                    id: screeningEvent.superEvent.id,\n                    films: [screeningEvent]\n                });\n            } else {\n                film.films.push(screeningEvent);\n            }\n        });\n\n        return results;\n    }\n\n}\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">座席選択</h1>\n    <p class=\"read\">ご希望の座席を選択して「次へ」ボタンを押してください。\n        <br>選択できる座席数は最大\n        <span class=\"seat-limit-text\">{{ purchase.data.screeningEvent?.coaInfo?.availableNum }}</span>席までとなります。\n        <br>\n        <span class=\"sp-text\">画面をタッチすると画面がズームしますので座席を選択してください。\n            <br>\n        </span>\n        <span class=\"small-x-text\">※車椅子席をご希望の方は、お手数ですが通常のお席をご購入の上、対象の劇場にご連絡ください。</span>\n    </p>\n    <div class=\"mb-middle\">\n        <app-screen *ngIf=\"screenData\" [screen]=\"screenData.screen\" [status]=\"screenData.status\"\n            (select)=\"seatSelect($event)\" (alert)=\"seatSelectionAlert()\">\n            <app-seat-info type=\"{{ purchase.data.screeningEvent?.superEvent.coaInfo?.kbnJoueihousiki?.kubunCode }}\">\n            </app-seat-info>\n        </app-screen>\n    </div>\n\n    <div class=\"mb-middle seat-types\">\n        <ul>\n            <li *ngIf=\"getSeatType('grandClass')\" class=\"seat-grand-class\">\n                <div class=\"seat-type-inner\">\n                    <div class=\"image\"><img src=\"/images/theater/seat/grand-class.svg\"></div>\n                    <div class=\"text\">\n                        <p>グランドクラス<br>+￥3,000</p>\n                    </div>\n                </div>\n            </li>\n            <li *ngIf=\"getSeatType('premiumClass')\" class=\"seat-premium-class\">\n                <div class=\"seat-type-inner\">\n                    <div class=\"image\"><img src=\"/images/theater/seat/premium-class.svg\"></div>\n                    <div class=\"text\">\n                        <p>プレミアムクラス<br>+￥1,500</p>\n                    </div>\n                </div>\n            </li>\n            <li *ngIf=\"getSeatType('comfort')\" class=\"seat-comfort\">\n                <div class=\"seat-type-inner\">\n                    <div class=\"image\"><img src=\"/images/theater/seat/comfort.svg\"></div>\n                    <div class=\"text\">\n                        <p>フラットシート</p>\n                    </div>\n                </div>\n            </li>\n            <li *ngIf=\"getSeatType('ottoman')\" class=\"seat-ottoman\">\n                <div class=\"seat-type-inner\">\n                    <div class=\"image\"><img src=\"/images/theater/seat/ottoman.svg\"></div>\n                    <div class=\"text\">\n                        <p>スタンダードクラス<br>オットマン</p>\n                    </div>\n                </div>\n            </li>\n        </ul>\n    </div>\n\n    <div class=\"film-info radius mb-large\">\n        <p class=\"mb-small\">現在、選択されているチケットは下記のとおりです。</p>\n        <dl>\n            <dt>劇場 / スクリーン</dt>\n            <dd class=\"border-bottom-dot\">\n                {{ purchase.getTheaterName() }} / {{ purchase.getScreenName() }}\n            </dd>\n            <dt>鑑賞日時</dt>\n            <dd class=\"border-bottom-dot\">\n                {{ purchase.getAppreciationDate() }} {{ purchase.getStartDate() }} - {{ purchase.getEndDate() }}\n            </dd>\n            <dt>作品名</dt>\n            <dd>{{ purchase.getTitle() }}</dd>\n        </dl>\n    </div>\n\n    <h2 class=\"section-ttl\">利用規約</h2>\n    <p class=\"mb-small\">利用規約に同意した上で「次へ」ボタンを押してください。</p>\n\n    <app-purchase-term class=\"mb-middle\"\n        [theaterCode]=\"purchase.data.screeningEvent?.superEvent.location.branchCode.slice(-2)\"></app-purchase-term>\n\n    <form [formGroup]=\"seatForm\" (ngSubmit)=\"onSubmit()\">\n        <div class=\"mb-x-large text-center\">\n            <input type=\"checkbox\" formControlName=\"terms\" id=\"terms\">\n            <label for=\"terms\" class=\"agree-label\">\n                <strong>利用規約に同意する</strong>\n            </label>\n            <div *ngIf=\"seatForm.controls['terms'].invalid && (seatForm.controls['terms'].dirty || seatForm.controls['terms'].touched)\"\n                class=\"validation-text\">利用規約に同意してください</div>\n        </div>\n\n        <div class=\"button-area\">\n            <div class=\"button next-button blue-button\">\n                <button type=\"submit\">\n                    <app-icon iconName=\"next-white\" width=\"15\" height=\"15\"></app-icon>次へ\n                </button>\n            </div>\n            <div class=\"prev-link ticket-app-hide\">\n                <a href=\"{{ purchase.data.seller?.url }}\">\n                    <app-icon iconName=\"prev-black\" width=\"15\" height=\"15\"></app-icon>戻る\n                </a>\n            </div>\n            <div class=\"prev-link ticket-app-show\">\n                <a href=\"{{ environment.APP_SITE_URL }}/#/purchase\">\n                    <app-icon iconName=\"prev-black\" width=\"15\" height=\"15\"></app-icon>戻る\n                </a>\n            </div>\n        </div>\n    </form>\n    <app-site-seal></app-site-seal>\n</div>\n\n<app-modal [open]=\"notSelectSeatModal\" [layout]=\"true\" (close)=\"notSelectSeatModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>座席が未選択です</strong>\n    </div>\n    <p class=\"text-center\">ご希望の空席を選択して「次へ」ボタンを押してください。</p>\n</app-modal>\n\n<app-modal [open]=\"upperLimitModal\" [layout]=\"true\" (close)=\"upperLimitModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>予約座席数が上限です</strong>\n    </div>\n    <p class=\"text-center\">予約座席数は最大\n        <span class=\"seat-limit-text\">{{ purchase.data.screeningEvent?.coaInfo?.availableNum }}</span>席までとなります。</p>\n</app-modal>\n\n<app-modal [open]=\"seatRegistrationErrorModal\" [layout]=\"true\" (close)=\"seatRegistrationErrorModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>エラーが発生しました</strong>\n    </div>\n    <p class=\"text-center\">\n        お手続きの途中でエラーが発生しました。<br>\n        お手数をおかけしますが、もう一度操作をお願いいたします。<br>\n        ※すでに他のお客様が同じ座席を選択した場合もこのエラーが表示されます。\n    </p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { HttpClient } from '@angular/common/http';\nimport { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport * as COA from '@motionpicture/coa-service';\nimport { environment } from '../../../../../environments/environment';\nimport { IScreen, ISeat } from '../../../../models';\nimport {\n    ErrorService,\n    FlgMember,\n    ISalesTicketResult,\n    PurchaseService,\n    SasakiService,\n    UserService\n} from '../../../../services';\n\n@Component({\n    selector: 'app-purchase-seat',\n    templateUrl: './purchase-seat.component.html',\n    styleUrls: ['./purchase-seat.component.scss']\n})\nexport class PurchaseSeatComponent implements OnInit, AfterViewInit {\n    public isLoading: boolean;\n    public seatForm: FormGroup;\n    public notSelectSeatModal: boolean;\n    public upperLimitModal: boolean;\n    public seats: ISeat[];\n    public disable: boolean;\n    public screenData: {\n        screen: IScreen;\n        status: COA.services.reserve.IStateReserveSeatResult;\n    };\n    public environment = environment;\n    public seatRegistrationErrorModal: boolean;\n\n    constructor(\n        public purchase: PurchaseService,\n        private router: Router,\n        private formBuilder: FormBuilder,\n        private sasaki: SasakiService,\n        private error: ErrorService,\n        private user: UserService,\n        private http: HttpClient\n    ) { }\n\n    public async ngOnInit() {\n        window.scrollTo(0, 0);\n        this.isLoading = true;\n        this.notSelectSeatModal = false;\n        this.seatRegistrationErrorModal = false;\n        this.seats = [];\n        this.seatForm = this.formBuilder.group({\n            terms: [false, [Validators.requiredTrue]]\n        });\n        this.disable = false;\n        if (this.purchase.data.screeningEvent === undefined) {\n            this.error.redirect(new Error('screeningEvent is undefined'));\n\n            return;\n        }\n\n        if (this.purchase.data.screeningEvent.coaInfo === undefined) {\n            this.error.redirect(new Error('coaInfo is undefined'));\n\n            return;\n        }\n        try {\n            this.screenData = await this.getData({\n                theaterCode: this.purchase.data.screeningEvent.coaInfo.theaterCode,\n                dateJouei: this.purchase.data.screeningEvent.coaInfo.dateJouei,\n                titleCode: this.purchase.data.screeningEvent.coaInfo.titleCode,\n                titleBranchNum: this.purchase.data.screeningEvent.coaInfo.titleBranchNum,\n                timeBegin: this.purchase.data.screeningEvent.coaInfo.timeBegin,\n                screenCode: this.purchase.data.screeningEvent.coaInfo.screenCode\n            });\n            this.isLoading = false;\n        } catch (error) {\n            this.error.redirect(error);\n\n            return;\n        }\n    }\n\n    public async ngAfterViewInit() {\n        try {\n            if (this.purchase.data.salesTickets.length === 0) {\n                this.purchase.data.salesTickets = await this.fitchSalesTickets();\n            }\n        } catch (error) {\n            this.error.redirect(error);\n        }\n    }\n\n    /**\n     * データ取得\n     * @method getData\n     */\n    public async getData(params: {\n        theaterCode: string;\n        dateJouei: string;\n        titleCode: string;\n        titleBranchNum: string;\n        timeBegin: string;\n        screenCode: string;\n    }): Promise<{\n        screen: IScreen,\n        status: COA.services.reserve.IStateReserveSeatResult\n    }> {\n        const DIGITS = {\n            '02': -2,\n            '03': -3\n        };\n        const theaterCode = `00${params.theaterCode}`.slice(DIGITS['02']);\n        const screenCode = `000${params.screenCode}`.slice(DIGITS['03']);\n        const screen = await this.http.get<IScreen>(`/json/theater/${theaterCode}/${screenCode}.json`).toPromise();\n        const setting = await this.http.get<IScreen>('/json/theater/setting.json').toPromise();\n\n        await this.sasaki.getServices();\n        const seatStatus = await this.sasaki.getSeatState({\n            theaterCode: params.theaterCode,\n            dateJouei: params.dateJouei,\n            titleCode: params.titleCode,\n            titleBranchNum: params.titleBranchNum,\n            timeBegin: params.timeBegin,\n            screenCode: params.screenCode\n        });\n        // seatStatus = (<any>{ listSeat: [] });\n        // スクリーンデータをマージ\n        return {\n            screen: Object.assign(setting, screen),\n            status: seatStatus\n        };\n    }\n\n    /**\n     * スクリーン読み込み完了\n     * @method loadScreen\n     * @param {ISeat[]} seats\n     */\n    public loadScreen(seats: ISeat[]) {\n        this.isLoading = false;\n        this.seats = seats;\n    }\n\n    /**\n     * 販売可能チケット情報取得\n     * @method getSalesTickets\n     */\n    public async fitchSalesTickets() {\n        const screeningEvent = this.purchase.data.screeningEvent;\n        if (screeningEvent === undefined) {\n            throw new Error('screeningEvent is undefined');\n        }\n        if (screeningEvent.coaInfo === undefined) {\n            throw new Error('coaInfo is undefined');\n        }\n        await this.sasaki.getServices();\n        const salesTicketArgs = {\n            theaterCode: screeningEvent.coaInfo.theaterCode,\n            dateJouei: screeningEvent.coaInfo.dateJouei,\n            titleCode: screeningEvent.coaInfo.titleCode,\n            titleBranchNum: screeningEvent.coaInfo.titleBranchNum,\n            timeBegin: screeningEvent.coaInfo.timeBegin,\n            flgMember: (this.user.isMember()) ? FlgMember.Member : FlgMember.NonMember\n        };\n        const salesTickets = await this.sasaki.getSalesTickets(salesTicketArgs);\n        // console.log('salesTickets', salesTicketArgs, salesTickets);\n\n        return salesTickets;\n    }\n\n    /**\n     * 次へ\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        if (this.seats.length === 0) {\n            this.notSelectSeatModal = true;\n            return;\n        }\n        if (this.disable) {\n            return;\n        }\n        if (this.seatForm.invalid) {\n            this.seatForm.controls.terms.markAsDirty();\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        try {\n            if (this.purchase.data.salesTickets.length === 0) {\n                this.purchase.data.salesTickets = await this.fitchSalesTickets();\n            }\n            const offers = this.seats.map((seat) => {\n                const salesTicket = (<ISalesTicketResult[]>this.purchase.data.salesTickets)[0];\n\n                return {\n                    seatSection: seat.coaInfo.section,\n                    seatNumber: seat.coaInfo.seatNum,\n                    ticketInfo: {\n                        ticketCode: salesTicket.ticketCode,\n                        mvtkAppPrice: 0,\n                        ticketCount: 1,\n                        addGlasses: 0,\n                        kbnEisyahousiki: '00',\n                        mvtkNum: '',\n                        mvtkKbnDenshiken: '00',\n                        mvtkKbnMaeuriken: '00',\n                        mvtkKbnKensyu: '00',\n                        mvtkSalesPrice: 0\n                    }\n                };\n            });\n            await this.purchase.seatRegistrationProcess(offers);\n            this.router.navigate(['/purchase/ticket']);\n        } catch (err) {\n            this.seatRegistrationErrorModal = true;\n            this.isLoading = false;\n            this.disable = false;\n        }\n    }\n\n    /**\n     * 座席選択\n     * @method seatSelect\n     * @param {Iseat[]} seats\n     */\n    public seatSelect(seats: ISeat[]) {\n        console.log(seats);\n        this.seats = seats;\n    }\n\n    /**\n     * 座席選択数警告\n     * @method seatSelectionAlert\n     */\n    public seatSelectionAlert() {\n        this.upperLimitModal = true;\n    }\n\n    public getSeatType(seatType: 'ottoman' | 'comfort' | 'grandClass' | 'premiumClass') {\n        if (this.screenData === undefined) {\n            return false;\n        }\n        const findSpecialSeatsResult = this.screenData.screen.specialSeats.find(s => s.name === seatType);\n        return (findSpecialSeatsResult !== undefined && findSpecialSeatsResult.data.length > 0);\n    }\n\n}\n\n","<div class=\"contents\">\n    <h1 class=\"page-ttl\">券種選択</h1>\n    <p class=\"read\">ご希望の券種を選択して「次へ」ボタンを押してください。</p>\n\n    <div *ngIf=\"purchase.isUsedMvtk() && purchase.data.mvtkTickets.length === 0\" class=\"box radius bg-ultra-light-gray mb-middle mvtk\">\n        <dl class=\"d-table\">\n            <dt class=\"d-td\">ムビチケ券を利用される方</dt>\n            <dd class=\"d-td width-medium\">\n                <div class=\"ghost-button mvtk-button\">\n                    <a routerLink=\"/purchase/mvtk/input\">\n                        <img src=\"/assets/images/common/mvtk_logo.svg\" alt=\"ムビチケ\">を利用する\n                    </a>\n                </div>\n            </dd>\n        </dl>\n    </div>\n\n    <div *ngIf=\"user.isMember() && purchase.isUsedPoint() && purchase.data.pointTickets.length === 0\" class=\"box radius bg-ultra-light-gray mb-middle point\">\n        <dl class=\"d-table\">\n            <dt class=\"d-td\">会員ポイントを利用される方</dt>\n            <dd class=\"d-td width-medium\">\n                <div class=\"ghost-button point-button\">\n                    <a routerLink=\"/purchase/point\">\n                        <strong>会員ポイント</strong>を利用する\n                    </a>\n                </div>\n            </dd>\n        </dl>\n    </div>\n\n    <ul class=\"box radius bg-light-gray mb-middle seats\">\n        <li *ngFor=\"let offer of offers\">\n            <dl class=\"d-table\">\n                <dt class=\"d-td seat-code\">{{ offer.seatNumber }}</dt>\n                <dd class=\"d-td width-medium\" [class.validation]=\"offer.validation\">\n                    <div *ngIf=\"!offer.selected\" class=\"button blue-button\">\n                        <button type=\"button\" (click)=\"ticketSelect(offer)\">券種を選択してください</button>\n                    </div>\n                    <div *ngIf=\"offer.selected\" class=\"blue-button ghost-button\">\n                        <button type=\"button\" (click)=\"ticketSelect(offer)\">\n                            {{ offer.ticketInfo.ticketName }} ￥{{ getTicketPrice(offer) }}\n                        </button>\n                    </div>\n                </dd>\n            </dl>\n        </li>\n    </ul>\n\n    <div class=\"box radius bg-light-gray mb-large total\">\n        <div class=\"text-right mb-small\">\n            <div class=\"length mb-x-small\">購入枚数\n                <strong class=\"red-text large-text\">{{ offers.length }}枚</strong>\n            </div>\n            <div class=\"price\">合計金額\n                <strong class=\"red-text large-text\">\n                    <span>{{ totalPrice }}</span>円</strong>\n            </div>\n        </div>\n        <div class=\"border-bottom-dot mb-small\"></div>\n        <!-- 4DX -->\n        <p *ngIf=\"(purchase.data.screeningEvent?.superEvent.coaInfo?.kbnJoueihousiki?.kubunCode === '002')\" class=\"small-x-text mb-xx-small\">\n            ※[４DXをご鑑賞のお客様へ]\n            <br> ４DX®作品は「身長100cm未満の方は入場不可」「身長120cm未満のお子様は保護者同伴」の入場制限がありますので、ご注意くださいませ。\n            <br> また、妊娠されている方、ご高齢の方、心臓・背中・腰・首などに障害のある方、特別な疾病のある方、乗り物酔いしやすい方、体調に不安のある方はご利用になれません。\n            <br> 上映中のホットドリンク・アルコールはご遠慮ください。\n        </p>\n        <p class=\"small-x-text\">※メンバーズカード提示による割引やその他割引券などのご利用はできません。\n            <br>※車椅子席をご希望の方は、お手数ですが通常のお席をご購入の上、対象の劇場にご連絡ください。\n            <br>※ムビチケ券によっては別途追加料金が発生する場合がありますのでご了承ください。\n        </p>\n    </div>\n    <form [formGroup]=\"ticketForm\" (ngSubmit)=\"onSubmit()\">\n        <app-buttons nextLabel=\"次へ\" prevLabel=\"戻る\" prevLink=\"/purchase/seat\"></app-buttons>\n    </form>\n    <app-site-seal></app-site-seal>\n</div>\n\n<app-modal [open]=\"ticketsModal\" [layout]=\"false\" (close)=\"ticketsModal = false\">\n    <ul inner class=\"not-layout box bg-light-gray\">\n        <li *ngFor=\"let mvtkTicket of salesMvtkTickets\" [class.disabled]=\"mvtkTicket.selected\">\n            <dl class=\"d-table\">\n                <dt class=\"d-td\">\n                    <div class=\"mb-xx-small\">\n                        <strong>\n                            {{ mvtkTicket.ticketName }} ￥{{ getSalseTicketPrice(mvtkTicket) }}\n                        </strong>\n                    </div>\n                    <p class=\"small-x-text\">ムビチケ購入番号 {{ mvtkTicket.knyknrNoInfo.knyknrNo }}</p>\n                </dt>\n                <dd class=\"d-td width-small\">\n                    <div class=\"button blue-button ticket-type-select\">\n                        <button type=\"button\" (click)=\"selectMvtkTicket(mvtkTicket)\">選択</button>\n                    </div>\n                </dd>\n            </dl>\n        </li>\n        <li *ngFor=\"let pointTicket of salesPointTickets\" [class.disabled]=\"pointTicket.selected\">\n                <dl class=\"d-table\">\n                    <dt class=\"d-td\">\n                        <div class=\"mb-xx-small\">\n                            <strong>{{ pointTicket.ticketName }} ￥{{ getSalseTicketPrice(pointTicket) }}</strong>\n                        </div>\n                        <p class=\"small-x-text\">{{ pointTicket.ticketNote }}</p>\n                    </dt>\n                    <dd class=\"d-td width-small\">\n                        <div class=\"button blue-button ticket-type-select\">\n                            <button type=\"button\" (click)=\"selectSalseTicket(pointTicket)\">選択</button>\n                        </div>\n                    </dd>\n                </dl>\n            </li>\n        <li *ngFor=\"let ticket of salesTickets\">\n            <dl class=\"d-table\">\n                <dt class=\"d-td\">\n                    <div class=\"mb-xx-small\">\n                        <strong>{{ ticket.ticketName }} ￥{{ getSalseTicketPrice(ticket) }}</strong>\n                    </div>\n                    <p class=\"small-x-text\">{{ ticket.ticketNote }}</p>\n                </dt>\n                <dd class=\"d-td width-small\">\n                    <div class=\"button blue-button ticket-type-select\">\n                        <button type=\"button\" (click)=\"selectSalseTicket(ticket)\">選択</button>\n                    </div>\n                </dd>\n            </dl>\n        </li>\n    </ul>\n</app-modal>\n\n<app-modal [open]=\"notSelectModal\" [layout]=\"true\" (close)=\"notSelectModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>券種が未選択です</strong>\n    </div>\n    <p class=\"text-center\">ご希望の券種を選択して「次へ」ボタンを押してください。</p>\n</app-modal>\n\n<app-modal [open]=\"discountConditionsModal\" [layout]=\"true\" (close)=\"discountConditionsModal = false\">\n    <div class=\"modal-title large-text text-center mb-middle\">\n        <strong>割引条件が満たされていません</strong>\n    </div>\n    <p class=\"text-center\">選択した券種の中に、割引券が含まれています。\n        <br> 割引券の適用条件を再度ご確認ください。\n    </p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { environment } from '../../../../../environments/environment';\nimport { getTicketPrice } from '../../../../functions';\nimport { ErrorService, IMvtkTicket, ISalesTicketResult, PurchaseService, UserService } from '../../../../services';\n\ninterface Ioffer {\n    price?: number;\n    priceCurrency: string;\n    seatNumber: string;\n    seatSection: string;\n    selected: boolean;\n    limitCount: number;\n    limitUnit: string;\n    validation: boolean;\n    ticketInfo: {\n        mvtkNum: string;\n        ticketCode: string;\n        ticketName: string;\n        mvtkAppPrice: number;\n        addGlasses: number;\n        kbnEisyahousiki: string;\n        mvtkKbnDenshiken: string;\n        mvtkKbnMaeuriken: string;\n        mvtkKbnKensyu: string;\n        mvtkSalesPrice: number;\n        addPrice: number,\n        disPrice: number,\n        salePrice: number,\n        seatNum: string;\n        stdPrice: number,\n        ticketCount: number,\n        ticketNameEng: string;\n        ticketNameKana: string;\n        usePoint?: number;\n        spseatAdd1: number;\n        spseatAdd2: number;\n        spseatKbn: string;\n    };\n}\n\ninterface ISalesMvtkTicket extends IMvtkTicket {\n    id: string;\n    selected: boolean;\n    addGlasses: number;\n    salePrice: number;\n    ticketName: string;\n}\n\ninterface ISalesPointTicket extends ISalesTicketResult {\n    id: string;\n    selected: boolean;\n}\n\n@Component({\n    selector: 'app-purchase-ticket',\n    templateUrl: './purchase-ticket.component.html',\n    styleUrls: ['./purchase-ticket.component.scss']\n})\nexport class PurchaseTicketComponent implements OnInit {\n    public offers: Ioffer[];\n    public totalPrice: number;\n    public selectOffer: Ioffer;\n    public ticketsModal: boolean;\n    public originalSaleTickets: ISalesTicketResult[];\n    public ltdSelected: Ioffer | undefined;\n    public isLoading: boolean;\n    public discountConditionsModal: boolean;\n    public notSelectModal: boolean;\n    public salesTickets: ISalesTicketResult[];\n    public salesMvtkTickets: ISalesMvtkTicket[];\n    public salesPointTickets: ISalesPointTicket[];\n    public ticketForm: FormGroup;\n    public disable: boolean;\n    public getTicketPrice = getTicketPrice;\n\n    constructor(\n        public purchase: PurchaseService,\n        public user: UserService,\n        private formBuilder: FormBuilder,\n        private router: Router,\n        private error: ErrorService\n    ) { }\n\n    public ngOnInit() {\n        window.scrollTo(0, 0);\n        this.purchase.load();\n        this.isLoading = false;\n        this.ticketsModal = false;\n        this.discountConditionsModal = false;\n        this.notSelectModal = false;\n        this.ticketForm = this.formBuilder.group({});\n        this.disable = false;\n        try {\n            this.salesTickets = this.createSalseTickets();\n            this.salesMvtkTickets = this.createSalseMvtkTickets();\n            this.salesPointTickets = this.createSalsePointTickets();\n            this.setOffers();\n            this.totalPrice = this.getTotalPrice();\n            this.upDateSalseTickets();\n            this.originalSaleTickets = [...this.salesTickets];\n        } catch (err) {\n            this.error.redirect(err);\n        }\n    }\n\n    /**\n     * 販売可能チケット生成\n     * @method createSalseTickets\n     */\n    private createSalseTickets() {\n        const screeningEvent = this.purchase.data.screeningEvent;\n        if (screeningEvent === undefined) {\n            throw new Error('screeningEvent is undefined');\n        }\n        const pointInfo = environment.POINT_TICKET.find((ticket) => {\n            return (screeningEvent.coaInfo !== undefined\n                && ticket.THEATER === screeningEvent.coaInfo.theaterCode);\n        });\n        const results = [];\n        for (const salesTicket of this.purchase.data.salesTickets) {\n            if (pointInfo !== undefined) {\n                // ポイント券種除外\n                const pointTicketCodeList = pointInfo.TICKET_CODE;\n                const ticketCode = pointTicketCodeList.find((pointTicketcode) => {\n                    return pointTicketcode === salesTicket.ticketCode;\n                });\n                if (ticketCode !== undefined) {\n                    continue;\n                }\n            }\n\n            const noGlassesBase = {};\n            const noGlasses = Object.assign(noGlassesBase, salesTicket);\n            noGlasses.addGlasses = 0;\n            results.push(noGlasses);\n            if (salesTicket.addGlasses > 0) {\n                // メガネあり券種作成\n                const glassesBase = {};\n                const glasses = Object.assign(glassesBase, salesTicket);\n                glasses.salePrice = glasses.salePrice + glasses.addGlasses;\n                glasses.ticketName = `${glasses.ticketName}メガネ込み`;\n                results.push(glasses);\n            }\n        }\n\n        return results;\n    }\n\n    /**\n     * ムビチケ券種リスト生成\n     * @method createSalseMvtkTickets\n     */\n    private createSalseMvtkTickets() {\n        const results = [];\n        for (const mvtkTicket of this.purchase.data.mvtkTickets) {\n            for (let i = 0; i < Number(mvtkTicket.ykknInfo.ykknKnshbtsmiNum); i++) {\n                const DIGITS = -2;\n                const count = `00${i}`.slice(DIGITS);\n                const noGlassesBase = {\n                    id: `${mvtkTicket.knyknrNoInfo.knyknrNo}${mvtkTicket.ykknInfo.ykknshTyp}${count}`,\n                    selected: false,\n                    addGlasses: 0,\n                    salePrice: Number(mvtkTicket.mvtkTicketcodeResult.addPrice),\n                    ticketName: mvtkTicket.mvtkTicketcodeResult.ticketName\n                };\n                const noGlasses = Object.assign(noGlassesBase, mvtkTicket);\n                results.push(noGlasses);\n                if (mvtkTicket.mvtkTicketcodeResult.addPriceGlasses > 0) {\n                    // メガネあり券種作成\n                    const glassesBase = {\n                        id: `${mvtkTicket.knyknrNoInfo.knyknrNo}${mvtkTicket.ykknInfo.ykknshTyp}${count}`,\n                        selected: false,\n                        addGlasses: Number(mvtkTicket.mvtkTicketcodeResult.addPriceGlasses),\n                        salePrice:\n                            Number(mvtkTicket.mvtkTicketcodeResult.addPriceGlasses) + Number(mvtkTicket.mvtkTicketcodeResult.addPrice),\n                        ticketName: `${mvtkTicket.mvtkTicketcodeResult.ticketName} メガネ込み`\n                    };\n                    const glasses = Object.assign(glassesBase, mvtkTicket);\n                    results.push(glasses);\n                }\n            }\n        }\n\n        return results;\n    }\n\n    /**\n     * ポイントチケット生成\n     * @method createSalsePointTickets\n     */\n    private createSalsePointTickets() {\n        const results = [];\n        let count = 0;\n        for (const pointTicket of this.purchase.data.pointTickets) {\n            const salesTicket = this.purchase.data.salesTickets.find((ticket) => {\n                return ticket.ticketCode === pointTicket.ticketCode;\n            });\n            if (salesTicket === undefined) {\n                throw new Error('salesTicket is not found');\n            }\n            const data = {\n                ticketCode: salesTicket.ticketCode,\n                ticketName: salesTicket.ticketName,\n                ticketNameKana: salesTicket.ticketNameKana,\n                ticketNameEng: salesTicket.ticketNameEng,\n                stdPrice: salesTicket.salePrice,\n                addPrice: salesTicket.addPrice,\n                salePrice: salesTicket.salePrice,\n                limitCount: salesTicket.limitCount,\n                limitUnit: salesTicket.limitUnit,\n                ticketNote: salesTicket.ticketNote,\n                addGlasses: salesTicket.addGlasses,\n                selected: false,\n                id: `${salesTicket.ticketCode}${count}`\n            };\n            const noGlassesBase = {};\n            const noGlasses = Object.assign(noGlassesBase, data);\n            noGlasses.addGlasses = 0;\n            results.push(noGlasses);\n            if (data.addGlasses > 0) {\n                // メガネあり券種作成\n                const glassesBase = {};\n                const glasses = Object.assign(glassesBase, data);\n                glasses.salePrice = glasses.salePrice + glasses.addGlasses;\n                glasses.ticketName = `${glasses.ticketName}メガネ込み`;\n                results.push(glasses);\n            }\n            count++;\n        }\n\n        return results;\n    }\n\n    /**\n     * 券種リスト更新\n     * @method upDateSalseTickets\n     */\n    public upDateSalseTickets() {\n        // ムビチケ券種\n        for (const ticket of this.salesMvtkTickets) {\n            ticket.selected = false;\n        }\n        for (const offer of this.offers) {\n            if (offer.ticketInfo.mvtkNum === '') {\n                continue;\n            }\n            // 選択済みへ変更\n            const sameTicket = this.salesMvtkTickets.find((ticket) => {\n                return (offer.ticketInfo.mvtkNum === ticket.knyknrNoInfo.knyknrNo\n                    && offer.ticketInfo.ticketCode === ticket.mvtkTicketcodeResult.ticketCode\n                    && !ticket.selected);\n            });\n            if (sameTicket !== undefined) {\n                sameTicket.selected = true;\n                const sameGlassesTicket = this.salesMvtkTickets.find((ticket) => {\n                    return (sameTicket.id === ticket.id && !ticket.selected);\n                });\n                if (sameGlassesTicket !== undefined) {\n                    sameGlassesTicket.selected = true;\n                }\n            }\n        }\n        // ポイント券種\n        for (const ticket of this.salesPointTickets) {\n            ticket.selected = false;\n        }\n        for (const offer of this.offers) {\n            if (offer.ticketInfo.usePoint === 0) {\n                continue;\n            }\n            // 選択済みへ変更\n            const sameTicket = this.salesPointTickets.find((ticket) => {\n                return (offer.ticketInfo.ticketCode === ticket.ticketCode\n                    && !ticket.selected);\n            });\n            if (sameTicket !== undefined) {\n                sameTicket.selected = true;\n                const sameGlassesTicket = this.salesPointTickets.find((ticket) => {\n                    return (sameTicket.id === ticket.id && !ticket.selected);\n                });\n                if (sameGlassesTicket !== undefined) {\n                    sameGlassesTicket.selected = true;\n                }\n            }\n        }\n    }\n\n    /**\n     * 次へ\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        const notSelectOffers = this.offers.filter((offer) => {\n            return (!offer.selected);\n        });\n        if (notSelectOffers.length > 0) {\n            this.notSelectModal = true;\n\n            return;\n        }\n        if (this.ticketValidation()) {\n            window.scrollTo(0, 0);\n            this.discountConditionsModal = true;\n\n            return;\n        }\n        if (this.disable) {\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        try {\n            const offers = this.offers.map((offer) => {\n                return {\n                    seatSection: offer.seatSection,\n                    seatNumber: offer.seatNumber,\n                    ticketInfo: offer.ticketInfo\n                };\n            });\n            await this.purchase.ticketRegistrationProcess(offers);\n            this.router.navigate(['/purchase/input']);\n        } catch (err) {\n            this.error.redirect(err);\n        }\n    }\n\n    /**\n     * オファーを登録\n     * @method setOffers\n     */\n    private setOffers() {\n        if (this.purchase.data.seatReservationAuthorization === undefined\n            && this.purchase.data.tmpSeatReservationAuthorization !== undefined) {\n            this.offers = this.purchase.data.tmpSeatReservationAuthorization.object.acceptedOffer.map((offer) => {\n\n                return {\n                    price: offer.price,\n                    priceCurrency: offer.priceCurrency,\n                    seatNumber: offer.seatNumber,\n                    seatSection: offer.seatSection,\n                    mvtkNum: '',\n                    selected: false,\n                    limitCount: 0,\n                    limitUnit: '',\n                    validation: false,\n                    ticketInfo: (<any>offer.ticketInfo)\n                };\n            });\n        } else if (this.purchase.data.seatReservationAuthorization !== undefined) {\n            this.offers = this.purchase.data.seatReservationAuthorization.object.acceptedOffer.map((offer) => {\n                if (offer.ticketInfo.mvtkNum !== '') {\n                    // ムビチケ\n                    return {\n                        price: offer.price,\n                        priceCurrency: offer.priceCurrency,\n                        seatNumber: offer.seatNumber,\n                        seatSection: offer.seatSection,\n                        mvtkNum: offer.ticketInfo.mvtkNum,\n                        selected: true,\n                        limitCount: 1,\n                        limitUnit: '001',\n                        validation: false,\n                        ticketInfo: (<any>offer.ticketInfo)\n                    };\n                } else if (offer.ticketInfo.usePoint > 0) {\n                    // ポイント\n                    const ticket = this.salesPointTickets.find((salseTicket) => {\n                        return (offer.ticketInfo.ticketCode === salseTicket.ticketCode\n                            && offer.ticketInfo.addGlasses === salseTicket.addGlasses);\n                    });\n\n                    if (ticket === undefined) {\n                        throw new Error('ticket is not found');\n                    }\n\n                    return {\n                        price: offer.price,\n                        priceCurrency: offer.priceCurrency,\n                        seatNumber: offer.seatNumber,\n                        seatSection: offer.seatSection,\n                        mvtkNum: offer.ticketInfo.mvtkNum,\n                        selected: true,\n                        limitCount: ticket.limitCount,\n                        limitUnit: ticket.limitUnit,\n                        validation: false,\n                        ticketInfo: (<any>offer.ticketInfo)\n                    };\n                } else {\n                    // 通常\n                    const ticket = this.salesTickets.find((salseTicket) => {\n                        return (offer.ticketInfo.ticketCode === salseTicket.ticketCode\n                            && offer.ticketInfo.addGlasses === salseTicket.addGlasses);\n                    });\n\n                    if (ticket === undefined) {\n                        throw new Error('ticket is not found');\n                    }\n\n                    return {\n                        price: offer.price,\n                        priceCurrency: offer.priceCurrency,\n                        seatNumber: offer.seatNumber,\n                        seatSection: offer.seatSection,\n                        mvtkNum: offer.ticketInfo.mvtkNum,\n                        selected: true,\n                        limitCount: ticket.limitCount,\n                        limitUnit: ticket.limitUnit,\n                        validation: false,\n                        ticketInfo: (<any>offer.ticketInfo)\n                    };\n                }\n            });\n        }\n    }\n\n    /**\n     * 制限単位、人数制限判定\n     * @method ticketValidation\n     */\n    public ticketValidation(): boolean {\n        let result = false;\n        for (const offer of this.offers) {\n            if (offer.limitUnit === '001') {\n                const unitLimitTickets = this.offers.filter((targetOffer) => {\n                    return (targetOffer.limitUnit === '001' && targetOffer.limitCount === offer.limitCount);\n                });\n                if (unitLimitTickets.length % offer.limitCount !== 0) {\n                    offer.validation = true;\n                    result = true;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * 合計金額計算\n     * @method getTotalPrice\n     */\n    public getTotalPrice(): number {\n        let result = 0;\n        const selectedOffers = this.offers.filter((offer) => {\n            return (offer.selected);\n        });\n        for (const offer of selectedOffers) {\n            result += getTicketPrice(offer);\n        }\n\n        return result;\n    }\n\n    /**\n     * 券種選択\n     * @method ticketSelect\n     * @param {Event} event\n     * @param {Ioffer} offer\n     */\n    public ticketSelect(offer: Ioffer) {\n        this.selectOffer = offer;\n        this.ticketsModal = true;\n    }\n\n    /**\n     * 販売可能券種選択\n     * @method selectSalseTicket\n     * @param {ISalesTicket} ticket\n     * @param {boolean} glass\n     */\n    public selectSalseTicket(ticket: ISalesTicketResult) {\n        const target = this.offers.find((offer) => {\n            return (offer.seatNumber === this.selectOffer.seatNumber);\n        });\n        if (target === undefined) {\n            this.ticketsModal = false;\n\n            return;\n        }\n        if (this.purchase.data.screeningEvent !== undefined) {\n            const ltdTicketCode = this.purchase.getMemberTicketCode();\n            if (ltdTicketCode.indexOf(ticket.ticketCode) >= 0) {\n                this.salesTickets = this.salesTickets.filter(\n                    (t) => ltdTicketCode.indexOf(t.ticketCode) < 0\n                );\n                this.ltdSelected = target;\n            } else if (this.ltdSelected === target) {\n                this.ltdSelected = undefined;\n                this.salesTickets = this.originalSaleTickets;\n            }\n        }\n        const findTicket = this.purchase.data.pointTickets.find((pointTicket) => {\n            return (pointTicket.ticketCode === ticket.ticketCode);\n        });\n        const usePoint = (findTicket !== undefined) ? findTicket.usePoint : 0;\n        const spseatAdd1 = (target.ticketInfo.spseatAdd1 === undefined)\n            ? 0 : target.ticketInfo.spseatAdd1;\n        target.price = ticket.salePrice;\n        target.priceCurrency = this.selectOffer.priceCurrency;\n        target.seatNumber = this.selectOffer.seatNumber;\n        target.seatSection = this.selectOffer.seatSection;\n        target.selected = true;\n        target.limitCount = ticket.limitCount;\n        target.limitUnit = ticket.limitUnit;\n        target.ticketInfo = {\n            mvtkNum: '',\n            ticketCode: ticket.ticketCode,\n            ticketName: ticket.ticketName,\n            mvtkAppPrice: 0,\n            addGlasses: ticket.addGlasses,\n            kbnEisyahousiki: '00',\n            mvtkKbnDenshiken: '00',\n            mvtkKbnMaeuriken: '00',\n            mvtkKbnKensyu: '00',\n            mvtkSalesPrice: 0,\n            addPrice: ticket.addPrice,\n            disPrice: 0,\n            salePrice: ticket.salePrice + spseatAdd1,\n            seatNum: this.selectOffer.seatNumber,\n            stdPrice: ticket.stdPrice,\n            ticketCount: 1,\n            ticketNameEng: ticket.ticketNameEng,\n            ticketNameKana: ticket.ticketNameKana,\n            usePoint: usePoint,\n            spseatAdd1: target.ticketInfo.spseatAdd1,\n            spseatAdd2: target.ticketInfo.spseatAdd2,\n            spseatKbn: target.ticketInfo.spseatKbn\n        };\n        this.totalPrice = this.getTotalPrice();\n        this.upDateSalseTickets();\n        this.ticketsModal = false;\n    }\n\n    /**\n     * ムビチケ券種選択\n     * @method selectMvtkTicket\n     * @param {ISalesMvtkTicket} ticket\n     * @param {boolean} glass\n     */\n    public selectMvtkTicket(ticket: ISalesMvtkTicket) {\n        const target = this.offers.find((offer) => {\n            return (offer.seatNumber === this.selectOffer.seatNumber);\n        });\n        if (target === undefined) {\n            this.ticketsModal = false;\n\n            return;\n        }\n        const spseatAdd1 = (target.ticketInfo.spseatAdd1 === undefined)\n            ? 0 : target.ticketInfo.spseatAdd1;\n\n        target.price = ticket.salePrice;\n        target.priceCurrency = this.selectOffer.priceCurrency;\n        target.seatNumber = this.selectOffer.seatNumber;\n        target.seatSection = this.selectOffer.seatSection;\n        target.selected = true;\n        target.limitCount = 1;\n        target.limitUnit = '001';\n        target.ticketInfo = {\n            mvtkNum: ticket.knyknrNoInfo.knyknrNo,\n            ticketCode: ticket.mvtkTicketcodeResult.ticketCode,\n            ticketName: ticket.ticketName,\n            mvtkAppPrice: Number(ticket.ykknInfo.kijUnip),\n            addGlasses: ticket.addGlasses,\n            kbnEisyahousiki: ticket.ykknInfo.eishhshkTyp,\n            mvtkKbnDenshiken: ticket.knyknrNoInfo.dnshKmTyp,\n            mvtkKbnMaeuriken: ticket.knyknrNoInfo.znkkkytsknGkjknTyp,\n            mvtkKbnKensyu: ticket.ykknInfo.ykknshTyp,\n            mvtkSalesPrice: Number(ticket.ykknInfo.knshknhmbiUnip),\n            addPrice: ticket.mvtkTicketcodeResult.addPrice,\n            disPrice: 0,\n            salePrice: ticket.salePrice + spseatAdd1,\n            seatNum: this.selectOffer.seatNumber,\n            stdPrice: 0,\n            ticketCount: 1,\n            ticketNameEng: ticket.mvtkTicketcodeResult.ticketNameEng,\n            ticketNameKana: ticket.mvtkTicketcodeResult.ticketNameKana,\n            spseatAdd1: target.ticketInfo.spseatAdd1,\n            spseatAdd2: target.ticketInfo.spseatAdd2,\n            spseatKbn: target.ticketInfo.spseatKbn\n        };\n        this.totalPrice = this.getTotalPrice();\n        this.upDateSalseTickets();\n        this.ticketsModal = false;\n    }\n\n    /**\n     * 販売券種金額取得\n     */\n    public getSalseTicketPrice(\n        offer: ISalesTicketResult | ISalesMvtkTicket | ISalesPointTicket\n    ) {\n        if (this.selectOffer === undefined) {\n            return offer.salePrice;\n        }\n        const ticketInfo = (<any>this.selectOffer.ticketInfo);\n        const spseatAdd1 = (ticketInfo.spseatAdd1 === undefined) ? 0 : ticketInfo.spseatAdd1;\n        const spseatAdd2 = (ticketInfo.spseatAdd2 === undefined) ? 0 : ticketInfo.spseatAdd2;\n        // console.log(offer.salePrice);\n        return (offer.salePrice + spseatAdd1 + spseatAdd2);\n    }\n\n}\n","<app-loading [show]=\"true\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport * as moment from 'moment';\nimport {\n    AwsCognitoService,\n    ErrorService,\n    FlgMember,\n    PurchaseService,\n    SasakiService,\n    SaveType,\n    StorageService,\n    UserService\n} from '../../../../services';\n\n@Component({\n    selector: 'app-purchase-transaction',\n    templateUrl: './purchase-transaction.component.html',\n    styleUrls: ['./purchase-transaction.component.scss']\n})\nexport class PurchaseTransactionComponent implements OnInit {\n    public parameters: {\n        /**\n         * パフォーマンスId\n         */\n        performanceId?: string;\n        /**\n         * WAITER許可証トークン\n         */\n        passportToken?: string;\n        /**\n         * awsCognitoIdentityId\n         */\n        identityId?: string;\n        /**\n         * ネイティブアプリ\n         */\n        native?: string;\n        /**\n         * 会員\n         */\n        member?: string;\n        /**\n         * アクセストークン\n         */\n        accessToken?: string;\n        /**\n         * signinリダイレクト\n         */\n        signInRedirect: boolean;\n        /**\n         * クライアントID\n         */\n        clientId?: string;\n    };\n    constructor(\n        private storage: StorageService,\n        private router: Router,\n        private sasaki: SasakiService,\n        private purchase: PurchaseService,\n        private error: ErrorService,\n        private awsCognito: AwsCognitoService,\n        private user: UserService\n    ) { }\n\n    /**\n     * 初期化\n     */\n    public async ngOnInit() {\n        try {\n            this.parameters = this.storage.load('parameters', SaveType.Session);\n            if (!this.parameters.signInRedirect) {\n                this.user.reset();\n                this.user.load();\n                this.user.save();\n            }\n            if (!this.parametersChack()) {\n                throw new Error('parameters is undefined');\n            }\n            this.user.setNative(this.parameters.native);\n            this.user.setClientId(this.parameters.clientId);\n            // this.user.setAccessToken(this.parameters.accessToken);\n            this.user.save();\n            // console.log('this.sasaki.auth', this.sasaki.auth);\n            if (this.parameters.member === FlgMember.Member\n                && !this.parameters.signInRedirect) {\n                await this.sasaki.signIn();\n\n                return;\n            }\n\n            // ticketアプリテスト\n            // this.parameters.identityId = 'ap-northeast-1:c93ad6a4-47e6-4023-a078-2a9ea80c15c9';\n            if (this.parameters.identityId !== undefined) {\n                await this.awsCognito.authenticateWithDeviceId(this.parameters.identityId);\n            }\n            await this.sasaki.getServices();\n            // イベント情報取得\n            const screeningEvent = await this.sasaki.event.findScreeningEventById({\n                id: (<string>this.parameters.performanceId)\n            });\n            // 開始可能日判定\n            if (!this.purchase.isSalse(screeningEvent)) {\n                throw new Error('Unable to start sales');\n            }\n            const END_TIME = 10;\n            // 終了可能日判定\n            if (moment().add(END_TIME, 'minutes').unix() > moment(screeningEvent.startDate).unix()) {\n                throw new Error('unable to end sales');\n            }\n            if (this.purchase.data.transaction !== undefined && this.purchase.isExpired()) {\n                // 取引期限切れなら購入情報削除\n                this.purchase.reset();\n            }\n            if (this.user.isNative()) {\n                // アプリなら購入情報削除\n                this.purchase.reset();\n            }\n            if (this.purchase.data.tmpSeatReservationAuthorization !== undefined) {\n                // 重複確認へ\n                this.storage.save('screeningEvent', screeningEvent, SaveType.Session);\n                this.router.navigate([`/purchase/overlap`]);\n\n                return;\n            }\n\n            await this.purchase.transactionStartProcess({\n                passportToken: <string>this.parameters.passportToken,\n                screeningEvent: screeningEvent\n            });\n            this.storage.remove('parameters', SaveType.Session);\n            this.router.navigate(['/purchase/seat'], { replaceUrl: true });\n        } catch (err) {\n            this.error.redirect(err);\n        }\n    }\n\n    /**\n     * @method parametersChack\n     * @requires {boolean}\n     */\n    private parametersChack(): boolean {\n        let result = true;\n        if (this.parameters.passportToken === undefined\n            || this.parameters.performanceId === undefined) {\n            result = false;\n        }\n\n        return result;\n    }\n\n}\n","<div class=\"button-area\">\n    <app-next-button>{{ nextLabel }}</app-next-button>\n    <div class=\"prev-link\">\n        <a routerLink=\"{{ prevLink }}\"><app-icon iconName=\"prev-black\" width=\"15\" height=\"15\"></app-icon>{{ prevLabel }}</a>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-buttons',\n    templateUrl: './buttons.component.html',\n    styleUrls: ['./buttons.component.scss']\n})\nexport class ButtonsComponent implements OnInit {\n    @Input() public nextLabel: string;\n    @Input() public prevLabel: string;\n    @Input() public prevLink: string;\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n}\n","<footer class=\"footer\">\n    <div class=\"inner\">\n        <ul class=\"clearfix\">\n            <li><a href=\"{{ environment.PORTAL_SITE_URL }}/privacy/\" target=\"_blank\">プライバシーポリシー</a></li>\n            <li><a href=\"{{ environment.PORTAL_SITE_URL }}/law/\" target=\"_blank\">特定商取引法に基づく表記</a></li>\n        </ul>\n        <div class=\"copyright\">Copyright (C) 2001-2017 Cinema Sunshine Co., Ltd. All Rights Reserved.</div>\n    </div>\n</footer>\n","import { Component, OnInit } from '@angular/core';\nimport { environment } from '../../../../environments/environment';\n\n@Component({\n    selector: 'app-footer',\n    templateUrl: './footer.component.html',\n    styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n    public environment = environment;\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n}\n","<header class=\"ticket-app-header ticket-app-show\">\n    <div class=\"close\">\n        <a href=\"{{ environment.APP_SITE_URL }}/#/purchase\">\n            閉じる\n        </a>\n    </div>\n</header>\n<header class=\"header clearfix ticket-app-hide\">\n    <div class=\"inner\">\n        <div class=\"logo\">\n            <a href=\"{{ environment.PORTAL_SITE_URL }}\">\n                <img src=\"/assets/images/common/logo.svg\" alt=\"\">\n            </a>\n        </div>\n        <ng-content></ng-content>\n    </div>\n</header>","import { Component, OnInit } from '@angular/core';\nimport { environment } from '../../../../environments/environment';\n\n@Component({\n    selector: 'app-header',\n    templateUrl: './header.component.html',\n    styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n    public environment = environment;\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n}\n","<div class=\"icon {{ iconName }}\" [ngStyle]=\"styles\"></div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-icon',\n    templateUrl: './icon.component.html',\n    styleUrls: ['./icon.component.scss']\n})\nexport class IconComponent implements OnInit {\n    @Input() public iconName: string;\n    @Input() public width?: number;\n    @Input() public height?: number;\n    public styles: Object;\n\n    public ngOnInit() {\n        if (this.width !== undefined && this.height !== undefined) {\n            this.styles = {\n                'width.px': this.width,\n                'height.px': this.height,\n                'background-size': `${this.width}px ${this.height}px`\n            };\n        } else {\n            this.styles = {};\n        }\n    }\n\n}\n","<div class=\"cover\" [class.active]=\"show\"></div>\n<div class=\"loading\" [class.active]=\"show\">\n    <div class=\"bar1\"></div>\n    <div class=\"bar2\"></div>\n    <div class=\"bar3\"></div>\n    <div class=\"bar4\"></div>\n    <div class=\"bar5\"></div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-loading',\n    templateUrl: './loading.component.html',\n    styleUrls: ['./loading.component.scss']\n})\nexport class LoadingComponent implements OnInit {\n    @Input() public show: boolean;\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     * @returns {Promise<void>}\n     */\n    public ngOnInit(): void { }\n\n}\n","<div class=\"parent\" [class.active]=\"open\">\n    <div class=\"modal-cover\" (click)=\"close.emit()\"></div>\n    <div class=\"modal position-center\">\n        <div class=\"inner\">\n            <div *ngIf=\"layout\">\n                <div class=\"box bg-white\">\n                    <div class=\"modal-body mb-middle\">\n                        <ng-content></ng-content>\n                    </div>\n                    <div class=\"prev-link\">\n                        <a (click)=\"close.emit()\">\n                            <app-icon iconName=\"close-black\" width=\"15\" height=\"15\"></app-icon>閉じる</a>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"!layout\">\n                <ng-content select=\"[inner]\"></ng-content>\n            </div>\n        </div>\n        <div class=\"close-button\">\n            <a class=\"modal-close\" (click)=\"close.emit()\"></a>\n        </div>\n    </div>\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n    selector: 'app-modal',\n    templateUrl: './modal.component.html',\n    styleUrls: ['./modal.component.scss']\n})\nexport class ModalComponent implements OnInit {\n    @Input() public open: boolean;\n    @Input() public layout: boolean;\n    @Output() public close = new EventEmitter();\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n}\n","<div class=\"button next-button blue-button\">\n    <button type=\"submit\">\n        <app-icon iconName=\"next-white\" width=\"15\" height=\"15\"></app-icon><ng-content></ng-content>\n    </button>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-next-button',\n    templateUrl: './next-button.component.html',\n    styleUrls: ['./next-button.component.scss']\n})\nexport class NextButtonComponent implements OnInit {\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n}\n","<li class=\"button white-button {{ availability.className }}\" (click)=\"start()\">\n    <dl>\n        <dt>\n            <div class=\"text-left\">\n                <div class=\"large-text mb-x-small\">\n                    <strong>{{ data.startDate | timeFormat: data.coaInfo?.dateJouei }}</strong>\n                </div>\n                <div>～{{ data.endDate | timeFormat: data.coaInfo?.dateJouei }}</div>\n            </div>\n            <div class=\"text-center small-x-text status\">\n                <div class=\"mb-x-small text\">{{ availability.text }}</div>\n                <div class=\"image\"></div>\n            </div>\n        </dt>\n        <dd class=\"small-text text-center\">\n            <div class=\"screen-name\">{{ data.location.name.ja }}</div>\n        </dd>\n    </dl>\n</li>","import { Component, Input, OnInit } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport { environment } from '../../../../environments/environment';\n\ninterface Iavailability {\n    text: string;\n    className: string;\n}\n\n@Component({\n    selector: 'app-purchase-film-order-performance',\n    templateUrl: './purchase-film-order-performance.component.html',\n    styleUrls: ['./purchase-film-order-performance.component.scss']\n})\nexport class PurchaseFilmOrderPerformanceComponent implements OnInit {\n    @Input() public data: factory.chevre.event.screeningEvent.IEvent;\n    public availability: Iavailability;\n\n    constructor() { }\n\n    public ngOnInit() {\n        const availability = (this.data.offers === undefined) ? undefined : this.data.offers.availability;\n        this.availability = this.getAvailability(availability);\n    }\n\n    /**\n     * @method getAvailability\n     * @param {number | null} availability\n     * @returns {Iavailability}\n     */\n    public getAvailability(availability?: number | factory.chevre.itemAvailability): Iavailability {\n        const availabilityList = [\n            {\n                text: '満席',\n                className: 'vacancy-full'\n            },\n            {\n                text: '残りわずか',\n                className: 'vacancy-little'\n            },\n            {\n                text: '空席あり',\n                className: 'vacancy-large'\n            }\n        ];\n\n        return (availability === 0 || availability === undefined)\n            ? availabilityList[0] : (availability <= 10)\n                ? availabilityList[1] : availabilityList[2];\n    }\n\n    /**\n     * @method start\n     * @returns {void}\n     */\n    public start(): void {\n        const availability = (this.data.offers === undefined) ? undefined : this.data.offers.availability;\n        if (availability === 0 || availability === undefined) {\n            return;\n        }\n        location.href = `${environment.ENTRANCE_SERVER_URL}/purchase/index.html?id=${this.data.identifier}`;\n    }\n\n}\n","<li class=\"performance mb-x-small\">\n    <dl>\n        <dt>\n            <div class=\"mb-x-small\">\n                <strong>{{ title }}</strong>\n            </div>\n            <div class=\"small-text\">{{ duration | duration: 'minutes' }}分</div>\n        </dt>\n        <dd>\n            <ul>\n                <app-purchase-film-order-performance *ngFor=\"let film of data.films\" [data]=\"film\"></app-purchase-film-order-performance>\n            </ul>\n        </dd>\n    </dl>\n</li>","import { Component, Input, OnInit } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\n\ninterface IFilmOrder {\n    id: string;\n    films: factory.chevre.event.screeningEvent.IEvent[];\n}\n\n@Component({\n    selector: 'app-purchase-film-order',\n    templateUrl: './purchase-film-order.component.html',\n    styleUrls: ['./purchase-film-order.component.scss']\n})\nexport class PurchaseFilmOrderComponent implements OnInit {\n    @Input() public data: IFilmOrder;\n    public title: string;\n    public duration: string;\n\n    constructor() { }\n\n    public ngOnInit() {\n        const film = this.data.films[0];\n        this.title = film.name.ja;\n        this.duration = (film.workPerformed === undefined\n            || film.workPerformed.duration === undefined\n            || film.workPerformed.duration === null)\n            ? '' : film.workPerformed.duration;\n    }\n\n}\n","<div class=\"box radius bg-ultra-light-gray small-x-text notes \">\n    <ol>\n        <li>\n            1. {{ ordinance }}の定めにより、18歳未満及び高校生の方は終映が{{ limit }}を過ぎる上映回のﾁｹｯﾄをご購入頂けません。また保護者同伴でもご入場頂けません。\n        </li>\n        <li>\n            2. チケット購入はクレジット決済のみとなり、発券の際には予約番号、電話番号が必要となります。\n        </li>\n        <li>\n            3. 決済をしてご購入いただいたチケットは、上映中止・もしくは上映延期とならない限り、交通渋滞・電車遅延などいかなる理由があっても、チケットのキャンセル・変更・払い戻しは一切致しません。\n        </li>\n        <li>\n            4. 上映中止・および上映延期の場合の旅費などは補償いたしません。\n        </li>\n        <li>\n            5. 学生料金・シニア料金の各チケットを購入された方は、ご入場時にチケットと一緒に、以下の証明書をご提示頂きます。\n            <ul class=\"note_child\">\n                <li>・学生の方は、学校長発行の学生証または生徒手帳。</li>\n                <li>・シニアの方は、生年月日が確認できる公的機関発行の証明書。</li>\n                <li>・ハンディキャップの方は、障害者手帳。</li>\n            </ul>\n            ご提示いただけない場合は、一般料金との差額をいただきます。\n        </li>\n        <li>\n            6. その他の利用規約についても同意します。\n        </li>\n        <li class=\"ticket-app-hide\">\n            7. 購入完了ページに表示される予約番号はチケットの発券に必要となりますのでメモをとるなどして、必ずお控えください。\n        </li>\n        <li class=\"ticket-app-show\">\n            7. 購入完了ページに表示される予約番号はメモを取るなどして、必ずお控えください\n        </li>\n    </ol>\n</div>","import { Component, Input, OnInit } from '@angular/core';\n\nconst PURCHASE_NOTE = {\n    '01': { ordinance: '東京都青少年健全育成条例', limit: '23:00' },\n    '02': { ordinance: '東京都青少年健全育成条例', limit: '23:00' },\n    '06': { ordinance: '静岡県青少年健全育成条例', limit: '23:00' },\n    '07': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '08': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '09': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '10': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '12': { ordinance: '徳島県青少年健全育成条例', limit: '23:00' },\n    '13': { ordinance: '茨城県青少年健全育成条例', limit: '23:00' },\n    '14': { ordinance: '石川県青少年健全育成条例', limit: '23:00' },\n    '15': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '16': { ordinance: '奈良県青少年健全育成条例', limit: '23:00' },\n    '17': { ordinance: '山口県青少年健全育成条例', limit: '23:00' },\n    '18': { ordinance: '鹿児島県青少年保護育成条例', limit: '23:00' },\n    '19': { ordinance: '千葉県青少年健全育成条例', limit: '23:00' },\n    '20': { ordinance: '東京都青少年健全育成条例', limit: '23:00' }\n};\n\n@Component({\n    selector: 'app-purchase-note',\n    templateUrl: './purchase-note.component.html',\n    styleUrls: ['./purchase-note.component.scss']\n})\nexport class PurchaseNoteComponent implements OnInit {\n\n    @Input() public theaterCode: string;\n    public ordinance: string;\n    public limit: string;\n    constructor() { }\n\n    public ngOnInit() {\n        this.ordinance = '';\n        this.limit = '';\n        if ((<any>PURCHASE_NOTE)[this.theaterCode] !== undefined) {\n            this.ordinance = (<any>PURCHASE_NOTE)[this.theaterCode].ordinance;\n            this.limit = (<any>PURCHASE_NOTE)[this.theaterCode].limit;\n        }\n    }\n\n}\n","<div class=\"steps not-print\">\n    <ul>\n        <li class=\"step step-01\" [class.active]=\"url === '/purchase/seat'\"><div class=\"text\">座席選択</div></li>\n        <li class=\"step step-02\" [class.active]=\"url === '/purchase/ticket'\"><div class=\"text\">券種選択</div></li>\n        <li class=\"step step-03\" [class.active]=\"url === '/purchase/input'\"><div class=\"text\">情報入力</div></li>\n        <li class=\"step step-04\" [class.active]=\"url === '/purchase/confirm'\"><div class=\"text\">確認</div></li>\n        <li class=\"step step-05\" [class.active]=\"url === '/purchase/complete'\"><div class=\"text\">購入完了</div></li>\n    </ul>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\n\n@Component({\n    selector: 'app-purchase-step',\n    templateUrl: './purchase-step.component.html',\n    styleUrls: ['./purchase-step.component.scss']\n})\nexport class PurchaseStepComponent implements OnInit {\n    public url: string;\n    constructor(\n        private router: Router\n    ) { }\n\n    public ngOnInit() {\n        this.changePage(this.router.url);\n        this.router.events.subscribe((event) => {\n            if (event instanceof NavigationEnd) {\n                this.changePage(event.url);\n            }\n        });\n    }\n\n    /**\n     * ページ変更\n     * @method changePage\n     */\n    private changePage(url: string) {\n        this.url = url;\n    }\n\n}\n","<div class=\"box bg-ultra-light-gray term small-x-text\">\n    <p>\n        【オンライン利用規約】\n        <br>\n        <br>前文\n        <br>　 佐々木興業株式会社(以下、「当社」とします)は、「オンライン先売りチケットサービス」（以下「本サービス」とします)をご利用いただく際に、次の利用規約(以下「本規約」とします)を設けております。本規約をご承諾の上、本サービスをご利用ください。\n        <br>\n        <br>第1条　本サービスの内容と利用条件\n        <br>・ 本サービスは、当社が運営する映画館で上映を行う映画の観賞チケットを当社が運営しているサイト(以下、「当サイト」とします)にて事前予約販売するものです。\n        <br>・ 本サービスをご利用頂くには本規約への同意が必要となります。\n        <br>・ お客様が本規約のすべての条項に同意されない場合は本サービスをご利用頂けません。\n        <br>　 また、お客様が本規約に違反した場合にはご利用をお断りすることがあります。\n        <br>・ お客様自身の責任においてコンピューター・携帯電話の操作およびインターネット利用ができ、本サービスを利用するために必要なインターネット環境の適切な設定、文字(日本語表示)やメール等の諸設定がなされている方を対象にしています。また上記条件を満たしていても、誤操作やネット環境の事情によって本サービスが正常に動作しない場合、それらがもたらす諸影響について当社は一切責任を負いません。\n        <br>・ インターネット利用の一般的なマナー、モラルを遵守して頂きます。当社が不適切と判断する行為を行うお客様には本サービスのご利用をお断りすることがあります。\n        <br>・ 未成年者が本サービスを利用する場合、親権者または後見人の同意の上ご利用ください。未成年者が本サービスを利用された場合は、本サービスの全ての事項について親権者または後見人の同意があったものとみなします。\n        <br>\n        <br>第2条　本サービス・規約の変更／中断／中止について\n        <br>・ 当社は事前の通告無しに本サービス、本規約の変更をすることがあります。本サービスをご利用の際は必ずサービス内容・本規約をご確認ください。内容変更後は変更後の内容のみを有効とさせて頂きます。\n        <br>・ 当社は以下の理由によりお客様に通告無しに本サービスの全部又は一部を中断、中止できるものとします。\n        <br>　 1.本サービスに係るシステムの定期的または突発的な理由による保守・点検を行う場合\n        <br>　 2.天災、事変、その他の非常事態の発生により本サービスの提供が困難になった場合\n        <br>　 3.当社以外の第三者の妨害によって本サービスの提供が困難になった場合\n        <br>　 4.その他、当社が本サービスの運営上必要と判断した場合\n        <br>・ 当社は理由の如何を問わず、本サービスの提供の中断または中止によって生じたお客様の損害につき、一切責任を負わないものとします。\n        <br>\n        <br>第3条　禁止行為\n        <br>　 1.他のお客様、第三者または当社に不利益もしくは損害を与える行為、および与えるおそれのある行為\n        <br>　 2.他のお客様、第三者または当社を誹謗中傷する行為\n        <br>　 3.犯罪的行為、もしくは犯罪的行為に結び付く行為、またはそのおそれのある行為\n        <br>　 4.法令に違反する、または違反するおそれのある行為\n        <br>　 5.公序良俗に反する行為、もしくはそのおそれのある行為、または公序良俗に反する情報を他のお客様または第三者に提供する行為\n        <br>　 6.性風俗、宗教、政治に関する行為\n        <br>　 7.権利者の承諾を得ないで、いかなる方法においても、本サービスを通じて提供される情報・著作物について著作権法で定める個人の私的利用の範囲を超えて使用すること\n        <br>　 8.本サービスを通じて、もしくは本サービスに関連して、営利を目的とする行為、またはその準備を目的とした行為\n        <br>　 9.コンピューターウイルスなどの有害なプログラムを、本サービスを通じて、もしくは本サービスに関連して使用する、提供する行為\n        <br>　 10.当社から購入した電子チケットを、営利を目的として第三者に転売、または転売のために第三者に提供する行為\n        <br>　 11.その他、当社が不適切と判断する行為\n        <br>\n        <br>第4条　チケット販売について\n        <br>・ 本サービスご利用にあたって「氏名」「連絡先」「メールアドレス」「クレジットカード番号」「電話番号」などの個人情報を入力していただきます。個人情報が不正確・虚偽がある場合はお申込みを無効とさせて頂きます。\n        <br>・ 本サービスは、当サイトに掲載されている上映作品、上映時間のうち販売画面で選択可能なもののチケットのみご購入頂けます。一部上映作品、上映時間については取扱いがない場合があります。\n        <br>・ 本サービスはシステムメンテナンスによるサービス提供の中断及び第2条で定める場合をのぞき、24時間営業を行っております。メンテナンスを行う際は事前に当サイトにて告知しますが、第2条で定める通りやむをえない場合は事前の通告無しにサービスを中断します。\n        <br>・ 本サービスは当社規定の料金体系に基づくことを前提とします。尚、対象券種は当社が決定するものとし、お客様への事前の通告なしに変更できるものとします。\n        <br>　 ※各種証明書のご提示が必要な券種は、ご鑑賞当日、入場口にて確認させて頂きます。詳しくは第7条でご確認ください。\n        <br>・ ご予約の受付はご鑑賞日2日前から上映開始1時間前までです。1回の購入申込みで購入出来る枚数に制限が付きます。制限枚数は、その都度変更されます。制限枚数以上購入の場合は複数の購入操作が必要となります。複数の購入申込みを行った場合、座席は購入操作ごとで離れたお席になります。\n        <br>・ 映画倫理規定管理委員会の定めたレイティング(鑑賞年齢制限)の定められた作品では該当のお客様のご利用をお断りすることがあります。制限年齢に達しないお客様が誤って購入したチケットの返金・交換は一切受付けておりません。\n        <br>・ {{ ordinance }}の定めにより、18歳未満及び高校生の方は終映が{{ limit }}を過ぎる上映回のチケットをご購入頂けません。また保護者同伴でもご入場頂けません。\n        <br>・ 本サービスにおける売買契約の成立は、入力頂いた内容に基づきクレジット決済与信手続が終了した時点とします。発券の際には本サービス発行の「予約番号」、お客様入力の「電話番号」が必要となります。\n        <br>・ 購入完了画面表示後はお客様の都合による上映作品の日時の変更、購入の取消、チケットの払い戻しはできないものとします。また、交通渋滞による遅延などその他いかなる場合でも、上映作品の日時変更、購入の取消、チケットの払い戻しは受付けません。なお、チケットはクーリングオフの対象外となっております。\n        <br>・ 当社からご購入の予約番号の記載された確認のメールを送信します。当サイトの指定項目の記入漏れ、メールアドレスの誤入力、文字化けなどにより確認のメールが送信できない場合、確認メールの不達、遅達について当社は一切の責任を負わないものとします。\n        <br>・ 上映劇場はやむをえず変更になる場合があります。上映劇場の変更やその他の理由により予約座席が変更となる場合があります。\n        <br>・ 上映時間に著しく遅れられてのご入場は他のお客様のご迷惑になりますのでご入場をお断りすることがあります。\n        <br>・ 不可抗力による上映中止の場合は、所定の期間内に限り所定の方法にて払い戻しを行います。払い戻しの対象はチケット代金のみとなります。お客様都合による払い戻しはできません。\n        <br>\n        <br>第5条　決済方法\n        <br>・ 本サービスの支払い方法はクレジットカード決済になります。国内発行かつ当社指定のクレジットカード(VISA,Master Card,JCB,American express,Diners Club)をお持ちのお客様のみご利用頂けます。\n        <br>・ チケット購入手続きの際の虚偽入力、誤入力もしくは入力漏れ、またはクレジットカード会社の規約違反等によりクレジットカード決済ができない場合は、チケットの購入は無効とさせて頂きます。クレジットカードのお取扱いができない場合には、クレジット会社に直接お問い合わせください。\n        <br>・ クレジットカード利用によるトラブルについて当社は一切の責任を負いません。\n        <br>・ その他、本サービスにおけるクレジットカード決済に関する事項は、クレジット会社における利用規約に準じます。\n        <br>\n        <br>第6条　発券方法\n        <br>・ チケットの発券方法は以下2通りからお選び頂けます。\n        <br>　 上映当日に劇場備え付けの「自動発券機」に「予約番号」とお客様が設定された「電話番号」を入力するとチケットを発券頂けます。\n        <br>　 またはチケット情報確認画面へアクセス頂き、「チケットを購入した劇場」「予約番号」「電話番号」を入力してログインし、 ご鑑賞時間の24時間前から入場用QRコードチケットを取得して頂けます。\n        <br>　 いずれかのチケットをご持参頂きご入場ください。\n        <br>　 予約番号、電話番号を失念された場合は劇場スタッフにお申し付けください。入力された個人情報が確認できない場合、発券できないことがあります。\n        <br>・ チケットは如何なる場合(紛失・盗難・破損など)でも再発行致しません。\n        <br>\n        <br>第7条　身分証明書の提示\n        <br>・ 本サービスで購入された「学生」、「シニア」、「ハンディキャップ」のチケットについて当該チケットの引渡しを受けたお客様は、ご入場時、身分証明書の提示が必要です。提示がない場合は一般料金との差額を頂きます。\n        <br>・ 各種割引チケットで必要な証明書は以下の通りです。\n        <br>　 「学生」：学校長発行の学生証または生徒手帳\n        <br>　 ※「学生」・・・大学生、専門学校生、高等専門学校生、高等学校生を指します。\n        <br>　 「シニア」：生年月日又は年齢について記載のある公的機関発行の身分証明書(運転免許証など)\n        <br>　 「ハンディキャップ」：障害者手帳\n        <br>\n        <br>第8条　個人情報の取扱い\n        <br>・ 当社は、別途掲載する「プライバシーポリシー」と本条項に基づきお客様の個人情報を取扱うものとし、お客様は「プライバシーポリシー」と本条項を確認し同意の上、本サービスをご利用頂くものとします。\n        <br>・ 本サービスにて入力頂く個人情報は、お客様に本サービスを円滑に提供するため収集するものです。\n        <br>・ 本サービスは、個人情報の入力及びクレジット決済時にあたり、情報を第三者に傍受されないよう暗号化する方式(SSL)を採用して個人情報の保護に努めておりますが、その方式にも限界があり100％安全性を保証できるわけではありません。データへの不正アクセスほか、いかなる方法でトラブルが生じた場合でも一切責任を負わないものとします。\n        <br> ※SSLとはSecure Socket Layerの略で、インターネット上でやり取りされているデータ(個人名、住所、電話番号などの個人情報や企業の機密情報など)を暗号・複合化し、第三者からデータを覗かれないようにする通信技術のことです。SSLでは、暗号化は送信側で通信データをパケットに分割する前に行われ、複合化は受信パケットを組み合わせた後に行われます。このため通信中のデータはすべて解読困難な形になっています。ただし、暗号化された情報を複合することは、例えそれが解読に膨大な時間がかかるような極めて難しい計算を要したとしても理論上は可能であり、データへの不正アクセスが100%起こらないとは言い切れません。\n        <br>\n        <br>第9条　著作権\n        <br>・ お客様は権利者の同意を得ずして本サービスを通して提供される情報などについて著作権法で定める私的利用の範囲を超えて使用することは出来ません。\n        <br>・ 前項の規定に関わらず、権利者とお客様の間で問題が生じた場合は、お客様は自己の責任と費用において問題解決に当たっていただきます。\n        <br>\n        <br>第10条　業務の委託\n        <br>・ 当社は本サービスの提供に必要な業務の全部又は一部を、当社が適切と判断するところに従い、第三者に委託して行わせることができるものとします。\n        <br>\n        <br>第11条　免責\n        <br>・ 当社は本サービス内容の正確性確保に鋭意努めますが、本サービス内容およびお客様が本サービスを通じて得る情報等の完全性、正確性、確実性、有用性等については如何なる保証も行いません。\n        <br>・ 当サイトの利用・閲覧はお客様の責任で行うものとします。当サイトへのアクセス、画像などのデータをダウンロードすることにより、お客様のコンピューター機器等が損害を被った場合、又はウイルスに感染された場合であっても当社は一切の責任を負いません。\n        <br>・ 上映中止によりチケット料金の払い戻しを行う場合は、原則として払い戻し金額はチケット券面額とします。券面金額以外の費用(クレジットカードの手数料、旅費交通費、通信費等)を当社は一切負担いたしません。\n        <br>・ 当社は本サービスからリンクされている各サイトに含まれている情報、サービス等については一切関知しておらず、一切の責任を負わないものとします。\n        <br>\n        <br>第12条　準拠法及び管轄裁判所\n        <br>・ 本規約の解釈、適用に関わる準拠法は日本法とします。\n        <br>・ 本サービスに関連して、お客様が故意または過失に関わらず、他のお客様、当社、第三者に損害を与えた場合、お客様は自己の費用と責任で損害を賠償するものとします。\n        <br>・ 本サービスに関連してお客様と当社との間で紛争が生じた場合には、双方誠意を持って協議するものとします。\n        <br>・ 前項の協議によっても紛争を解決できない場合は、東京地方裁判所または東京簡易裁判所を専属的合意管轄裁判所とします。\n        <br>\n        <br>第13条　その他\n        <br>・ お客様は、本規約に定めのない事項について、別途当社の定めるところに従うものとします。\n    </p>\n</div>","import { Component, Input, OnInit } from '@angular/core';\n\nconst PURCHASE_TERM = {\n    '01': { ordinance: '東京都青少年健全育成条例', limit: '23:00' },\n    '02': { ordinance: '東京都青少年健全育成条例', limit: '23:00' },\n    '06': { ordinance: '静岡県青少年健全育成条例', limit: '23:00' },\n    '07': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '08': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '09': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '10': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '12': { ordinance: '徳島県青少年健全育成条例', limit: '23:00' },\n    '13': { ordinance: '茨城県青少年健全育成条例', limit: '23:00' },\n    '14': { ordinance: '石川県青少年健全育成条例', limit: '23:00' },\n    '15': { ordinance: '愛媛県青少年健全育成条例', limit: '23:00' },\n    '16': { ordinance: '奈良県青少年健全育成条例', limit: '23:00' },\n    '17': { ordinance: '山口県青少年健全育成条例', limit: '23:00' },\n    '18': { ordinance: '鹿児島県青少年保護育成条例', limit: '23:00' },\n    '19': { ordinance: '千葉県青少年健全育成条例', limit: '23:00' },\n    '20': { ordinance: '東京都青少年健全育成条例', limit: '23:00' }\n};\n\n@Component({\n    selector: 'app-purchase-term',\n    templateUrl: './purchase-term.component.html',\n    styleUrls: ['./purchase-term.component.scss']\n})\nexport class PurchaseTermComponent implements OnInit {\n    @Input() public theaterCode: string;\n    public ordinance: string;\n    public limit: string;\n    constructor() { }\n\n    public ngOnInit() {\n        this.ordinance = '';\n        this.limit = '';\n        if ((<any>PURCHASE_TERM)[this.theaterCode] !== undefined) {\n            this.ordinance = (<any>PURCHASE_TERM)[this.theaterCode].ordinance;\n            this.limit = (<any>PURCHASE_TERM)[this.theaterCode].limit;\n        }\n    }\n\n}\n","<div class=\"radius bg-light-gray\">\n    <div class=\"screen\" [class.zoom]=\"zoomState\" style=\"visibility: visible;\" (window:resize)=\"resize()\">\n        <div [class.active]=\"zoomState\" class=\"zoom-btn text-center\" (click)=\"scaleDown()\">\n            <app-icon iconName=\"zoom-out\" width=\"15\" height=\"15\"></app-icon>\n            <div class=\"small-x-text\" href=\"#\">ズーム\n                <br>解除</div>\n        </div>\n        <div *ngIf=\"data\" class=\"screen-scroll\" \n        [ngStyle]=\"{ \n            'height.px': height,\n            'transform-origin': origin,\n            'transform': 'scale(' + scale + ')'\n        }\">\n            <div class=\"screen-inner {{ data.screenType }}\" \n            [ngStyle]=\"{ 'width.px': data.screen.size.w, 'height.px': data.screen.size.h }\"\n            (click)=\"scaleUp($event)\">\n                \n                <div *ngFor=\"let object of data.objects\" \n                class=\"object\" \n                [ngStyle]=\"{\n                    'width.px': object.w, \n                    'height.px': object.h, \n                    'top.px': object.y, \n                    'left.px': object.x, \n                    'background-image': 'url(' + object.image + ')',\n                    'background-size': object.w + 'px ' +object.h + 'px'\n                }\" ></div>\n                \n                <div *ngFor=\"let columnLabel of data.columnLabels\" \n                class=\"object label-object column-object column-object-{{ columnLabel.id }}\" \n                [ngStyle]=\"{\n                    'width.px': columnLabel.w,\n                    'height.px': columnLabel.h, \n                    'top.px': columnLabel.y, \n                    'left.px': columnLabel.x\n                }\">{{ columnLabel.label }}</div>\n\n                <div *ngFor=\"let lineLabel of data.lineLabels\" \n                class=\"object label-object line-object line-object-{{ lineLabel.id }}\" \n                [ngStyle]=\"{\n                    'width.px': lineLabel.w,\n                    'height.px': lineLabel.h, \n                    'top.px': lineLabel.y, \n                    'left.px': lineLabel.x\n                }\">{{ lineLabel.label }}</div>\n                \n                \n                <div *ngFor=\"let seat of data.seats\" \n                class=\"seat {{ seat.className }}\" \n                [ngStyle]=\"{\n                    'top.px': seat.y, \n                    'left.px': seat.x\n                }\">\n                    <a class=\"{{ seat.status }}\" \n                    [ngStyle]=\"{\n                        'width.px': seat.w,\n                        'height.px': seat.h,\n                        'background-size': seat.w + 'px ' + seat.h + 'px'\n                    }\" (click)=\"seatSelect(seat)\"><span>{{ seat.label }}</span></a>\n                </div>\n            </div>\n        </div>\n        <div class=\"device-type-pc\"></div>\n        <div class=\"device-type-sp\"></div>\n        <div class=\"screen-style\"></div>\n    </div>\n    <div *ngIf=\"data\" class=\"{{ data.screenType }}\">\n        <ng-content></ng-content>\n    </div>\n</div>","import { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport * as COA from '@motionpicture/coa-service';\nimport 'rxjs/add/operator/toPromise';\nimport { ILabel, IObject, IScreen, ISeat } from '../../../models';\nimport { PurchaseService } from '../../../services';\n\ntype IStateReserveSeatResult = COA.services.reserve.IStateReserveSeatResult;\n\n@Component({\n    selector: 'app-screen',\n    templateUrl: './screen.component.html',\n    styleUrls: ['./screen.component.scss']\n})\nexport class ScreenComponent implements OnInit, AfterViewInit {\n    public static ZOOM_SCALE = 1;\n    @Input() public screen: IScreen;\n    @Input() public status: IStateReserveSeatResult;\n    @Output() public select = new EventEmitter<ISeat[]>();\n    @Output() public alert = new EventEmitter();\n    public data: IData;\n    public zoomState: boolean;\n    public scale: number;\n    public height: number;\n    public origin: string;\n\n    constructor(\n        private elementRef: ElementRef,\n        private purchase: PurchaseService\n    ) { }\n\n    /**\n     * 初期化\n     */\n    public ngOnInit() {\n        this.zoomState = false;\n        this.scale = 1;\n        this.height = 0;\n        this.origin = '0 0';\n        this.data = this.createScreen({\n            screen: this.screen,\n            status: this.status\n        });\n    }\n\n    /**\n     * レンダリング後処理\n     */\n    public ngAfterViewInit() {\n        const time = 300;\n        const timer = setInterval(() => {\n            if (this.data !== undefined) {\n                clearInterval(timer);\n                const screenElement = document.querySelector('.screen-style');\n                if (screenElement !== null && this.data.screen.style !== undefined) {\n                    screenElement.innerHTML = this.data.screen.style;\n                }\n                this.scaleDown();\n            }\n        }, time);\n    }\n\n    /**\n     * モバイル判定\n     * @method isMobile\n     * @returns {boolean}\n     */\n    public isMobile(): boolean {\n        if (window.innerWidth > 768) {\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * 選択座席取得\n     * @method getSelectSeats\n     * @returns {Iseat[]}\n     */\n    public getSelectSeats(): ISeat[] {\n        return this.data.seats.filter((seat) => {\n            return (seat.status === 'active');\n        });\n    }\n\n    /**\n     * 座席選択\n     * @method seatSelect\n     * @param {Event} event\n     * @param {Iseat} seat\n     */\n    public seatSelect(seat: ISeat) {\n        if (this.isMobile() && !this.zoomState) {\n            return;\n        }\n        const screeningEvent = this.purchase.data.screeningEvent;\n        if (seat.status === 'default') {\n            seat.status = 'active';\n        } else if (seat.status === 'active') {\n            seat.status = 'default';\n        }\n\n        if (screeningEvent === undefined\n            || screeningEvent.coaInfo === undefined\n            || screeningEvent.coaInfo.availableNum < this.getSelectSeats().length) {\n            seat.status = 'default';\n            this.alert.emit();\n\n            return;\n        }\n        this.select.emit(this.getSelectSeats());\n    }\n\n    /**\n     * 拡大\n     * @method scaleUp\n     * @param {Event} event\n     * @returns {void}\n     */\n    public scaleUp(event: MouseEvent) {\n        if (this.zoomState) {\n            return;\n        }\n        if (!this.isMobile()) {\n            return;\n        }\n        this.zoomState = true;\n        const element: HTMLElement = this.elementRef.nativeElement;\n        const screen = <HTMLDivElement>element.querySelector('.screen');\n        const scroll = <HTMLDivElement>element.querySelector('.screen-scroll');\n        const rect = scroll.getBoundingClientRect();\n        const scrollTop = window.pageYOffset || (<HTMLElement>document.documentElement).scrollTop;\n        const scrollLeft = window.pageXOffset || (<HTMLElement>document.documentElement).scrollLeft;\n        const offset = {\n            top: rect.top + scrollTop,\n            left: rect.left + scrollLeft\n        };\n        const pos = {\n            x: event.pageX - offset.left,\n            y: event.pageY - offset.top\n        };\n        const scrollPos = {\n            x: pos.x / this.scale - screen.offsetWidth / 2,\n            y: pos.y / this.scale - screen.offsetHeight / 2,\n        };\n        this.scale = ScreenComponent.ZOOM_SCALE;\n        this.origin = '50% 50%';\n\n        setTimeout(() => {\n            scroll.scrollLeft = scrollPos.x;\n            scroll.scrollTop = scrollPos.y;\n        }, 0);\n    }\n\n    /**\n     * 縮小\n     * @method scaleDown\n     * @returns {void}\n     */\n    public scaleDown(): void {\n        const element: HTMLElement = this.elementRef.nativeElement;\n        const screen = <HTMLDivElement>element.querySelector('.screen');\n        this.zoomState = false;\n        const scale = screen.offsetWidth / this.data.screen.size.w;\n        this.scale = (scale > ScreenComponent.ZOOM_SCALE) ? ScreenComponent.ZOOM_SCALE : scale;\n        this.height = this.data.screen.size.h * this.scale;\n        this.origin = '0 0';\n    }\n\n    /**\n     * リサイズ処理\n     * @method resize\n     */\n    public resize(): void {\n        this.scaleDown();\n    }\n\n    /**\n     * スクリーン作成\n     */\n    public createScreen(data: {\n        screen: IScreen,\n        status: IStateReserveSeatResult\n    }) {\n        // console.log(data.screen);\n        const screenData = data.screen;\n        const seatStatus = data.status;\n        // y軸ラベル\n        const labels: string[] = [];\n        const startLabelNo = 65;\n        const endLabelNo = 91;\n        for (let i = startLabelNo; i < endLabelNo; i++) {\n            labels.push(String.fromCharCode(i));\n        }\n        // 行ラベル\n        const lineLabels: ILabel[] = [];\n        // 列ラベル\n        const columnLabels: ILabel[] = [];\n        // 座席リスト\n        const seats: ISeat[] = [];\n\n        const toFullWidth = (value: string) => {\n            return value.replace(/./g, (s: string) => {\n                return String.fromCharCode(s.charCodeAt(0) + 0xFEE0);\n            });\n        };\n        const pos = { x: 0, y: 0 };\n        let labelCount = 0;\n        for (let y = 0; y < screenData.map.length; y++) {\n            if (y === 0) {\n                pos.y = 0;\n            }\n            // ポジション設定\n            if (y === 0) {\n                pos.y += screenData.seatStart.y;\n            } else if (screenData.map[y].length === 0) {\n                pos.y += screenData.aisle.middle.h - screenData.seatMargin.h;\n            } else {\n                labelCount++;\n                pos.y += screenData.seatSize.h + screenData.seatMargin.h;\n            }\n\n            for (let x = 0; x < screenData.map[y].length; x++) {\n                if (x === 0) {\n                    pos.x = screenData.seatStart.x;\n                }\n\n                // 座席ラベルHTML生成\n                if (x === 0) {\n                    lineLabels.push({\n                        id: labelCount,\n                        w: screenData.seatSize.w,\n                        h: screenData.seatSize.h,\n                        y: pos.y,\n                        x: pos.x - screenData.seatLabelPos,\n                        label: labels[labelCount]\n                    });\n                }\n\n                if (screenData.map[y][x] === 8) {\n                    pos.x += screenData.aisle.middle.w;\n                } else if (screenData.map[y][x] === 9) {\n                    pos.x += screenData.aisle.middle.w;\n                } else if (screenData.map[y][x] === 10) {\n                    pos.x += (screenData.seatSize.w / 2) + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 11) {\n                    pos.x += (screenData.seatSize.w / 2) + screenData.seatMargin.w;\n                }\n\n                // 座席番号HTML生成\n                if (y === 0) {\n\n                    const label = (data.screen.seatNumberAlign === 'left')\n                        ? String(x + 1)\n                        : String(screenData.map[0].length - x);\n                    columnLabels.push({\n                        id: x,\n                        w: screenData.seatSize.w,\n                        h: screenData.seatSize.h,\n                        y: pos.y - screenData.seatNumberPos,\n                        x: pos.x,\n                        label: label\n                    });\n\n                }\n                if (screenData.map[y][x] === 1\n                    || screenData.map[y][x] === 4\n                    || screenData.map[y][x] === 5\n                    || screenData.map[y][x] === 8\n                    || screenData.map[y][x] === 10) {\n                    // 座席あり\n                    // 座席HTML生成\n                    const code = (data.screen.seatNumberAlign === 'left')\n                        ? `${toFullWidth(labels[labelCount])}－${toFullWidth(String(x + 1))}`\n                        : `${toFullWidth(labels[labelCount])}－${toFullWidth(String(screenData.map[y].length - x))}`;\n                    const label = (data.screen.seatNumberAlign === 'left')\n                        ? `${labels[labelCount]}${String(x + 1)}`\n                        : `${labels[labelCount]}${String(screenData.map[y].length - x)}`;\n                    const seatSize = { w: screenData.seatSize.w, h: screenData.seatSize.h };\n                    const seatPosition = { x: pos.x, y: pos.y };\n                    let className = `seat-${label} seat-${label.slice(0, 1)}`;\n                    let section = '';\n                    let status = 'disabled';\n                    let seatType = 'standard';\n                    const spseatAdd1 = 0;\n                    const spseatAdd2 = 0;\n                    const spseatKbn = '000';\n                    for (const listSeat of seatStatus.listSeat) {\n                        const targetSeat = listSeat.listFreeSeat.find((freeSeat) => {\n                            return (freeSeat.seatNum === code);\n                        });\n                        if (targetSeat !== undefined) {\n                            section = listSeat.seatSection;\n                            status = 'default';\n                            // spseatAdd1 = targetSeat.spseatAdd1;\n                            // spseatAdd2 = targetSeat.spseatAdd2;\n                            // spseatKbn = targetSeat.spseatKbn;\n                            break;\n                        }\n                    }\n                    // 選択中\n                    if (this.purchase.data.tmpSeatReservationAuthorization !== undefined) {\n                        const targetOffer = this.purchase.data.tmpSeatReservationAuthorization.object.acceptedOffer.find((offer) => {\n                            return (offer.seatNumber === code);\n                        });\n                        if (targetOffer !== undefined) {\n                            section = targetOffer.seatSection;\n                            status = 'active';\n                        }\n                    }\n\n                    if (screenData.hc.indexOf(label) !== -1) {\n                        // 車椅子\n                        className += ' seat-hc';\n                        seatType = 'hc';\n                    }\n                    screenData.specialSeats.forEach((specialSeat) => {\n                        // 特別席\n                        if (specialSeat.data.indexOf(label) === -1) {\n                            return;\n                        }\n                        const config = screenData.specialSeatConfig.find(c => c.name === specialSeat.name);\n                        if (config === undefined) {\n                            return;\n                        }\n                        className += ` ${config.className}`;\n                        seatType = config.name;\n                        seatSize.w = config.size.w;\n                        seatSize.h = config.size.h;\n                        seatPosition.y = pos.y - (config.size.h - screenData.seatSize.h);\n                    });\n\n                    const seat = {\n                        className,\n                        w: seatSize.w,\n                        h: seatSize.h,\n                        y: seatPosition.y,\n                        x: seatPosition.x,\n                        label,\n                        status,\n                        seatType,\n                        coaInfo: {\n                            seatNum: code,\n                            section,\n                            spseatAdd1,\n                            spseatAdd2,\n                            spseatKbn\n                        }\n                    };\n                    seats.push(seat);\n                    // x軸の座席の大きさによるズレを調整\n                    screenData.specialSeats.forEach((specialSeat) => {\n                        // 特別席\n                        if (specialSeat.data.indexOf(label) === -1) {\n                            return;\n                        }\n                        const config = screenData.specialSeatConfig.find(c => c.name === specialSeat.name);\n                        if (config === undefined) {\n                            return;\n                        }\n                        pos.x += config.size.w - screenData.seatSize.w;\n                    });\n                }\n                // ポジション設定\n                if (screenData.map[y][x] === 2) {\n                    pos.x += screenData.aisle.middle.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 3) {\n                    pos.x += screenData.aisle.small.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 4) {\n                    pos.x += screenData.aisle.middle.w + screenData.seatSize.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 5) {\n                    pos.x += screenData.aisle.small.w + screenData.seatSize.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 6) {\n                    pos.x += screenData.aisle.middle.w + screenData.seatSize.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 7) {\n                    pos.x += screenData.aisle.small.w + screenData.seatSize.w + screenData.seatMargin.w;\n                } else {\n                    pos.x += screenData.seatSize.w + screenData.seatMargin.w;\n                }\n            }\n        }\n        // スクリーンタイプ\n        const screenType = (screenData.type === 1)\n            ? 'screen-imax' : (screenData.type === 2)\n                ? 'screen-4dx' : '';\n\n        return {\n            screen: screenData,\n            objects: screenData.objects,\n            screenType: screenType,\n            lineLabels: (data.screen.lineLabel) ? lineLabels : [],\n            columnLabels: (data.screen.columnLabel) ? columnLabels : [],\n            seats: seats\n        };\n    }\n}\n\nexport interface IData {\n    screen: IScreen;\n    objects: IObject[];\n    screenType: string;\n    lineLabels: ILabel[];\n    columnLabels: ILabel[];\n    seats: ISeat[];\n}\n","<div class=\"seat-info\" [class.screen-4dx]=\"type === '002'\">\n    <div class=\"box radius bg-white\">\n        <div class=\"seat\">\n            <strong>空席</strong>\n        </div>\n        <div class=\"seat active\">\n            <strong>選択済</strong>\n        </div>\n        <div class=\"seat disabled\">\n            <strong>選択不可</strong>\n        </div>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-seat-info',\n  templateUrl: './seat-info.component.html',\n  styleUrls: ['./seat-info.component.scss']\n})\nexport class SeatInfoComponent implements OnInit {\n  @Input() public type: string;\n  constructor() { }\n\n  public ngOnInit() {\n  }\n\n}\n","<div class=\"site-seal d-table\">\n    <div class=\"d-td\">\n        <p class=\"small-x-text\">\n            この画面は、高いセキュリティでプライバシーを保護する為に、SSL暗号化通信を採用しています。\n        </p>\n    </div>\n    <div class=\"d-td\">\n        <table width=\"135\" border=\"0\" cellpadding=\"2\" cellspacing=\"0\" title=\"このマークは、SSL/TLSで通信を保護している証です。\">\n            <tbody>\n                <tr>\n                    <td width=\"135\" align=\"center\" valign=\"top\">\n                        <span>\n                            <img (click)=\"verifySeal()\" style=\"cursor:pointer;cursor:hand\" src=\"https://seal.godaddy.com/images/3/ja/siteseal_gd_3_h_d_m.gif\" alt=\"SSL site seal - click to verify\">\n                        </span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-site-seal',\n    templateUrl: './site-seal.component.html',\n    styleUrls: ['./site-seal.component.scss']\n})\nexport class SiteSealComponent implements OnInit {\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n    public verifySeal() {\n        (<any>window).verifySeal();\n    }\n\n}\n","<div class=\"mb-middle\">\n    <app-screen *ngIf=\"screenData\" [screen]=\"screenData.screen\" [status]=\"screenData.status\"></app-screen>\n</div>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport * as COA from '@motionpicture/coa-service';\nimport { IScreen } from '../../../models';\n\n@Component({\n    selector: 'app-test-screen',\n    templateUrl: './test-screen.component.html',\n    styleUrls: ['./test-screen.component.scss']\n})\nexport class TestScreenComponent implements OnInit {\n    public isLoading: boolean;\n    public screenData: {\n        screen: IScreen;\n        status: COA.services.reserve.IStateReserveSeatResult;\n    };\n    constructor(\n        private activatedRoute: ActivatedRoute,\n        private http: HttpClient\n    ) { }\n\n    public ngOnInit() {\n        this.isLoading = true;\n        this.activatedRoute.params.subscribe(async (params) => {\n            this.screenData = await this.getData({\n                theaterCode: params.theaterCode,\n                dateJouei: '',\n                titleCode: '',\n                titleBranchNum: '',\n                timeBegin: '',\n                screenCode: params.screenCode\n            });\n\n            this.isLoading = false;\n        });\n    }\n\n    /**\n     * データ取得\n     * @method getData\n     */\n    public async getData(params: {\n        theaterCode: string;\n        dateJouei: string;\n        titleCode: string;\n        titleBranchNum: string;\n        timeBegin: string;\n        screenCode: string;\n    }): Promise<{\n        screen: IScreen,\n        status: COA.services.reserve.IStateReserveSeatResult\n    }> {\n        const DIGITS = {\n            '02': -2,\n            '03': -3\n        };\n        const theaterCode = `00${params.theaterCode}`.slice(DIGITS['02']);\n        const screenCode = `000${params.screenCode}`.slice(DIGITS['03']);\n        const screen = await this.http.get<IScreen>(`/json/theater/${theaterCode}/${screenCode}.json`).toPromise();\n        const setting = await this.http.get<IScreen>('/json/theater/setting.json').toPromise();\n\n        const seatStatus = (<any>{ listSeat: [] });\n        // スクリーンデータをマージ\n        return {\n            screen: Object.assign(setting, screen),\n            status: seatStatus\n        };\n    }\n\n}\n","import { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as moment from 'moment';\nimport { environment } from '../../environments/environment';\nimport { TimeFormatPipe } from '../pipes/time-format/time-format.pipe';\nimport { getTicketPrice } from './purchase';\nimport { convertToKatakana, formatTelephone } from './util';\n\n/**\n * 購入完了メール取得\n */\nexport function getPurchaseCompletionEmail(params: {\n    screeningEvent: factory.chevre.event.screeningEvent.IEvent;\n    seller: factory.seller.IOrganization<factory.seller.IAttributes<factory.organizationType>>;\n    seatReservationAuthorization: factory.action.authorize.offer.seatReservation.IAction<factory.service.webAPI.Identifier.COA>;\n    customerContact: factory.person.IProfile;\n}) {\n    return `\n| ${getInfo(params).customer.familyName} ${getInfo(params).customer.givenName} 様\n| この度は、#{order.seller.name}のオンライン先売りチケットサービスにてご購入頂き、誠にありがとうございます。お客様がご購入されましたチケットの情報は下記の通りです。\n|\n| [予約番号]\n| #{order.confirmationNumber}\n|\n| [鑑賞日時]\n| ${getInfo(params).appreciationDate} ${getInfo(params).startDate} - ${getInfo(params).endDate}\n|\n| [作品名]\n| ${getInfo(params).event.name}\n|\n| [スクリーン名]\n| ${getInfo(params).screen.name}\n|\n| [座席]\n| ${getSeat(params)}\n|\n| [合計]\n| ￥#{order.price}\n|\n| 【チケット発券について】\n| チケットの発券/入場方法は2通りからお選び頂けます。\n|\n| <発券/入場方法1 入場用QRコードで入場>\n| 以下のURLよりチケット情報確認画面へアクセス頂き、「チケットを購入した劇場」「予約番号」「お電話番号」を入力してログインしてください。 ご鑑賞時間の24時間前から入場用QRコードが表示されますので、入場時にそちらのQRコードをご提示ください。\n| ${environment.FRONTEND_ENDPOINT}/inquiry/login?theater=${getInfo(params).seller.branchCode}&reserve=#{order.confirmationNumber}\n|\n| <発券/入場方法2 劇場発券機で発券>\n| 劇場に設置されている発券機にて発券頂きます。予約番号をお控えの上ご来場ください。\n| チケットが発券できなかった場合にはチケット売場にお越しください。\n|\n| 【ご注意事項】\n| ・ご購入されたチケットの変更、キャンセル、払い戻しはいかなる場合でも致しかねます。\n| ・チケットの発券にお時間がかかる場合もございますので、お時間の余裕を持ってご来場ください。\n| ・メンバーズカード会員のお客様は、ポイントは付与いたしますので、発券したチケットまたは、表示されたQRコードとメンバーズカードをチケット売場までお持ちくださいませ。\n| ・年齢や学生など各種証明が必要なチケットを購入された方は、入場時にご提示ください。\n| ご提示頂けない場合は、一般料金との差額を頂きます。\n|\n| なお、このメールは、#{order.seller.name}の予約システムでチケットをご購入頂いた方にお送りしておりますが、\n| チケット購入に覚えのない方に届いております場合は、下記お問い合わせ先までご連絡ください。\n| ※なお、このメールアドレスは送信専用となっておりますので、ご返信頂けません。\n| ご不明な点がございましたら、下記番号までお問合わせください。\n|\n| お問い合わせはこちら\n| #{order.seller.name}\n| TEL：${getInfo(params).seller.telephone}\n`;\n}\n\n/**\n * 購入完了メール(スマホアプリ)取得\n */\nexport function getPurchaseCompletionAppEmail(params: {\n    screeningEvent: factory.chevre.event.screeningEvent.IEvent;\n    seller: factory.seller.IOrganization<factory.seller.IAttributes<factory.organizationType>>;\n    seatReservationAuthorization: factory.action.authorize.offer.seatReservation.IAction<factory.service.webAPI.Identifier.COA>;\n    customerContact: factory.person.IProfile;\n    userName: string;\n}) {\n    return `\n| ${getInfo(params).customer.familyName} ${getInfo(params).customer.givenName} 様\n| この度は、#{order.seller.name}のオンライン先売りチケットサービスにてご購入頂き、誠にありがとうございます。お客様がご購入されましたチケットの情報は下記の通りです。\n|\n| [ユーザーID]\n| ${params.userName}\n|\n| [予約番号]\n| #{order.confirmationNumber}\n|\n| [鑑賞日時]\n| ${getInfo(params).appreciationDate} ${getInfo(params).startDate} - ${getInfo(params).endDate}\n|\n| [作品名]\n| ${getInfo(params).event.name}\n|\n| [スクリーン名]\n| ${getInfo(params).screen.name}\n|\n| [座席]\n| ${getSeat(params)}\n|\n| [合計]\n| ￥#{order.price}\n|\n| 【チケット発券について】\n| チケットはシネマサンシャイン公式アプリの購入済みチケットホルダー内に格納されます。\n| ご鑑賞時間の24時間前から入場用QRコードが表示されますので、入場時にそちらのQRコードをご提示ください。\n|\n| また購入済みチケットホルダー内にチケットが表示されなかった場合は、お手数ですが以下のURLよりチケット情報確認画面へアクセス頂き、「チケットを購入した劇場」「予約番号」「お電話番号」を入力してログインしてください。ご鑑賞時間の24時間前から入場用QRコードが表示されます。\n| ${environment.FRONTEND_ENDPOINT}/inquiry/login?theater=${getInfo(params).seller.branchCode}&reserve=#{order.confirmationNumber}\n|\n| または劇場に設置されている発券機にて発券頂きますので予約番号をお控えの上ご来場ください。\n| チケットが発券できなかった場合にはチケット売場にお越しください。\n|\n| 【ご注意事項】\n| ・ご購入されたチケットの変更、キャンセル、払い戻しはいかなる場合でも致しかねます。\n| ・チケットの発券にお時間がかかる場合もございますので、お時間の余裕を持ってご来場ください。\n| ・メンバーズカード会員のお客様は、ポイントは付与いたしますので、発券したチケットまたは、表示されたQRコードとメンバーズカードをチケット売場までお持ちくださいませ。\n| ・年齢や学生など各種証明が必要なチケットを購入された方は、入場時にご提示ください。\n| ご提示頂けない場合は、一般料金との差額を頂きます。\n|\n| なお、このメールは、#{order.seller.name}の予約システムでチケットをご購入頂いた方にお送りしておりますが、\n| チケット購入に覚えのない方に届いております場合は、下記お問い合わせ先までご連絡ください。\n| ※なお、このメールアドレスは送信専用となっておりますので、ご返信頂けません。\n| ご不明な点がございましたら、下記番号までお問合わせください。\n|\n| お問い合わせはこちら\n| #{order.seller.name}\n| TEL：${getInfo(params).seller.telephone}\n`;\n}\n\n/**\n * 情報取得\n */\nfunction getInfo(params: {\n    screeningEvent: factory.chevre.event.screeningEvent.IEvent;\n    seller: factory.seller.IOrganization<factory.seller.IAttributes<factory.organizationType>>;\n    customerContact: factory.person.IProfile;\n}) {\n    const plofile = params.customerContact;\n    const screeningEvent = params.screeningEvent;\n    if (screeningEvent.coaInfo === undefined\n        || params.seller.location === undefined) {\n        throw new Error('status is different');\n    }\n    moment.locale('ja');\n    const timeFormat = new TimeFormatPipe();\n    const familyName = (plofile.familyName === undefined) ? '' : convertToKatakana(plofile.familyName);\n    const givenName = (plofile.givenName === undefined) ? '' : convertToKatakana(plofile.givenName);\n    const seller = {\n        branchCode: params.seller.location.branchCode,\n        telephone: (params.seller.telephone === undefined) ? '' : formatTelephone(params.seller.telephone, 'National')\n     };\n    const screen = { name: screeningEvent.location.name.ja };\n    const event = { name: screeningEvent.name.ja };\n    const appreciationDate = moment(screeningEvent.startDate).format('YYYY年MM月DD日(ddd)');\n    const startDate = timeFormat.transform(screeningEvent.startDate, screeningEvent.coaInfo.dateJouei);\n    const endDate = timeFormat.transform(screeningEvent.endDate, screeningEvent.coaInfo.dateJouei);\n    const inquiryUrl =\n        `${environment.FRONTEND_ENDPOINT}/inquiry/login?theater=${params.seller.location.branchCode}&reserve=#{order.confirmationNumber}`;\n\n    return {\n        customer: {\n            familyName,\n            givenName\n        },\n        seller,\n        screen,\n        event,\n        appreciationDate,\n        startDate,\n        endDate,\n        inquiryUrl\n    };\n}\n\n/**\n * 座席取得\n */\nfunction getSeat(params: {\n    seatReservationAuthorization: factory.action.authorize.offer.seatReservation.IAction<factory.service.webAPI.Identifier.COA>;\n}) {\n    const mapResult = params.seatReservationAuthorization.object.acceptedOffer.map((offer) => {\n        const seatNumber = offer.seatNumber;\n        const ticketName = offer.ticketInfo.ticketName;\n        return `${seatNumber} ${ticketName} ￥${getTicketPrice(offer)}`;\n    });\n\n    return mapResult.join('\\n| ');\n}\n","export * from './util';\nexport * from './email';\nexport * from './purchase';\nexport * from './order';\n","/**\n * 券種金額取得\n */\nexport function getOrderTicketPrice(offer: any) {\n    const ticketInfo = offer.itemOffered.reservedTicket.coaTicketInfo;\n    // const spseatAdd1 = (ticketInfo.spseatAdd1 === undefined) ? 0 : ticketInfo.spseatAdd1;\n    const spseatAdd2 = (ticketInfo.spseatAdd2 === undefined) ? 0 : ticketInfo.spseatAdd2;\n    return (ticketInfo.salePrice + spseatAdd2);\n}\n","/**\n * 券種金額取得\n */\nexport function getTicketPrice(offer: any) {\n    const ticketInfo = offer.ticketInfo;\n    // const spseatAdd1 = (ticketInfo.spseatAdd1 === undefined) ? 0 : ticketInfo.spseatAdd1;\n    const spseatAdd2 = (ticketInfo.spseatAdd2 === undefined) ? 0 : ticketInfo.spseatAdd2;\n    return (ticketInfo.salePrice + spseatAdd2);\n}\n","import * as libphonenumber from 'libphonenumber-js';\n\n/**\n * カタカナをひらがなへ変換\n * @param {string} str\n */\nexport function convertToHiragana(str: string) {\n    return str.replace(/[\\u30a1-\\u30f6]/g, (match) => {\n        const chr = match.charCodeAt(0) - 0x60;\n\n        return String.fromCharCode(chr);\n    });\n}\n\n/**\n * ひらがなをカタカナへ変換\n * @param {string} str\n */\nexport function convertToKatakana(str: string) {\n    return str.replace(/[\\u3041-\\u3096]/g, (match) => {\n        const chr = match.charCodeAt(0) + 0x60;\n\n        return String.fromCharCode(chr);\n    });\n}\n\n/**\n * 電話番号変換\n */\nexport function formatTelephone(telephone: string, format?: libphonenumber.NumberFormat) {\n    if (telephone === undefined) {\n        return '';\n    }\n    const parseNumber = libphonenumber.parse(telephone, 'JP');\n    format = (format === undefined) ? 'International' : format;\n\n    return libphonenumber.format(parseNumber, format).replace(/\\s/g, '');\n}\n","/**\n * DurationPipe\n */\nimport { Pipe, PipeTransform } from '@angular/core';\nimport * as moment from 'moment';\n\n@Pipe({\n    name: 'duration'\n})\nexport class DurationPipe implements PipeTransform {\n\n    /**\n     * 変換\n     * @method transform\n     * @param {any} value\n     * @param {string} format 単位\n     */\n    public transform(value: any, format: string): number {\n        let result: number;\n        switch (format) {\n            case 'milliseconds':\n                result = moment.duration(value).asMilliseconds();\n                break;\n            case 'seconds':\n                result = moment.duration(value).asSeconds();\n                break;\n            case 'minutes':\n                result = moment.duration(value).asMinutes();\n                break;\n            case 'hours':\n                result = moment.duration(value).asHours();\n                break;\n            case 'days':\n                result = moment.duration(value).asDays();\n                break;\n            case 'weeks':\n                result = moment.duration(value).asWeeks();\n                break;\n            case 'months':\n                result = moment.duration(value).asMonths();\n                break;\n            case 'years':\n                result = moment.duration(value).asYears();\n                break;\n            default:\n                result = moment.duration(value).asMilliseconds();\n                break;\n        }\n\n        return result;\n    }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as libphonenumber from 'libphonenumber-js';\n\n@Pipe({\n    name: 'libphonenumberFormat'\n})\nexport class LibphonenumberFormatPipe implements PipeTransform {\n\n    /**\n     * 電話番号変換\n     * @method transform\n     * @param {string} phoneNumber\n     * @param {string} countryCode\n     */\n    public transform(\n        phoneNumber: string,\n        countryCode?: libphonenumber.CountryCode,\n        format?: IFormat): string {\n        countryCode = (countryCode === undefined) ? 'JP' : countryCode;\n        format = (format === undefined) ? 'National' : format;\n        const parsedNumber = libphonenumber.parse(phoneNumber, countryCode);\n        return libphonenumber.format(parsedNumber, format).replace(/\\-/g, '');\n    }\n}\n\ntype IFormat = 'International' | 'E.164' | 'National' | 'RFC3966';\n","/**\n * TimeFormatPipe\n */\nimport { Pipe, PipeTransform } from '@angular/core';\nimport * as moment from 'moment';\n\n@Pipe({\n    name: 'timeFormat'\n})\nexport class TimeFormatPipe implements PipeTransform {\n\n    /**\n     * 時間変換\n     * @method transform\n     * @param {Date | string} screeningTime\n     * @param {string} referenceDate\n     */\n    public transform(screeningTime: Date | string, referenceDate: string | Date): string {\n        const HOUR = 60;\n        const DIGITS = -2;\n        const diff = moment(screeningTime).diff(moment(referenceDate), 'minutes');\n        const hour = (`00${Math.floor(diff / HOUR)}`).slice(DIGITS);\n        const minutes = moment(screeningTime).format('mm');\n\n        return `${hour}:${minutes}`;\n    }\n\n}\n","/**\n * AwsCognitoService\n */\nimport { Injectable } from '@angular/core';\nimport * as AWS from 'aws-sdk';\nimport * as moment from 'moment';\nimport { environment } from '../../../environments/environment';\nimport { SaveType, StorageService } from '../storage/storage.service';\n\n@Injectable()\nexport class AwsCognitoService {\n    public static REGION: string = environment.COGNITO_REGION;\n    public static IDENTITY_POOL_ID: string = environment.COGNITO_IDENTITY_POOL_ID;\n    public static USER_POOL_ID: string = environment.COGNITO_USER_POOL_ID;\n    public static CLIENT_ID: string = environment.COGNITO_CLIENT_ID;\n\n    public credentials: AWS.CognitoIdentityCredentials;\n\n    constructor(\n        private storage: StorageService\n    ) {\n    }\n\n    /**\n     * 端末IDで認証\n     * @method authenticateWithDeviceId\n     * @returns {Promise<void>}\n     */\n    public async authenticateWithDeviceId(deviceId?: string): Promise<void> {\n        if (this.isAuthenticate()) {\n            return;\n        }\n        AWS.config.region = AwsCognitoService.REGION;\n        if (deviceId !== undefined) {\n            this.storage.save('device', { id: deviceId }, SaveType.Session);\n            AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n                IdentityPoolId: AwsCognitoService.IDENTITY_POOL_ID,\n                IdentityId: deviceId\n            });\n        } else {\n            AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n                IdentityPoolId: AwsCognitoService.IDENTITY_POOL_ID\n            });\n        }\n        this.credentials = (<AWS.CognitoIdentityCredentials>AWS.config.credentials);\n        await this.credentials.getPromise();\n    }\n\n    /**\n     * 認証確認\n     * @method isAuthenticate\n     * @returns {boolean}\n     */\n    public isAuthenticate(): boolean {\n        return (this.credentials !== undefined\n            && this.credentials.identityId !== undefined\n            && this.credentials.identityId.length > 0);\n    }\n\n    /**\n     * レコード更新\n     * @param {string} datasetName\n     * @param {value} value\n     * @returns {Promise<any>}\n     */\n    public async updateRecords(args: {\n        datasetName: string;\n        value: any;\n    }): Promise<any> {\n        if (this.credentials === undefined) {\n            throw new Error('credentials is undefined');\n        }\n        await this.credentials.getPromise();\n        const cognitoSync = new AWS.CognitoSync({\n            credentials: this.credentials\n        });\n        const listRecords = await cognitoSync.listRecords({\n            DatasetName: args.datasetName,\n            IdentityId: this.credentials.identityId,\n            IdentityPoolId: AwsCognitoService.IDENTITY_POOL_ID,\n            LastSyncCount: 0\n        }).promise();\n        if (listRecords.DatasetSyncCount === undefined\n            || listRecords.SyncSessionToken === undefined) {\n            throw new Error('listRecords: Records or DatasetSyncCount or SyncSessionToken is undefined');\n        }\n        if (listRecords.Records === undefined) {\n            listRecords.Records = [];\n        }\n        args.value.updateAt = moment().toISOString();\n        const mergeValue = this.convertToObjects(listRecords.Records);\n        Object.assign(mergeValue, args.value);\n\n        const updateRecords = await cognitoSync.updateRecords({\n            DatasetName: args.datasetName,\n            IdentityId: this.credentials.identityId,\n            IdentityPoolId: AwsCognitoService.IDENTITY_POOL_ID,\n            SyncSessionToken: listRecords.SyncSessionToken,\n            RecordPatches: this.convertToRecords(mergeValue, listRecords.DatasetSyncCount)\n        }).promise();\n        if (updateRecords.Records === undefined) {\n            updateRecords.Records = [];\n        }\n\n        return this.convertToObjects(updateRecords.Records);\n    }\n\n    /**\n     * レコード取得\n     * @param {string} datasetName\n     * @returns {Promise<any>}\n     */\n    public async getRecords(args: { datasetName: string; }): Promise<any> {\n        if (this.credentials === undefined) {\n            throw new Error('credentials is undefined');\n        }\n        await this.credentials.getPromise();\n        const cognitoSync = new AWS.CognitoSync({\n            credentials: this.credentials\n        });\n        const listRecords = await cognitoSync.listRecords({\n            DatasetName: args.datasetName,\n            IdentityId: this.credentials.identityId,\n            IdentityPoolId: AwsCognitoService.IDENTITY_POOL_ID,\n            LastSyncCount: 0\n        }).promise();\n        if (listRecords.Records === undefined) {\n            listRecords.Records = [];\n        }\n        // console.log('getRecords', this.convertToObjects(listRecords.Records));\n\n        return (<any>this.convertToObjects(listRecords.Records));\n    }\n\n    /**\n     * レコードの形式へ変換\n     * @param {any} value\n     * @param {number} count\n     * @returns {{ Key: string; Op: string; SyncCount: number; Value: string; }[]}\n     */\n    private convertToRecords(value: any, count: number): {\n        Key: string;\n        Op: string;\n        SyncCount: number;\n        Value: string;\n    }[] {\n        return Object.keys(value).map((key: string) => {\n            return {\n                Key: key,\n                Op: 'replace',\n                SyncCount: count,\n                Value: JSON.stringify(value[key])\n            };\n        });\n    }\n\n    /**\n     * オブジェクトの形式へ変換\n     * @param {any[]} records\n     * @param {number} count\n     * @returns {Object}\n     */\n    private convertToObjects(records: any[]): Object {\n        const result: any = {};\n        records.forEach((record: {\n            Key: string;\n            Op: string;\n            SyncCount: number;\n            Value: string;\n        }) => {\n            result[record.Key] = JSON.parse(record.Value);\n        });\n\n        return result;\n    }\n\n}\n","/**\n * CallNativeService\n */\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CallNativeService {\n\n    constructor() { }\n\n    /**\n     * @method postMessage\n     * @param data {any}\n     */\n    private postMessage(data: any) {\n        const TARGET_VIEW = 'mainView';\n        try {\n            const json: string = JSON.stringify(data);\n            (<any>window).wizViewMessenger.postMessage(json, TARGET_VIEW);\n        } catch (err) {\n            console.error(err);\n        }\n    }\n\n    /**\n     * inAppBrowser呼び出し\n     * @method postMessage\n     * @param args {IinAppBrowserArgs}\n     */\n    public inAppBrowser(args: IinAppBrowserArgs) {\n        try {\n            const data = {\n                method: 'inAppBrowser',\n                option: args\n            };\n            this.postMessage(data);\n        } catch (err) {\n            console.error(err);\n        }\n    }\n\n    /**\n     * localNotification呼び出し\n     * @method localNotification\n     * @param args {IlocalNotificationArgs}\n     */\n    public localNotification(args: IlocalNotificationArgs) {\n        try {\n            const data = {\n                method: 'localNotification',\n                option: args\n            };\n            this.postMessage(data);\n        } catch (err) {\n            console.error(err);\n        }\n    }\n}\n\n/**\n * URLの読み込み先として使用するブラウザーの種別。\n */\nexport enum InAppBrowserTarget {\n    /**\n     * ホワイトリストに対象の URL が登録されている場合には、Cordova WebView を開きます。それ以外の場合には、InAppBrowser を開きます。\n     */\n    Self = '_self',\n    /**\n     * InAppBrowser を開きます。\n     */\n    Blank = '_blank',\n    /**\n     * システム標準の Web ブラウザー ( system’s web browser ) を開きます。\n     */\n    System = '_system'\n}\n\n/**\n * IinAppBrowserArgs\n */\nexport interface IinAppBrowserArgs {\n    /**\n     * URL\n     */\n    url: string;\n    /**\n     * URLの読み込み先として使用するブラウザーの種別（デフォルトはシステム標準の Web ブラウザー）\n     */\n    target?: InAppBrowserTarget;\n}\n\n/**\n * localNotificationArgs\n */\nexport interface IlocalNotificationArgs {\n    /**\n     * ID\n     */\n    id: number;\n    /**\n     * タイトル\n     */\n    title: string;\n    /**\n     * テキスト\n     */\n    text: string;\n    /**\n     * 通知トリガー\n     */\n    trigger?: {\n        /**\n         * 通知を送る時間（ISO）\n         */\n        at: string\n    };\n    /**\n     * アイコンの画像パス\n     */\n    icon?: string;\n    /**\n     * スモールアイコンの画像パス\n     */\n    smallIcon?: string;\n    /**\n     * 前面表示（デフォルトは前面表示しない）\n     */\n    foreground?: boolean;\n}\n\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Injectable()\nexport class ErrorService {\n    public errorDetail: any;\n\n    constructor(private router: Router) { }\n\n    public redirect(error: any) {\n        console.error(error);\n        this.errorDetail = error;\n        this.router.navigate(['/error']);\n    }\n\n}\n","export * from './aws-cognito/aws-cognito.service';\nexport * from './call-native/call-native.service';\nexport * from './error/error.service';\nexport * from './member-guard/member-guard.service';\nexport * from './purchase/purchase.service';\nexport * from './purchase-guard/purchase-guard.service';\nexport * from './sasaki/sasaki.service';\nexport * from './storage/storage.service';\nexport * from './test-guard/test-guard.service';\nexport * from './user/user.service';\nexport * from './util/util.service';\n","import { Injectable } from '@angular/core';\nimport { CanActivate } from '@angular/router';\nimport { ErrorService } from '../error/error.service';\nimport { UserService } from '../user/user.service';\n\n@Injectable()\nexport class MemberGuardService implements CanActivate {\n\n    constructor(\n        private user: UserService,\n        private error: ErrorService\n    ) { }\n\n    /**\n     * 認証\n     * @method canActivate\n     */\n    public async canActivate() {\n        if (!this.user.isMember()) {\n            this.error.redirect(new Error('非会員で使用することはできません。'));\n\n            return false;\n        }\n\n        return true;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport * as moment from 'moment';\nimport { PurchaseService } from '../purchase/purchase.service';\n\n@Injectable()\nexport class PurchaseGuardService implements CanActivate {\n\n    constructor(\n        private router: Router,\n        private purchase: PurchaseService\n    ) { }\n\n    public canActivate(): boolean {\n        if (this.purchase.data === undefined\n            || this.purchase.data.transaction === undefined) {\n            // console.log('transaction is undefined');\n            this.router.navigate(['/error']);\n\n            return false;\n        }\n        const expires = moment(this.purchase.data.transaction.expires).unix();\n        if (expires < moment().unix()) {\n            // console.log('transaction is expired');\n            this.router.navigate(['/expired']);\n\n            return false;\n        }\n\n        return true;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport * as COA from '@motionpicture/coa-service';\nimport * as mvtkReserve from '@motionpicture/mvtk-reserve-service';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as moment from 'moment';\nimport { environment } from '../../../environments/environment';\nimport { convertToKatakana, getPurchaseCompletionAppEmail, getPurchaseCompletionEmail } from '../../functions';\nimport { TimeFormatPipe } from '../../pipes/time-format/time-format.pipe';\nimport { AwsCognitoService } from '../aws-cognito/aws-cognito.service';\nimport { CallNativeService } from '../call-native/call-native.service';\nimport { SasakiService } from '../sasaki/sasaki.service';\nimport { SaveType, StorageService } from '../storage/storage.service';\nimport { UserService } from '../user/user.service';\n\ndeclare const ga: Function;\n\nexport type ISalesTicketResult = COA.services.reserve.ISalesTicketResult;\ntype IUnauthorizedCardOfMember = factory.paymentMethod.paymentCard.creditCard.IUnauthorizedCardOfMember;\ntype IUncheckedCardTokenized = factory.paymentMethod.paymentCard.creditCard.IUncheckedCardTokenized;\n\nexport interface IPurchaseData {\n    /**\n     * 取引\n     */\n    transaction?: factory.transaction.placeOrder.ITransaction;\n    /**\n     * 上映イベント\n     */\n    screeningEvent?: factory.chevre.event.screeningEvent.IEvent;\n    /**\n     * 劇場ショップ\n     */\n    seller?: factory.seller.IOrganization<factory.seller.IAttributes<factory.organizationType>>;\n    /**\n     * 販売可能チケット情報\n     */\n    salesTickets: ISalesTicketResult[];\n    /**\n     * 予約座席\n     */\n    seatReservationAuthorization?: factory.action.authorize.offer.seatReservation.IAction<factory.service.webAPI.Identifier.COA>;\n    /**\n     * 予約座席(仮)\n     */\n    tmpSeatReservationAuthorization?: factory.action.authorize.offer.seatReservation.IAction<factory.service.webAPI.Identifier.COA>;\n    /**\n     * オーダー回数\n     */\n    orderCount: number;\n    /**\n     * GMOトークンオブジェクト\n     */\n    gmoTokenObject?: IGmoTokenObject;\n    /**\n     * 支払いクレジットカード\n     */\n    paymentCreditCard?: IUnauthorizedCardOfMember | IUncheckedCardTokenized;\n    /**\n     * クレジットカードエラー\n     */\n    isCreditCardError: boolean;\n    /**\n     * 決済情報（クレジット）\n     */\n    creditCardAuthorization?: {\n        id: string;\n    };\n    /**\n     * 購入者情報\n     */\n    customerContact?: factory.person.IProfile;\n    /**\n     * ムビチケ券種情報\n     */\n    mvtkTickets: IMvtkTicket[];\n    /**\n     * ムビチケ使用情報\n     */\n    mvtkAuthorization?: {\n        id: string;\n    };\n    /**\n     * インセンティブ情報\n     */\n    pecorinoAwardAuthorization?: {\n        id: string;\n    };\n    /**\n     * インセンティブ\n     */\n    incentive: number;\n    /**\n     * ポイント券種情報\n     */\n    pointTickets: COA.services.master.ITicketResult[];\n}\n\nexport interface IGmoTokenObject {\n    token: string;\n    toBeExpiredAt: string;\n    maskedCardNo: string;\n    isSecurityCodeSet: boolean;\n}\n\nexport interface IMvtkTicket {\n    mvtkTicketcodeResult: COA.services.master.IMvtkTicketcodeResult;\n    knyknrNoInfo: mvtkReserve.services.auth.purchaseNumberAuth.IPurchaseNumberInfo;\n    ykknInfo: mvtkReserve.services.auth.purchaseNumberAuth.IValidTicket;\n    input?: {\n        knyknrNo: string;\n        pinCd: string;\n    };\n}\n\n/**\n * インセンティブ\n */\nenum Incentive {\n    WatchingMovies = 1\n}\n\n@Injectable()\nexport class PurchaseService {\n\n    public data: IPurchaseData;\n\n    constructor(\n        private storage: StorageService,\n        private sasaki: SasakiService,\n        private awsCognito: AwsCognitoService,\n        private callNative: CallNativeService,\n        private user: UserService\n    ) {\n        this.load();\n    }\n\n    /**\n     * 読み込み\n     * @method load\n     */\n    public load() {\n        const data: IPurchaseData | null = this.storage.load('purchase', SaveType.Session);\n        if (data === null) {\n            this.data = {\n                salesTickets: [],\n                mvtkTickets: [],\n                pointTickets: [],\n                orderCount: 0,\n                incentive: 0,\n                isCreditCardError: false\n            };\n\n            return;\n        }\n        this.data = data;\n    }\n\n    /**\n     * 保存\n     * @method save\n     */\n    public save() {\n        this.storage.save('purchase', this.data, SaveType.Session);\n    }\n\n    /**\n     * リセット\n     * @method reset\n     */\n    public reset() {\n        this.data = {\n            salesTickets: [],\n            mvtkTickets: [],\n            pointTickets: [],\n            orderCount: 0,\n            incentive: 0,\n            isCreditCardError: false\n        };\n        this.save();\n    }\n\n    /**\n     * 顧客名取得（カタカナ）\n     */\n    public getCustomerName() {\n        if (this.data.customerContact === undefined) {\n            return '';\n        }\n        return convertToKatakana(`${this.data.customerContact.familyName} ${this.data.customerContact.givenName}`);\n    }\n\n    /**\n     * 期限切れ\n     * @method isExpired\n     */\n    public isExpired() {\n        if (this.data.transaction === undefined) {\n            throw new Error('status is different');\n        }\n        const expires = moment(this.data.transaction.expires).unix();\n        const now = moment().unix();\n        let result = false;\n        if (expires < now) {\n            result = true;\n        }\n\n        return result;\n    }\n\n    /**\n     * 販売可能時間判定\n     * @method isSalseTime\n     * @param {factory.chevre.event.screeningEvent.IEvent} screeningEvent\n     * @returns {boolean}\n     */\n    public isSalseTime(screeningEvent: factory.chevre.event.screeningEvent.IEvent): boolean {\n        const END_TIME = 30; // 30分前\n\n        return (moment().unix() < moment(screeningEvent.startDate).subtract(END_TIME, 'minutes').unix());\n    }\n\n    /**\n     * 販売可能判定\n     * @method isSalse\n     * @param {factory.chevre.event.screeningEvent.IEvent} screeningEvent\n     * @returns {boolean}\n     */\n    public isSalse(screeningEvent: factory.chevre.event.screeningEvent.IEvent): boolean {\n        if (screeningEvent.offers === undefined) {\n            return false;\n        }\n\n        return (moment(screeningEvent.offers.validFrom).unix() <= moment().unix());\n    }\n\n    /**\n     * 劇場名取得\n     * @method getTheaterName\n     * @returns {string}\n     */\n    public getTheaterName(): string {\n        if (this.data.screeningEvent === undefined) {\n            return '';\n        }\n        const screeningEvent = this.data.screeningEvent;\n\n        return screeningEvent.superEvent.location.name.ja;\n    }\n\n    /**\n     * スクリーン名取得\n     * @method getScreenName\n     * @returns {string}\n     */\n    public getScreenName(): string {\n        if (this.data.screeningEvent === undefined) {\n            return '';\n        }\n        const screeningEvent = this.data.screeningEvent;\n\n        return screeningEvent.location.name.ja;\n    }\n\n    /**\n     * 作品名取得\n     * @method getTitle\n     * @returns {string}\n     */\n    public getTitle(): string {\n        if (this.data.screeningEvent === undefined) {\n            return '';\n        }\n        const screeningEvent = this.data.screeningEvent;\n\n        return screeningEvent.name.ja;\n    }\n\n    /**\n     * 鑑賞日取得\n     * @method getAppreciationDate\n     * @returns {string}\n     */\n    public getAppreciationDate(): string {\n        if (this.data.screeningEvent === undefined) {\n            return '';\n        }\n        const screeningEvent = this.data.screeningEvent;\n        moment.locale('ja');\n\n        return moment(screeningEvent.startDate).format('YYYY年MM月DD日(ddd)');\n    }\n\n    /**\n     * 上映開始時間取得\n     * @method getStartDate\n     * @returns {string}\n     */\n    public getStartDate(): string {\n        const screeningEvent = this.data.screeningEvent;\n        if (screeningEvent === undefined\n            || screeningEvent.coaInfo === undefined) {\n            return '';\n        }\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            screeningEvent.startDate,\n            screeningEvent.coaInfo.dateJouei\n        );\n    }\n\n    /**\n     * 上映終了取得\n     * @method getEndDate\n     * @returns {string}\n     */\n    public getEndDate(): string {\n        const screeningEvent = this.data.screeningEvent;\n        if (screeningEvent === undefined\n            || screeningEvent.coaInfo === undefined) {\n            return '';\n        }\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            screeningEvent.endDate,\n            screeningEvent.coaInfo.dateJouei\n        );\n    }\n\n    /**\n     * 合計金額計算\n     * @method getTotalPrice\n     */\n    public getTotalPrice(): number {\n        let result = 0;\n        if (this.data.seatReservationAuthorization === undefined) {\n            return result;\n        }\n        this.data.seatReservationAuthorization.object.acceptedOffer.forEach((offer) => {\n            const ticketInfo = <any>offer.ticketInfo;\n            // const spseatAdd1 = (ticketInfo.spseatAdd1 === undefined) ? 0 : ticketInfo.spseatAdd1;\n            const spseatAdd2 = (ticketInfo.spseatAdd2 === undefined) ? 0 : ticketInfo.spseatAdd2;\n            result += (offer.ticketInfo.salePrice + spseatAdd2);\n        });\n\n        return result;\n    }\n\n    /**\n     * ムビチケ合計金額計算\n     * @method getTotalPrice\n     */\n    public getMvtkTotalPrice(): number {\n        let result = 0;\n        if (this.data.seatReservationAuthorization === undefined) {\n            return result;\n        }\n        this.data.seatReservationAuthorization.object.acceptedOffer.forEach((offer: any) => {\n            result += offer.ticketInfo.mvtkSalesPrice;\n        });\n\n        return result;\n    }\n\n    /**\n     * メンバーズの券種コード取得\n     * @method getMemberTicketCode\n     * @returns {string[]}\n     */\n    public getMemberTicketCode(): string[] {\n        if (this.data.screeningEvent === undefined) {\n            return [];\n        }\n        const branchCode = (this.data.seller !== undefined && this.data.seller.location !== undefined)\n            ? this.data.seller.location.branchCode : undefined;\n        const memberTicket = environment.MEMBER_TICKET.find((data) => data.THEATER === branchCode);\n        if (memberTicket === undefined) {\n            return [];\n        }\n        return memberTicket.TICKET_CODE;\n    }\n\n    /**\n     * ムビチケ対応作品判定\n     * @method isUsedMvtk\n     * @returns {boolean}\n     */\n    public isUsedMvtk(): boolean {\n        if (this.data.screeningEvent === undefined) {\n            return false;\n        }\n        const today = moment().format('YYYYMMDD');\n        const coaInfo = this.data.screeningEvent.superEvent.coaInfo;\n\n        return (coaInfo !== undefined\n            && coaInfo.flgMvtkUse === '1'\n            && coaInfo.dateMvtkBegin !== undefined\n            && Number(coaInfo.dateMvtkBegin) <= Number(today));\n    }\n\n    /**\n     * ポイント対応作品判定\n     * @method isUsedPoint\n     * @returns {boolean}\n     */\n    public isUsedPoint(): boolean {\n        if (this.data.salesTickets.length === 0\n            || this.data.screeningEvent === undefined) {\n            return false;\n        }\n\n        const screeningEvent = this.data.screeningEvent;\n\n        const pointInfo = environment.POINT_TICKET.find((ticket) => {\n            return (screeningEvent.coaInfo !== undefined\n                && ticket.THEATER === screeningEvent.coaInfo.theaterCode);\n        });\n\n        if (pointInfo === undefined) {\n            return false;\n        }\n\n        const pointTicketCodeList = pointInfo.TICKET_CODE;\n\n        const pointTickets = this.data.salesTickets.filter((salesTicket) => {\n            const ticketCode = pointTicketCodeList.find((pointTicketcode) => {\n                return pointTicketcode === salesTicket.ticketCode;\n            });\n\n            return ticketCode !== undefined;\n        });\n\n        return pointTickets.length > 0;\n    }\n\n    /**\n     * ポイントでの予約判定\n     * @method isReserveMvtk\n     * @returns {boolean}\n     */\n    public isReserveMvtk(): boolean {\n        if (this.data.seatReservationAuthorization === undefined) {\n            return false;\n        }\n        const findResult = this.data.seatReservationAuthorization.object.acceptedOffer.find((offer: any) => {\n            return (offer.ticketInfo.mvtkNum !== '');\n        });\n        return (findResult !== undefined);\n    }\n\n    /**\n     * インセンティブ判定\n     * @method isIncentive\n     * @returns {boolean}\n     */\n    public isIncentive(): boolean {\n        if (this.data.seatReservationAuthorization === undefined) {\n            return false;\n        }\n        const pointTickets: COA.services.master.ITicketResult[] = [];\n        this.data.seatReservationAuthorization.object.acceptedOffer.forEach((offer: any) => {\n            const pointTicket = this.data.pointTickets.find((ticket) => {\n                return (ticket.ticketCode === offer.ticketInfo.ticketCode);\n            });\n            if (pointTicket !== undefined) {\n                pointTickets.push(pointTicket);\n            }\n        });\n\n        return (pointTickets.length !== this.data.seatReservationAuthorization.object.acceptedOffer.length);\n    }\n\n    /**\n     * ポイントでの予約判定\n     * @method isReservePoint\n     * @returns {boolean}\n     */\n    public isReservePoint(): boolean {\n        let result = false;\n        if (this.data.seatReservationAuthorization === undefined\n            || this.data.pointTickets.length === 0) {\n            return result;\n        }\n        for (const offer of this.data.seatReservationAuthorization.object.acceptedOffer) {\n            const pointTickets = this.data.pointTickets.filter((ticket) => {\n                return (ticket.ticketCode === offer.ticketInfo.ticketCode);\n            });\n            if (pointTickets.length > 0) {\n                result = true;\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * ムビチケ着券情報取得\n     * @method getMvtkSeatInfoSync\n     */\n    public getMvtkSeatInfoSync(options?: {\n        deleteFlag?: string\n        reservedDeviceType?: string\n    }) {\n        if (this.data.seatReservationAuthorization === undefined\n            || this.data.seatReservationAuthorization.result === undefined\n            || this.data.screeningEvent === undefined\n            || this.data.mvtkTickets === undefined) {\n            throw new Error('status is different');\n        }\n        const mvtkPurchaseNoInfoList: mvtkReserve.services.seat.seatInfoSync.IKnyknrNoInfo[] = [];\n        const mvtkseat: { zskCd: string; }[] = [];\n\n        for (const offer of this.data.seatReservationAuthorization.object.acceptedOffer) {\n            const mvtkTicket = this.data.mvtkTickets.find((ticket) => {\n                return (ticket.knyknrNoInfo.knyknrNo === offer.ticketInfo.mvtkNum\n                    && ticket.mvtkTicketcodeResult.ticketCode === offer.ticketInfo.ticketCode);\n            });\n            if (mvtkTicket === undefined || mvtkTicket.input === undefined) {\n                continue;\n            }\n            const mvtkPurchaseNoInfo = mvtkPurchaseNoInfoList.find((info) => {\n                return (info.knyknrNo === mvtkTicket.knyknrNoInfo.knyknrNo);\n            });\n            if (mvtkPurchaseNoInfo !== undefined) {\n                const knshInfo = mvtkPurchaseNoInfo.knshInfo.find((info) => {\n                    return (info.knshTyp === mvtkTicket.ykknInfo.ykknshTyp);\n                });\n                if (knshInfo !== undefined) {\n                    knshInfo.miNum += 1;\n                } else {\n                    mvtkPurchaseNoInfo.knshInfo.push({\n                        knshTyp: mvtkTicket.ykknInfo.ykknshTyp,\n                        miNum: 1\n                    });\n                }\n            } else {\n                mvtkPurchaseNoInfoList.push({\n                    knyknrNo: mvtkTicket.knyknrNoInfo.knyknrNo,\n                    pinCd: mvtkTicket.input.pinCd,\n                    knshInfo: [{\n                        knshTyp: mvtkTicket.ykknInfo.ykknshTyp,\n                        miNum: 1\n                    }]\n                });\n            }\n            mvtkseat.push({ zskCd: offer.seatNumber });\n        }\n        if (mvtkPurchaseNoInfoList.length === 0 || mvtkseat.length === 0) {\n            throw new Error('status is different');\n        }\n        const DIGITS = -2;\n        const coaInfo = this.data.screeningEvent.coaInfo;\n        if (coaInfo === undefined) {\n            throw new Error('coaInfo is undefined');\n        }\n        const day = moment(coaInfo.dateJouei).format('YYYY/MM/DD');\n        const time = `${new TimeFormatPipe().transform(this.data.screeningEvent.startDate, coaInfo.dateJouei)}:00`;\n        const tmpReserveNum = (<any>this.data.seatReservationAuthorization.result.responseBody).tmpReserveNum;\n        const systemReservationNumber = `${coaInfo.dateJouei}${tmpReserveNum}`;\n        const siteCode = String(Number(`00${coaInfo.theaterCode}`.slice(DIGITS)));\n        const deleteFlag = (options === undefined || options.deleteFlag === undefined) ? '0' : options.deleteFlag;\n        const reservedDeviceType = (options === undefined || options.reservedDeviceType === undefined) ? '02' : options.reservedDeviceType;\n        const skhnCd = `${coaInfo.titleCode}${`00${coaInfo.titleBranchNum}`.slice(DIGITS)}`;\n\n        return {\n            kgygishCd: environment.MVTK_COMPANY_CODE,\n            yykDvcTyp: reservedDeviceType,\n            trkshFlg: deleteFlag,\n            kgygishSstmZskyykNo: systemReservationNumber,\n            kgygishUsrZskyykNo: String(tmpReserveNum),\n            jeiDt: `${day} ${time}`,\n            kijYmd: day,\n            stCd: siteCode,\n            screnCd: coaInfo.screenCode,\n            knyknrNoInfo: mvtkPurchaseNoInfoList,\n            zskInfo: mvtkseat,\n            skhnCd: skhnCd\n        };\n    }\n\n    /**\n     * 取引開始処理\n     * @method transactionStartProcess\n     */\n    public async transactionStartProcess(args: {\n        passportToken: string;\n        screeningEvent: factory.chevre.event.screeningEvent.IEvent\n    }) {\n        // 購入データ削除\n        this.reset();\n        this.data.screeningEvent = args.screeningEvent;\n        await this.sasaki.getServices();\n        if (this.data.screeningEvent.superEvent.location === undefined\n            || this.data.screeningEvent.superEvent.location.branchCode === undefined) {\n            throw new Error('branchCode is undefined');\n        }\n        const branchCode = this.data.screeningEvent.superEvent.location.branchCode;\n        // 劇場のショップを検索\n        const searchResult = await this.sasaki.seller.search({\n            location: { branchCodes: [branchCode] }\n        });\n        this.data.seller = searchResult.data[0];\n        this.save();\n        await this.sasaki.getServices();\n        // 取引期限\n        const expires = moment().add(environment.TRANSACTION_TIME, 'minutes').toDate();\n        // 取引開始\n        this.data.transaction = await this.sasaki.transaction.placeOrder.start({\n            expires: expires,\n            seller: {\n                typeOf: this.data.seller.typeOf,\n                id: this.data.seller.id\n            },\n            object: { passport: { token: args.passportToken } }\n        });\n        this.save();\n    }\n\n    /**\n     * 座席開放処理\n     * @method cancelSeatRegistrationProcess\n     */\n    public async cancelSeatRegistrationProcess() {\n        if (this.data.tmpSeatReservationAuthorization === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        await this.sasaki.transaction.placeOrder.cancelSeatReservationAuthorization({\n            id: this.data.tmpSeatReservationAuthorization.id,\n            purpose: this.data.tmpSeatReservationAuthorization.purpose\n        });\n        this.data.tmpSeatReservationAuthorization = undefined;\n        this.reset();\n    }\n\n    /**\n     * 座席登録処理\n     * @method seatRegistrationProcess\n     */\n    public async seatRegistrationProcess(offers: factory.offer.seatReservation.IOffer[]) {\n        if (this.data.transaction === undefined\n            || this.data.screeningEvent === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        // 予約中なら座席削除\n        if (this.data.tmpSeatReservationAuthorization !== undefined) {\n            try {\n                await this.sasaki.transaction.placeOrder.cancelSeatReservationAuthorization({\n                    id: this.data.tmpSeatReservationAuthorization.id,\n                    purpose: this.data.tmpSeatReservationAuthorization.purpose\n                });\n            } catch (error) {\n                console.error(error);\n            }\n            this.data.tmpSeatReservationAuthorization = undefined;\n            this.save();\n        }\n        // 座席登録\n        this.data.tmpSeatReservationAuthorization =\n            await this.sasaki.transaction.placeOrder.createSeatReservationAuthorization({\n                object: {\n                    event: {\n                        id: this.data.screeningEvent.id\n                    },\n                    acceptedOffer: offers\n                },\n                purpose: {\n                    id: this.data.transaction.id,\n                    typeOf: this.data.transaction.typeOf\n                }\n            });\n        this.data.orderCount = 0;\n        this.data.seatReservationAuthorization = undefined;\n        this.save();\n    }\n\n    /**\n     * 券種登録処理\n     * @method ticketRegistrationProcess\n     */\n    public async ticketRegistrationProcess(offers: factory.offer.seatReservation.IOffer[]) {\n        if (this.data.transaction === undefined\n            || this.data.tmpSeatReservationAuthorization === undefined\n            || this.data.screeningEvent === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        // console.log('changeSeatReservationArgs', changeSeatReservationArgs);\n        this.data.seatReservationAuthorization =\n            await this.sasaki.transaction.placeOrder.changeSeatReservationOffers({\n                id: this.data.tmpSeatReservationAuthorization.id,\n                object: {\n                    event: {\n                        id: this.data.screeningEvent.id\n                    },\n                    acceptedOffer: offers\n                },\n                purpose: {\n                    id: this.data.transaction.id,\n                    typeOf: this.data.transaction.typeOf\n                }\n            });\n        if (this.data.seatReservationAuthorization === undefined) {\n            throw new Error('status is different');\n        }\n        if (this.data.creditCardAuthorization !== undefined) {\n            // クレジットカード登録済みなら削除\n            await this.sasaki.payment.voidTransaction({\n                id: this.data.creditCardAuthorization.id,\n                object: {\n                    typeOf: factory.chevre.paymentMethodType.CreditCard\n                },\n                purpose: {\n                    id: this.data.transaction.id,\n                    typeOf: this.data.transaction.typeOf\n                }\n            });\n            this.data.creditCardAuthorization = undefined;\n            this.save();\n        }\n        this.save();\n    }\n\n    /**\n     * 購入者情報登録処理\n     * @method customerContactRegistrationProcess\n     */\n    public async customerContactRegistrationProcess(customerContact: factory.transaction.placeOrder.ICustomerProfile) {\n        if (this.data.transaction === undefined) {\n            throw new Error('transaction is undefined');\n        }\n        await this.sasaki.getServices();\n        // 入力情報を登録\n        this.data.customerContact = await this.sasaki.transaction.placeOrder.setCustomerContact({\n            id: this.data.transaction.id,\n            object: { customerContact }\n        });\n        if (this.user.isNative() && !this.user.isMember()) {\n            try {\n                const updateRecordsArgs = {\n                    datasetName: 'profile',\n                    value: {\n                        familyName: (customerContact.familyName === undefined) ? '' : convertToKatakana(customerContact.familyName),\n                        givenName: (customerContact.givenName === undefined) ? '' : convertToKatakana(customerContact.givenName),\n                        email: (customerContact.email === undefined) ? '' : customerContact.email,\n                        telephone: (customerContact.telephone === undefined) ? '' : customerContact.telephone,\n                    }\n                };\n                await this.awsCognito.updateRecords(updateRecordsArgs);\n            } catch (err) {\n                console.error(err);\n            }\n        }\n\n        this.save();\n    }\n\n    /**\n     * クレジットカード支払い処理\n     */\n    public async creditCardPaymentProcess() {\n        if (this.data.transaction === undefined\n            || this.data.paymentCreditCard === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        if (this.data.creditCardAuthorization !== undefined) {\n            // クレジットカード登録済みなら削除\n            await this.sasaki.payment.voidTransaction({\n                id: this.data.creditCardAuthorization.id,\n                object: {\n                    typeOf: factory.chevre.paymentMethodType.CreditCard\n                },\n                purpose: {\n                    id: this.data.transaction.id,\n                    typeOf: this.data.transaction.typeOf\n                }\n            });\n            this.data.creditCardAuthorization = undefined;\n            this.save();\n        }\n        // クレジットカード登録\n        const METHOD_LUMP: any = '1';\n        this.data.creditCardAuthorization = await this.sasaki.payment.authorizeCreditCard({\n            object: {\n                typeOf: factory.paymentMethodType.CreditCard,\n                // orderId: this.createOrderId(),\n                method: METHOD_LUMP,\n                creditCard: this.data.paymentCreditCard,\n                amount: this.getTotalPrice()\n            },\n            purpose: {\n                id: this.data.transaction.id,\n                typeOf: this.data.transaction.typeOf\n            }\n        });\n        this.save();\n    }\n\n    // /**\n    //  * オーダーID生成\n    //  * @method createOrderId\n    //  */\n    // private createOrderId() {\n    //     if (this.data.seatReservationAuthorization === undefined\n    //         || this.data.seatReservationAuthorization.result === undefined\n    //         || this.data.screeningEvent === undefined) {\n    //         throw new Error('status is different');\n    //     }\n    //     const DIGITS = {\n    //         '02': -2,\n    //         '08': -8\n    //     };\n    //     const orderCount = `00${this.data.orderCount}`.slice(DIGITS['02']);\n    //     const tmpReserveNum =\n    //         `00000000${this.data.seatReservationAuthorization.result.updTmpReserveSeatResult.tmpReserveNum}`.slice(DIGITS['08']);\n    //     const theaterCode = this.data.screeningEvent.coaInfo.theaterCode;\n    //     const reserveDate = moment().format('YYYYMMDD');\n    //     this.data.orderCount += 1;\n    //     // オーダーID 予約日 + 劇場ID(3桁) + 予約番号(8桁) + オーソリカウント(2桁)\n    //     return `${reserveDate}${theaterCode}${tmpReserveNum}${orderCount}`;\n    // }\n\n    /**\n     * インセンティブ処理\n     */\n    public async incentiveProcess() {\n        if (this.data.transaction === undefined\n            || this.user.data.account === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        this.data.pecorinoAwardAuthorization = await this.sasaki.transaction.placeOrder.createPecorinoAwardAuthorization({\n            purpose: {\n                id: this.data.transaction.id,\n                typeOf: this.data.transaction.typeOf\n            },\n            object: {\n                amount: Incentive.WatchingMovies,\n                toAccountNumber: this.user.data.account.typeOfGood.accountNumber,\n                notes: '鑑賞'\n            }\n        });\n        this.data.incentive = Incentive.WatchingMovies;\n    }\n\n    /**\n     * ポイント決済処理\n     */\n    public async pointPaymentProcess() {\n        if (this.data.transaction === undefined\n            || this.user.data.account === undefined\n            || this.data.seatReservationAuthorization === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        const ticketNames = [];\n        let usePoint = 0;\n        for (const offer of this.data.seatReservationAuthorization.object.acceptedOffer) {\n            const pointTicket = this.data.pointTickets.find((ticket) => {\n                return (ticket.ticketCode === offer.ticketInfo.ticketCode);\n            });\n            if (pointTicket === undefined) {\n                continue;\n            }\n            ticketNames.push(`${offer.ticketInfo.ticketName} 引換`);\n            usePoint += pointTicket.usePoint;\n        }\n\n        const notes = ticketNames.join(',');\n\n        await this.sasaki.payment.authorizeAccount({\n            object: {\n                typeOf: factory.paymentMethodType.Account,\n                amount: usePoint,\n                fromAccount: this.user.data.account.typeOfGood,\n                notes\n            },\n            purpose: {\n                id: this.data.transaction.id,\n                typeOf: this.data.transaction.typeOf\n            }\n        });\n    }\n\n    /**\n     * 購入登録処理\n     */\n    public async purchaseRegistrationProcess() {\n        const transaction = this.data.transaction;\n        const screeningEvent = this.data.screeningEvent;\n        const seller = this.data.seller;\n        const seatReservationAuthorization = this.data.seatReservationAuthorization;\n        const customerContact = this.data.customerContact;\n        const userName = this.sasaki.userName;\n        if (transaction === undefined\n            || screeningEvent === undefined\n            || seller === undefined\n            || seatReservationAuthorization === undefined\n            || customerContact === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        if (this.isReserveMvtk()) {\n            // ムビチケ使用\n            const mvtksSatInfoSyncArgs = this.getMvtkSeatInfoSync();\n            await this.sasaki.mvtksSatInfoSync(mvtksSatInfoSyncArgs);\n        }\n        let order;\n        try {\n            if (this.isReserveMvtk()) {\n                // 決済方法として、ムビチケを追加する\n                this.data.mvtkAuthorization =\n                    await this.sasaki.transaction.placeOrder.createMvtkAuthorization({\n                        purpose: {\n                            id: transaction.id,\n                            typeOf: transaction.typeOf\n                        },\n                        object: {\n                            typeOf: factory.action.authorize.discount.mvtk.ObjectType.Mvtk,\n                            price: this.getMvtkTotalPrice(),\n                            seatInfoSyncIn: this.getMvtkSeatInfoSync()\n                        }\n                    });\n            }\n            // 取引確定\n            order = await this.sasaki.transaction.placeOrder.confirm({\n                id: transaction.id,\n                options: {\n                    sendEmailMessage: true,\n                    email: {\n                        sender: {\n                            email: 'noreply@ticket-cinemasunshine.com'\n                        },\n                        template: (this.user.isMember())\n                            ? getPurchaseCompletionAppEmail({\n                                seller, screeningEvent, customerContact, seatReservationAuthorization, userName\n                            })\n                            : getPurchaseCompletionEmail({ seller, screeningEvent, customerContact, seatReservationAuthorization })\n                    }\n                }\n            });\n        } catch (err) {\n            if (this.isReserveMvtk()) {\n                await this.cancelMvtksSatInfoSync(0);\n            }\n            throw err;\n        }\n\n        const complete = {\n            order: order,\n            transaction: this.data.transaction,\n            seller: this.data.seller,\n            incentive: this.data.incentive\n        };\n        this.storage.save('complete', complete, SaveType.Session);\n\n        try {\n            // Google Analytics\n            const sendData = {\n                hitType: 'event',\n                eventCategory: 'purchase',\n                eventAction: 'complete',\n                eventLabel: `conversion-${screeningEvent.superEvent.location.branchCode}`\n            };\n            ga('send', sendData);\n        } catch (err) {\n            console.error(err);\n        }\n\n        if (this.user.isNative() && !this.user.isMember()) {\n            // アプリ非会員ならCognitoへ登録\n            try {\n                const reservationRecord = await this.awsCognito.getRecords({\n                    datasetName: 'reservation'\n                });\n                if (reservationRecord.orders === undefined) {\n                    reservationRecord.orders = [];\n                }\n                reservationRecord.orders.push(order);\n                (<factory.order.IOrder[]>reservationRecord.orders).forEach((recordOrder, index) => {\n                    const itemOffered = recordOrder.acceptedOffers[0].itemOffered;\n                    if (itemOffered.typeOf !== factory.chevre.reservationType.EventReservation) {\n                        return;\n                    }\n                    const endDate = moment(itemOffered.reservationFor.endDate).unix();\n                    const limitDate = moment().subtract(1, 'month').unix();\n                    if (endDate < limitDate) {\n                        reservationRecord.orders.splice(index, 1);\n                    }\n                });\n                const updateRecordsArgs = {\n                    datasetName: 'reservation',\n                    value: reservationRecord\n                };\n                await this.awsCognito.updateRecords(updateRecordsArgs);\n            } catch (err) {\n                console.error('awsCognito: updateRecords', err);\n            }\n        }\n        // プッシュ通知登録\n        if (this.user.isNative()) {\n            try {\n                const itemOffered = order.acceptedOffers[0].itemOffered;\n                if (itemOffered.typeOf !== factory.chevre.reservationType.EventReservation) {\n                    throw new Error('itemOffered.typeOf is not EventReservation');\n                }\n                const reservationFor = itemOffered.reservationFor;\n                const localNotificationArgs = {\n                    id: Number(order.orderNumber.replace(/\\-/g, '')), // ID\n                    title: '鑑賞時間が近づいています。', // タイトル\n                    text: '劇場 / スクリーン: ' + reservationFor.superEvent.location.name.ja + '/' + reservationFor.location.name.ja + '\\n' +\n                        '作品名: ' + reservationFor.name.ja + '\\n' +\n                        '上映開始: ' + moment(reservationFor.startDate).format('YYYY/MM/DD HH:mm'), // テキスト\n                    trigger: {\n                        at: moment(reservationFor.startDate).subtract(30, 'minutes').toISOString() // 通知を送る時間（ISO）\n                    },\n                    foreground: true // 前面表示（デフォルトは前面表示しない）\n                };\n                this.callNative.localNotification(localNotificationArgs);\n            } catch (err) {\n                console.error(err);\n            }\n        }\n\n        // 購入情報削除\n        this.reset();\n    }\n\n    /**\n     * ムビチケ着券取り消し\n     */\n    public async cancelMvtksSatInfoSync(count: number) {\n        // console.log('cancelMvtksSatInfoSync', count);\n        try {\n            // ムビチケ使用なら削除\n            const deleteFlag = '1';\n            const mvtksSatInfoSyncArgs = this.getMvtkSeatInfoSync({\n                deleteFlag: deleteFlag\n            });\n            await this.sasaki.mvtksSatInfoSync(mvtksSatInfoSyncArgs);\n        } catch (err) {\n            const limit = 3;\n            if (count > limit) {\n                throw err;\n            }\n            await this.cancelMvtksSatInfoSync(count + 1);\n        }\n\n    }\n\n    /**\n     * ムビチケ認証処理\n     */\n    public async mvtkAuthenticationProcess(mvtkInputDataList: {\n        knyknrNo: string;\n        pinCd: string;\n    }[]) {\n        if (this.data.screeningEvent === undefined\n            || this.data.screeningEvent.coaInfo === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        const DIGITS = -2;\n        const coaInfo = this.data.screeningEvent.coaInfo;\n        const valid = '1';\n        const purchaseNumberAuthArgs = {\n            kgygishCd: environment.MVTK_COMPANY_CODE,\n            jhshbtsCd: <any>valid,\n            knyknrNoInfoIn: mvtkInputDataList,\n            skhnCd: coaInfo.titleCode + `00${coaInfo.titleBranchNum}`.slice(DIGITS),\n            stCd: Number(coaInfo.theaterCode.slice(DIGITS)).toString(),\n            jeiYmd: moment(coaInfo.dateJouei).format('YYYY/MM/DD')\n        };\n        const mvtkPurchaseNumberAuthResult = await this.sasaki.mvtkPurchaseNumberAuth(purchaseNumberAuthArgs);\n        const success = 'N000';\n        if (mvtkPurchaseNumberAuthResult.resultInfo.status !== success\n            || mvtkPurchaseNumberAuthResult.ykknmiNumSum === null\n            || mvtkPurchaseNumberAuthResult.ykknmiNumSum === 0\n            || mvtkPurchaseNumberAuthResult.knyknrNoInfoOut === null) {\n            throw new Error('mvtkPurchaseNumberAuth error');\n        }\n        const results = [];\n        for (const knyknrNoInfo of mvtkPurchaseNumberAuthResult.knyknrNoInfoOut) {\n            if (knyknrNoInfo.ykknInfo === null) {\n                continue;\n            }\n            for (const ykknInfo of knyknrNoInfo.ykknInfo) {\n                const mvtkTicketcodeArgs = {\n                    theaterCode: coaInfo.theaterCode,\n                    kbnDenshiken: knyknrNoInfo.dnshKmTyp,\n                    kbnMaeuriken: knyknrNoInfo.znkkkytsknGkjknTyp,\n                    kbnKensyu: ykknInfo.ykknshTyp,\n                    salesPrice: Number(ykknInfo.knshknhmbiUnip),\n                    appPrice: Number(ykknInfo.kijUnip),\n                    kbnEisyahousiki: ykknInfo.eishhshkTyp,\n                    titleCode: coaInfo.titleCode,\n                    titleBranchNum: coaInfo.titleBranchNum,\n                    dateJouei: coaInfo.dateJouei\n                };\n                const mvtkTicketcodeResult = await this.sasaki.mvtkTicketcode(mvtkTicketcodeArgs);\n                // console.log('mvtkTicketcodeResult', mvtkTicketcodeResult);\n                const data = {\n                    mvtkTicketcodeResult: mvtkTicketcodeResult,\n                    knyknrNoInfo: knyknrNoInfo,\n                    ykknInfo: ykknInfo,\n                    input: mvtkInputDataList.find((mvtkInputData) => {\n                        return (mvtkInputData.knyknrNo === knyknrNoInfo.knyknrNo);\n                    })\n                };\n                results.push(data);\n            }\n        }\n        this.data.mvtkTickets = results;\n        this.save();\n    }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport * as COA from '@motionpicture/coa-service';\nimport * as mvtkReserve from '@motionpicture/mvtk-reserve-service';\nimport * as sasaki from '@motionpicture/sskts-api-javascript-client';\nimport 'rxjs/add/operator/toPromise';\nimport { environment } from '../../../environments/environment';\nimport { IPurchaseData } from '../purchase/purchase.service';\nimport { SaveType, StorageService } from '../storage/storage.service';\nimport { IUserData } from '../user/user.service';\n\n@Injectable()\nexport class SasakiService {\n    public auth: sasaki.IImplicitGrantClient;\n    public event: sasaki.service.Event;\n    public order: sasaki.service.Order;\n    public seller: sasaki.service.Seller;\n    public person: sasaki.service.Person;\n    public payment: sasaki.service.Payment;\n    public ownershipInfo: sasaki.service.person.OwnershipInfo;\n    public transaction: {\n        placeOrder: sasaki.service.transaction.PlaceOrder\n    };\n    private endpoint: string;\n    public userName: string;\n\n    constructor(\n        private http: HttpClient,\n        private storage: StorageService\n    ) { }\n\n    /**\n     * getServices\n     */\n    public async getServices(): Promise<void> {\n        try {\n            const option = await this.createOption();\n            this.event = new sasaki.service.Event(option);\n            this.order = new sasaki.service.Order(option);\n            this.seller = new sasaki.service.Seller(option);\n            this.person = new sasaki.service.Person(option);\n            this.payment = new sasaki.service.Payment(option);\n            this.ownershipInfo = new sasaki.service.person.OwnershipInfo(option);\n            this.transaction = {\n                placeOrder: new sasaki.service.transaction.PlaceOrder(option)\n            };\n        } catch (err) {\n            console.error(err);\n            throw new Error('getServices is failed');\n        }\n    }\n\n    /**\n     * @method createOption\n     */\n    public async createOption() {\n        await this.authorize();\n        return {\n            endpoint: this.endpoint,\n            auth: this.auth\n        };\n    }\n\n    /**\n     * @method authorize\n     */\n    public async authorize() {\n        const user: IUserData | null = this.storage.load('user', SaveType.Session);\n        const purchase: IPurchaseData | null = this.storage.load('purchase', SaveType.Session);\n        const clientId = (user === null) ? undefined : user.clientId;\n        const member = (user === null) ? undefined : user.memberType;\n        const url = '/api/authorize/getCredentials';\n        const branchCode = (purchase === null || purchase.seller === undefined || purchase.seller.location === undefined)\n            ? undefined : purchase.seller.location.branchCode;\n        const body = { clientId, member, branchCode };\n        const result = await this.http.post<{\n            credentials: { accessToken: string; };\n            clientId: string;\n            endpoint: string;\n            userName: string;\n        }>(url, body).toPromise();\n        const option = {\n            domain: '',\n            clientId: result.clientId,\n            redirectUri: '',\n            logoutUri: '',\n            responseType: '',\n            scope: '',\n            state: '',\n            nonce: null,\n            tokenIssuer: ''\n        };\n        this.auth = sasaki.createAuthInstance(option);\n        this.auth.setCredentials(result.credentials);\n        this.endpoint = result.endpoint;\n        this.userName = result.userName;\n    }\n\n    /**\n     * サインイン\n     */\n    public async signIn() {\n        const url = '/api/authorize/signIn';\n        const user = this.storage.load('user', SaveType.Session);\n        const clientId = user.clientId;\n        const body = { clientId };\n        const result = await this.http.post<{ url: string; }>(url, body).toPromise();\n        // console.log(result.url);\n        location.href = result.url;\n    }\n\n    /**\n     * ムビチケ照会\n     * @param {mvtkReserve.services.auth.purchaseNumberAuth.IPurchaseNumberAuthIn} args\n     */\n    public async mvtkPurchaseNumberAuth(\n        args: mvtkReserve.services.auth.purchaseNumberAuth.IPurchaseNumberAuthIn\n    ) {\n        const url = `${environment.API_ENDPOINT}/api/purchase/mvtkPurchaseNumberAuth`;\n\n        return this.http.post<mvtkReserve.services.auth.purchaseNumberAuth.IPurchaseNumberAuthResult>(url, args).toPromise();\n    }\n\n    /**\n     * ムビチケ座席指定情報連携\n     * @param {mvtkReserve.services.seat.seatInfoSync.ISeatInfoSyncIn} args\n     */\n    public async mvtksSatInfoSync(\n        args: mvtkReserve.services.seat.seatInfoSync.ISeatInfoSyncIn\n    ) {\n        const url = `${environment.API_ENDPOINT}/api/purchase/mvtksSatInfoSync`;\n\n\n        return this.http.post<mvtkReserve.services.seat.seatInfoSync.ISeatInfoSyncResult>(url, args).toPromise();\n    }\n\n    /**\n     * 座席ステータス取得\n     * @param {COA.services.reserve.IStateReserveSeatArgs} args\n     */\n    public async getSeatState(\n        args: COA.services.reserve.IStateReserveSeatArgs\n    ) {\n        const url = `${environment.API_ENDPOINT}/api/purchase/getSeatState`;\n\n        return this.http.get<COA.services.reserve.IStateReserveSeatResult>(url, {\n            params: <any>args\n        }).toPromise();\n    }\n\n    /**\n     * ムビチケチケットコード取得\n     * @param {COA.services.master.IMvtkTicketcodeArgs} args\n     */\n    public async mvtkTicketcode(\n        args: COA.services.master.IMvtkTicketcodeArgs\n    ) {\n        const url = `${environment.API_ENDPOINT}/api/purchase/mvtkTicketcode`;\n        const result = await this.http.post<COA.services.master.IMvtkTicketcodeResult>(url, args).toPromise();\n        // 暫定的に対応\n        if ((<any>result).name === 'COAServiceError') {\n            throw new Error('COAServiceError');\n        }\n\n        return result;\n    }\n\n    /**\n     * 券種取得\n     * @method getSalesTickets\n     * @param {COA.services.reserve.ISalesTicketArgs} args\n     */\n    public async getSalesTickets(\n        args: COA.services.reserve.ISalesTicketArgs\n    ) {\n        const url = `${environment.API_ENDPOINT}/api/master/getSalesTickets`;\n        return this.http.get<COA.services.reserve.ISalesTicketResult[]>(url, {\n            params: <any>args\n        }).toPromise();\n    }\n\n    /**\n     * 券種マスター一覧取得\n     * @method getTickets\n     * @param {COA.services.reserve.ITicketArgs} args\n     */\n    public async getTickets(\n        args: COA.services.master.ITicketArgs\n    ) {\n        const url = `${environment.API_ENDPOINT}/api/master/getTickets`;\n        return this.http.get<COA.services.master.ITicketResult[]>(url, {\n            params: <any>args\n        }).toPromise();\n    }\n\n}\n","/**\n * StorageService\n */\nimport { Injectable } from '@angular/core';\nimport * as moment from 'moment';\n\nexport enum SaveType {\n    /**\n     * セッションへ保存\n     */\n    Session = 0,\n    /**\n     * ローカルへ保存\n     */\n    Local = 1\n}\n\n@Injectable()\nexport class StorageService {\n\n    constructor() {}\n\n    public load(key: string, saveType?: SaveType): any {\n        const storage = (saveType === SaveType.Session) ? sessionStorage : localStorage;\n        const value = storage.getItem(key);\n\n        return (value !== null) ? JSON.parse(value) : null;\n    }\n\n    public save(key: string, value: any, saveType?: SaveType): void {\n        value.updateAt = moment().toISOString();\n        const storage = (saveType === SaveType.Session) ? sessionStorage : localStorage;\n        try {\n            storage.setItem(key, JSON.stringify(value));\n        } catch (err) {\n            console.error('StorageService.save', err);\n        }\n    }\n\n    public remove(key: string, saveType?: SaveType): void {\n        const storage = (saveType === SaveType.Session) ? sessionStorage : localStorage;\n        storage.removeItem(key);\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { environment } from '../../../environments/environment';\n\n@Injectable()\nexport class TestGuardService implements CanActivate {\n\n    constructor(\n        private router: Router\n    ) { }\n\n    public canActivate(): boolean {\n        if (environment.production) {\n            this.router.navigate(['/error']);\n\n            return false;\n        }\n\n        return true;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport { SasakiService } from '../sasaki/sasaki.service';\nimport { SaveType, StorageService } from '../storage/storage.service';\n\ntype IAccount = factory.ownershipInfo.IOwnershipInfo<factory.pecorino.account.IAccount<factory.accountType>>;\n\n/**\n * ネイティブアプリフラグ\n */\nenum NativeAppFlg {\n    /**\n     * 非ネイティブアプリ\n     */\n    NotNative = '0',\n    /**\n     * ネイティブアプリ\n     */\n    Native = '1'\n}\n\n/**\n * 会員用フラグ\n */\nexport enum FlgMember {\n    /**\n     * 非会員\n     */\n    NonMember = '0',\n    /**\n     * 会員\n     */\n    Member = '1',\n}\n\nexport interface IUserData {\n    native: NativeAppFlg;\n    memberType: FlgMember;\n    profile?: factory.person.IProfile;\n    creditCards?: factory.paymentMethod.paymentCard.creditCard.ICheckedCard[];\n    accessToken?: string;\n    account?: IAccount;\n    clientId?: string;\n}\n\n@Injectable()\nexport class UserService {\n    public data: IUserData;\n\n    constructor(\n        private storage: StorageService,\n        private sasaki: SasakiService\n    ) {\n        this.load();\n        this.save();\n    }\n\n    /**\n     * 読み込み\n     * @method load\n     */\n    public load() {\n        const data: IUserData | null = this.storage.load('user', SaveType.Session);\n        if (data === null) {\n            this.data = {\n                native: NativeAppFlg.NotNative,\n                memberType: FlgMember.NonMember\n            };\n\n            return;\n        }\n        this.data = data;\n    }\n\n    /**\n     * 保存\n     * @method save\n     */\n    public save() {\n        this.storage.save('user', this.data, SaveType.Session);\n    }\n\n    /**\n     * リセット\n     * @method reset\n     */\n    public reset() {\n        this.data = {\n            native: NativeAppFlg.NotNative,\n            memberType: FlgMember.NonMember\n        };\n        this.save();\n    }\n\n    /**\n     * 会員初期化\n     */\n    public async initMember() {\n        this.data.memberType = FlgMember.Member;\n        this.save();\n        await this.sasaki.getServices();\n        // 連絡先取得\n        const profile = await this.sasaki.person.getProfile({\n            personId: 'me'\n        });\n        if (profile === undefined) {\n            throw new Error('profile is undefined');\n        }\n        this.data.profile = profile;\n\n        try {\n            // クレジットカード検索\n            const creditCards = await this.sasaki.ownershipInfo.searchCreditCards({\n                id: 'me'\n            });\n            this.data.creditCards = creditCards;\n        } catch (err) {\n            console.error(err);\n            this.data.creditCards = [];\n        }\n\n        // 口座検索\n        const searchResult =\n            await this.sasaki.ownershipInfo.search<factory.ownershipInfo.AccountGoodType.Account>({\n                sort: {\n                    ownedFrom: factory.sortType.Ascending\n                },\n                typeOfGood: {\n                    typeOf: factory.ownershipInfo.AccountGoodType.Account,\n                    accountType: factory.accountType.Point\n                }\n            });\n        const accounts =\n            searchResult.data.filter((a) => {\n                return (a.typeOfGood.status === factory.pecorino.accountStatusType.Opened);\n            });\n        if (accounts.length === 0) {\n            // 口座開設\n            const openResult = await this.sasaki.ownershipInfo.openAccount({\n                name: `${this.data.profile.familyName} ${this.data.profile.givenName}`,\n                accountType: factory.accountType.Point\n            });\n            this.data.account = openResult;\n        } else {\n            this.data.account = accounts[0];\n        }\n        // console.log('口座番号', this.data.account.accountNumber);\n\n        this.save();\n    }\n\n    /**\n     * クレジットカード登録判定\n     */\n    public isRegisteredCreditCards() {\n        return (this.data.creditCards !== undefined\n            && this.data.creditCards.length > 0);\n    }\n\n    /**\n     * ネイティブアプリ判定\n     */\n    public isNative() {\n        return (this.data.native === NativeAppFlg.Native);\n    }\n\n    /**\n     * 会員判定\n     */\n    public isMember() {\n        return (this.data.memberType === FlgMember.Member);\n    }\n\n    /**\n     * ネイティブアプリ判定設定\n     */\n    public setNative(value?: string) {\n        this.data.native = (value === NativeAppFlg.Native)\n            ? NativeAppFlg.Native\n            : NativeAppFlg.NotNative;\n    }\n\n    /**\n     * クライアントID設定\n     */\n    public setClientId(value?: string) {\n        this.data.clientId = value;\n    }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class UtilService {\n\n    constructor() { }\n\n}\n","import { DEVELOPMENT_MEMBER_TICKET, DEVELOPMENT_POINT_TICKET } from './ticket';\n\nexport const environment = {\n    production: false,\n    PORTAL_SITE_URL: 'http://ssk-portal2018-frontend-win-test.azurewebsites.net',\n    APP_SITE_URL: 'https://sskts-ticket-test.azurewebsites.net',\n    API_ENDPOINT: '',\n    FRONTEND_ENDPOINT: 'https://sskts-frontend-test.azurewebsites.net',\n    ENTRANCE_SERVER_URL: 'https://d24x7394fq3aqi.cloudfront.net',\n    MVTK_COMPANY_CODE: 'SSK000',\n\n    COGNITO_REGION: 'ap-northeast-1', // identity poolのリージョンを指定する\n    COGNITO_IDENTITY_POOL_ID: 'ap-northeast-1:b153d3f1-5e67-468e-8c69-ab938cf3d21e', // identity poolのID(AWS consoleで確認)\n    COGNITO_USER_POOL_ID: '',\n    COGNITO_CLIENT_ID: '',\n    TOKEN_ISSUER: '',\n\n    POINT_TICKET: DEVELOPMENT_POINT_TICKET,\n\n    ANALYTICS_ID: 'UA-99018492-2',\n\n    MEMBER_TICKET: DEVELOPMENT_MEMBER_TICKET, // 毎週木曜1,100円鑑賞の購入枚数上限は1枚だけ\n\n    TRANSACTION_TIME: '10'\n};\n","const DEVELOPMENT_BASE_POINT_TICKET_CODE = [\n    '3800001',\n    '3800002',\n    '3900001',\n    '3900002'\n];\n\nexport const DEVELOPMENT_POINT_TICKET = [\n    { THEATER: '101', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '102', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '106', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '107', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '108', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '109', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '110', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '112', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '113', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '114', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '115', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '116', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '117', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '118', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] },\n    { THEATER: '119', TICKET_CODE: [...DEVELOPMENT_BASE_POINT_TICKET_CODE] }\n];\n\nconst PRODUCTION_BASE_POINT_TICKET_CODE = [\n    '4000011',\n    '4000012',\n    '4000013',\n    '4000021',\n    '4000022',\n    '4000023'\n];\n\nexport const PRODUCTION_POINT_TICKET = [\n    { THEATER: '001', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '002', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '006', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '007', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '008', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '009', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '010', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '012', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '013', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '014', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '015', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '016', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '017', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '018', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] },\n    { THEATER: '019', TICKET_CODE: [...PRODUCTION_BASE_POINT_TICKET_CODE] }\n];\n\nconst DEVELOPMENT_BASE_MEMBER_TICKET_CODE = [\n    '3100011',　   // メンバーズ一般\n    '132',      　 // メンバースデイ\n    '3100021'   　 // メンバーズ大学生\n];\n\nexport const DEVELOPMENT_MEMBER_TICKET = [\n    { THEATER: '101', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '102', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '106', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '107', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '108', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '109', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '110', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '112', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '113', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '114', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '115', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '116', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '117', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '118', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '119', TICKET_CODE: [...DEVELOPMENT_BASE_MEMBER_TICKET_CODE] }\n];\n\nconst PRODUCTION_BASE_MEMBER_TICKET_CODE = [\n    '4000031',　   // ｱﾌﾟﾘ会員ﾃﾞｰ\n    '4000032',　   // ｱﾌﾟﾘ会員ﾃﾞｰ3D\n    '4000033'　    // ｱﾌﾟﾘ会員ﾃﾞｰ★3D\n];\n\nexport const PRODUCTION_MEMBER_TICKET = [\n    { THEATER: '001', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '002', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '006', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '007', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '008', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '009', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '010', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '012', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '013', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '014', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '015', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '016', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '017', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '018', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] },\n    { THEATER: '019', TICKET_CODE: [...PRODUCTION_BASE_MEMBER_TICKET_CODE] }\n];\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport * as moment from 'moment-timezone';\n\nmoment.tz.setDefault('Asia/Tokyo');\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","/* (ignored) */"],"sourceRoot":""}